<app-loader *ngIf="saveload"></app-loader>
<div class="col-lg-12 col-md-12 col-sm-6 col-xs-4 itemPadd">
  <div class="row">
    <!-- itemtype & element type -->
    <div class="col-lg-2 col-md-2 itemPadd fontSize" style="width: 100%;">
      <div class="leftAccordian">

        <div class="lefttab blue">
          <input id="tab-four" type="radio" name="tabs2" checked class="radioBtn" (click)="displayItemTypeLabel('false')">
          <label for="tab-four" class="margin">Item Types</label>
          <div class="tab-content itemCursor" >
              <p *ngFor="let data of itemType; let i=index" (click)="itemTypes(data,i,visible,changeItemTypeAlert)" [ngClass]="{'clicked' : selectedItemTypes === data,'disableDirective' : disableDirective == data,'disableotherItemType' : (directiveBlk == true  && directive_id !='' && directive_id !=0 && directive_id != undefined) ||(viewItemBlk == true && item_type!=6 && directive_id !='' && directive_id !=0 && directive_id != undefined) || (selectedItemTypes != data && isDirective != undefined)}" class="item_type_content">
                <i fa
              [ngClass]="{'fa-list-ul': data=='Multiple Choice', 'fa-adjust': data=='True or False',
            'fa-exchange': data=='Match','fa-minus': data=='Fill in','fa-file-text': data=='Free Text',
            'fa-th-list': data=='Directives','fa-upload': data == 'File Upload','fa-microphone':data == 'Audio Record', 'fa-file-video-o':data == 'Video Record'}"
              aria-hidden="true" ></i>&nbsp;
            <span>{{data}}</span>
            <!-- <span *ngIf="data !== 'Match'" style="float: right;">
              <i class="fa fa-info-circle" aria-hidden="true" (click)="showDescription(data,Itemdescription)"></i>
            </span> -->
            <ng-template #Itemdescription>

              <div class="">

                <div class="modal-header">
                  <p class="modalHead">Item Description</p>
                  <button type="button" class="" aria-label="Close" style="background: transparent;border: none;color: white;padding: 5px 10px;font-size: 16px;cursor:pointer;" (click)="modalRef.hide()">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body">
                  <div class="formAlign">
                    <p class="text-center">{{showItemDescription}}</p>

                  </div>
                  <div class="saveBtnPOPup">
                    <button class="btn btn-primary alertBtnCss" (click)="modalRef.hide()">Ok</button>
                  </div>
                </div>

            </div>

            </ng-template>
            </p>
          </div>
        </div>
        <p class="selectedItemType" *ngIf="showItemType == 'true'"> <i fa
          [ngClass]="{'fa-list-ul': selectedItemTypes=='Multiple Choice', 'fa-adjust': selectedItemTypes=='True or False',
        'fa-exchange': selectedItemTypes=='Match','fa-minus': selectedItemTypes=='Fill in','fa-file-text': selectedItemTypes=='Free Text',
        'fa-th-list': selectedItemTypes=='Directives','fa-upload': selectedItemTypes == 'File Upload','fa-microphone':selectedItemTypes == 'Audio Record', 'fa-file-video-o':selectedItemTypes == 'Video Record'}"
          aria-hidden="true" ></i>&nbsp;{{selectedItemTypes}}</p>
        <div class="lefttab blue">
          <input id="tab-five" type="radio" name="tabs2" class="radioBtn" (click)="displayItemTypeLabel('true')">
          <label for="tab-five" class="margin">Elements</label>
          <div class="tab-content">
            <!-- <p *ngFor="let elements of elementType" draggable [dragData]="elements" class="item_type_content drag" >
                <fa [name]=elements.icon></fa>&nbsp;{{elements.element}}
            </p> -->
            <div  id='left' [dragula]='"bag-one"'  [dragulaModel]='elementType'>
            <p *ngFor="let elements of elementType;let i=index" draggable [dragData]="elements"  class="item_type_content drag " >
              <fa [name]=elements.icon></fa>&nbsp;{{elements.element}}
            </p>
          </div>
          </div>
        </div>

      </div>
    </div>
    <!-- ques blk and ans blk -->
    <div class="col-lg-7 col-md-7 itemBlk fontSize">
        <div *ngFor="let alert of alerts" class="alertPOPup">
            <alert [type]="alert.type" [dismissOnTimeout]="alert.timeout" (onClosed)="onClosed(alert)">{{ alert.msg }}</alert>
          </div>
      <header>
        <label class="header" style="display: inline-flex;"><span *ngIf="pathDirect == 0">New Item</span><span *ngIf="pathDirect != 0">Edit Item</span>
          <p *ngIf="itemsetDet" [ngClass]="{'activeDirective' : itemsetDet != undefined}" (click)="goToItemset()" class="backToDirective"> &nbsp;- <a >{{itemsetDet.itemset_name}}  &nbsp;</a></p>
          <p *ngIf="directive_id != 0 && directive_id != undefined" [ngClass]="{'activeDirective' : directive_id != 0}" (click)="goToDirective()" class="backToDirective"> &nbsp;- <a >Directives  &nbsp;</a></p>
          <p [hidden]="itemCount == 0 || itemCount == undefined">&nbsp;- &nbsp;Items({{itemCount}}/{{itemCount}})</p>
        </label>
        <span *ngIf="cameFrom == true" (click)="goToPreURL()" style="float: right;clear: both;margin-right: 10px;margin-top: 9px;margin-left: 10px;color: #49a9db;font-weight: 500;cursor: pointer;">&lt; Back</span>
        <!-- <button type="button" class="btn btn-primary cursor savebtnTop" (click)="saveItem()" [hidden]="viewItemBlk == true">Save</button> -->
        <span *ngIf="showSaveASBtnFlag"><i class="fa fa-floppy-o cursor savebtnTop" aria-hidden="true" (click)="saveItem(sec_attr_0,sec_attr_1,sec_attr_2,sec_attr_3,sec_attr_4,sec_attr_5,sec_attr_6,sec_attr_7,sec_attr_8,sec_attr_9,sec_attr_10,sec_attr_11,sec_attr_12,sec_attr_13,sec_attr_14,sec_attr_15,sec_attr_16,sec_attr_17,sec_attr_18,sec_attr_19)" [hidden]="viewItemBlk == true" tooltip="Save" placement="bottom"></i></span>
        <span *ngIf="pathDirect == 3 || pathDirect == 4  || pathDirect == 14 || pathDirect == 20 || this.pathDirect == 19"><img src="../../../../../assets/img/Save-as.png" class="floppyImg savebtnTop" tooltip="save" placement="bottom" (click)="saveAsItem()" [hidden]="viewItemBlk == true" tooltip="save As" placement="bottom"></span>
        <p class="preview" (click)="showPreview()" tooltip="Preview" placement="bottom"><fa [name]="'eye'" [size]=1></fa></p>

        <button type="button" class="btn btn-primary exitDirec" (click)="exitDirective()" *ngIf="item_type == 6 || viewItemBlk == true">Exit Directive</button>
      </header>
      <!-- preview modal popup -->
      <div  *ngIf="showPreviewModal" class="preview_dialog">
        <img src="../../../../assets/img/previewImages/Test_03.jpg" style="width:100%">
        <img src="../../../../assets/img/previewImages/Test_05.jpg"  style="width:83%">
        <img src="assets/img/previewImages/Test_06.jpg" style="height:100%;float:right;width: 17%;">
        <div class="col-lg-1 ques_number" class="numbers" *ngIf="!viewItemBlk">
          <h6 style="text-align:center;">{{1}}</h6>
        </div>
        <!-- Question Block -->
        <div  *ngIf="(item_type == 1 || item_type == 2 || item_type == 5 || item_type == 7) && (directive_id == 0 ||directive_id == undefined)" class="preview_screen">
          <div *ngFor="let data of attributes?.item" class="display_margin">
            <p *ngIf="data.item_df_id == 1" [innerHTML]="this.sanitizer.bypassSecurityTrustHtml(data.data_format_value)">{{data.data_format_value}}</p>
            <img [src]="data.data_format_value" *ngIf="data.item_df_id == 6" style="width: 200px;height: 151px;" onError="this.onerror=null;this.src='../../../assets/img/no_image_available.jpeg';">
            <audio [src]="data.data_format_value" *ngIf="data.item_df_id == 10" controlsList="nodownload" controls width="400" height = "200" controls style="width: 238px;"></audio>
            <video [src]="data.data_format_value" *ngIf="data.item_df_id == 11" controlsList="nodownload" controls width="400" height = "200" controls style="width: 268px;"></video>
            <!-- list -->
            <div *ngIf="data.item_df_id == 8">
              <div *ngFor="let listArray of data.data_format_value">
                <div class="col-md-12" *ngFor="let listElements of listArray?.list_elements;let eltIndex = index">
                  <div class="row">
                    <div class="col-md-1 listLablePreview1">
                      <p class="listEltTxt" [ngClass]="{'listLabelDotPrev':listElements.list_label =='.'}" *ngIf="eltIndex == 0">{{listElements.list_label}}</p>
                    </div>
                    <div class="col-md-7">
                      <p class="listEltTxt" *ngIf="listElements.list_data_format_id == 1">{{listElements.list_value}}</p>
                      <img src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 6" class="ListImageSizePrev">
                      <audio src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 10"  controlsList="nodownload" controls width="400" height = "200" controls class="ListAudioSizePrev"></audio>
                      <video src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 11"  controlsList="nodownload" controls width="400" height = "200" controls class="ListVideoSizePrev"></video>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Table -->
            <div *ngIf="data.item_df_id== 7" style="width: 100%;margin: 20px 0px;" class="col-md-12">
              <div class="row">
                <div  style="padding-left: 4px;">
                  <table class="table"  [style.width.%]="data.table_format == 5 ? '50':100"  (mouseleave)="hideTableBtn()" [ngClass]="{'table-striped' :data.table_format == 3,'table-bordered' : (data.table_format == 2 || data.table_format == 4 || data.table_format == 5)}" >

                    <tbody>

                      <tr *ngFor="let row of data.data_format_value;let rowindex =index">

                        <td *ngFor="let col of row;let colIndex = index" [ngStyle]="{'border-color':data.table_color}" (mouseenter)="ShowTableBtn(colIndex,rowindex,col.header)" [ngClass]="{'tableHeadType':(data.available_headers =='column' || data.available_headers =='all') && col.header == 1 && (data.table_format == 2  || data.table_format == 5)}"><input type="text" autocomplete="off" class="form-control tblField" autocomplete="off" [(ngModel)]="col.table_value" [disabled]="col.table_value =='#'"  [ngClass]="{'tableHeadType':(data.available_headers =='column' || data.available_headers =='all') && col.header == 1 && (data.table_format == 2 || data.table_format == 5),'tableHeadHighlight': col.header == 1}" style="pointer-events:none;"></td>
                      </tr>

                    </tbody>
                  </table>
                </div>
              </div>
            </div>

          </div>
            <!-- Answer Block -->
          <div class='' *ngIf = "item_type == 1" style="margin-top: 20px;">
            <div *ngFor='let input of attributes?.answer_choices; let i = index;'>
                <div class="">
                    <div class="correct_options_block_preview">
                      <input name="input.correct_answer" class="selectValue" type="radio"  value={{input.correct_answer}} *ngIf="attributes.answer_type == 'Single Answer'">
                        <input name="input.correct_answer" class="selectValue" type="checkbox"  value={{input.correct_answer}} *ngIf="attributes.answer_type == 'Multiple Correct Answers'">
                    </div>
                </div>
                <div class="">
                    <div *ngFor="let data of input?.choice_elements; let id=index;">

                        <div *ngIf="data.answer_df_id== 1" style="margin-top: 4px;margin-left: 93px;"  [innerHTML]="this.sanitizer.bypassSecurityTrustHtml(data.data_format_value)">{{data.data_format_value}}</div><br>
                        <div *ngIf="data.answer_df_id== 6" style="margin-top: -23px;margin-bottom: 10px;margin-left: 87px;" ><img [src]="data.data_format_value" style="width: 84px;" onError="this.onerror=null;this.src='../../../assets/img/no_image_available.jpeg';"></div>
                        <!-- audio -->
                        <div *ngIf="data.answer_df_id == 10" style="margin-top: 4px;margin-left: 102px;">
                          <audio  controls  controlsList="nodownload"  style="width: 200px;margin-left: -18px; margin-top: -23px;" class="audiotag">
                            <source [src]="data.data_format_value" type="audio/mp3">
                          </audio>
                        </div>
                        <!-- video -->
                        <div *ngIf="data.answer_df_id == 11" style="margin-top: 4px;margin-left: 93px;">
                            <video controls controlsList="nodownload"  style="width: 173px;margin-top: -23px;" class="audiotag1">
                            <source [src]="data.data_format_value" type="video/mp4">
                            </video>
                        </div>
                    </div>
                </div>
            </div>
          </div>
          <div class='' *ngIf = "item_type == 2" style="margin-left: 27px;">
            <div *ngFor='let input of attributes?.answer_choices; let i = index;'>
                <div class="correct_options_block_TF">
                    <div class="correct_radio_button_TF">
                        <input name="input.correct_answer" type="radio"  value={{input.correct_answer}}/>&nbsp;
                        {{input.data_format_value}}
                    </div>
                </div>

            </div>
          </div>
          <!-- free text ans blk -->
          <div *ngIf="item_type == 5" class="col-md-6">
            <textarea class="form-control freetextarea" rows="8" cols="7"></textarea>
          </div>
          <!-- file upload ans blk -->
          <div *ngIf="item_type == 7" class="col-md-12" style="padding: 0px 54px;">
            <div class="fileuploadPrevRow" *ngFor="let file of attributes?.answer_choices;let d = index">
              <div class="">
                <p class="prevDesc"><b>Description {{d+1}}.</b>&nbsp;{{file.description}}</p>
              </div>
              <div class="" >
                <p style="margin:8px;" *ngFor="let type of file.sortedArray;let f= index"><b>Allowed File Type {{f+1}}.</b>&nbsp;{{type.format}} - <span *ngFor="let ext of type.value;let e= index">{{ext.itemName}}<span *ngIf="type.value.length > e+1">,</span></span></p>
              </div>
              <div class="fileUploadItemTypePrev btn btn-primary" >
                  <span>Choose File</span>
                <input type="file"  placeholder="Upload file" accept=".{{file.data_format_type}}" name="file" class="upload">
                <i class="fa fa-circle-o-notch fa-spin spinAV" *ngIf="spinAudioQB"></i>
              </div>

            </div>

          </div>

        </div>
        <!-- matchType 1 -->
        <div  *ngIf="(item_type == 3 && matchtypeSelected == 1) && (directive_id == 0 ||directive_id == undefined)" class="preview_screen">
            <div *ngFor="let data1 of attributes?.item" class="display_margin">
              <p *ngIf="data1.item_df_id == 1" [innerHTML]="this.sanitizer.bypassSecurityTrustHtml(data1.data_format_value)">{{data1.data_format_value}}</p>
              <img [src]="data1.data_format_value" *ngIf="data1.item_df_id == 6" style="width: 200px;height: 151px;" onError="this.onerror=null;this.src='../../../assets/img/no_image_available.jpeg';">
              <audio [src]="data1.data_format_value" *ngIf="data1.item_df_id == 10" width="400" height = "200" controlsList="nodownload" controls style="width:238px"></audio>
              <video [src]="data1.data_format_value" *ngIf="data1.item_df_id == 11" width="400" height = "200" controlsList="nodownload" controls style="width:268px"></video>
                <!-- list -->
              <div *ngIf="data1.item_df_id == 8">
                <div *ngFor="let listArray of data1.data_format_value">
                  <div class="col-md-12" *ngFor="let listElements of listArray?.list_elements;let eltIndex = index">
                    <div class="row">
                      <div class="col-md-1 listLablePreview1">
                        <p class="listEltTxt" [ngClass]="{'listLabelDotPrev':listElements.list_label =='.'}" *ngIf="eltIndex == 0">{{listElements.list_label}}</p>
                      </div>
                      <div class="col-md-7">
                        <p class="listEltTxt" *ngIf="listElements.list_data_format_id == 1">{{listElements.list_value}}</p>
                        <img src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 6" class="ListImageSizePrev">
                        <audio src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 10"  controlsList="nodownload" controls width="400" height = "200" controls class="ListAudioSizePrev"></audio>
                        <video src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 11"  controlsList="nodownload" controls width="400" height = "200" controls class="ListVideoSizePrev"></video>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
                <!-- Table -->
              <div *ngIf="data1.item_df_id== 7" style="width: 100%;margin: 20px 0px;" class="col-md-12">
                <div class="row">
                  <div  style="padding-left: 4px;">
                    <table class="table"  [style.width.%]="data1.table_format == 5 ? '50':100"  (mouseleave)="hideTableBtn()" [ngClass]="{'table-striped' :data1.table_format == 3,'table-bordered' : (data1.table_format == 2 || data1.table_format == 4 || data1.table_format == 5)}" >

                      <tbody>

                        <tr *ngFor="let row of data1.data_format_value;let rowindex =index">

                          <td *ngFor="let col of row;let colIndex = index" [ngStyle]="{'border-color':data1.table_color}" (mouseenter)="ShowTableBtn(colIndex,rowindex,col.header)" [ngClass]="{'tableHeadType':(data1.available_headers =='column' || data1.available_headers =='all') && col.header == 1 && (data1.table_format == 2  || data1.table_format == 5)}"><input type="text" autocomplete="off" class="form-control tblField" autocomplete="off"  [(ngModel)]="col.table_value" [disabled]="col.table_value =='#'"  [ngClass]="{'tableHeadType':(data1.available_headers =='column' || data1.available_headers =='all') && col.header == 1 && (data1.table_format == 2 || data1.table_format == 5),'tableHeadHighlight': col.header == 1}" style="pointer-events:none;"></td>
                        </tr>

                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
              <div *ngIf="data1.item_df_id == 9">
                  <div *ngFor='let input1 of data1?.data_format_value;let idn = index;'>
                      <div class="col-md-12" *ngIf="input1.match_data[0].matchValueArray[0].header == 1">
                        <div class="row">

                          <div class="" *ngFor='let data1 of input1?.match_data;let in=index' style="margin-right: 19px;">
                            <div *ngFor='let data of data1?.matchValueArray;'>
                                <div style="margin-top:5px;" class="input-group" [ngClass]="{'stmtMargin_Index' : in == 1}">
                                    <b><p *ngIf="data.match_data_format_id == 1" class="previewMatchStmt">{{data.match_value}}</p></b>
                                  </div>
                            </div>
                          </div>

                        </div>
                      </div>
                      <div class="col-md-12" *ngIf="input1.match_data[0].matchValueArray[0].header != 1">
                          <div class="row">

                            <div class="" *ngFor='let data2 of input1?.match_data;let in=index' style="margin-right: 19px;" >
                              <div *ngFor='let data of data2?.matchValueArray;'>
                                  <div style="margin-top:5px;" class="input-group" >
                                      <p *ngIf="data.match_data_format_id == 1 && in == 0 && data.match_value !='abc'" class="previewMatchStmt">{{data.match_value}}</p>

                                  </div>
                                  <div  *ngIf="in == 1 && input1?.match_data[0].matchValueArray[0].match_value !='abc'" style="margin-left: 67px;">
                                    <select  class="form-control" >
                                      <option [disabled]='true'>Select a Correct Answer</option>
                                      <option *ngFor="let input1 of data1?.data_format_value" [value]="input1.match_data[1].matchValueArray[0].match_value" [hidden]="input1.match_data[1].matchValueArray[0].header == 1"><P *ngIf="input1.match_data[1].matchValueArray[0].header != 1">{{input1.match_data[1].matchValueArray[0].match_value}}</P></option>
                                    </select>
                                  </div>
                              </div>

                            </div>

                          </div>
                        </div>
                    </div>
              </div>
            </div>

        </div>
        <!-- matchType 2 -->
        <div  *ngIf="(item_type == 3 && matchtypeSelected == 2) && (directive_id == 0 ||directive_id == undefined)" class="preview_screen">
          <div *ngFor="let data1 of attributes?.item" class="display_margin">
            <p *ngIf="data1.item_df_id == 1" [innerHTML]="this.sanitizer.bypassSecurityTrustHtml(data1.data_format_value)">{{data1.data_format_value}}</p>
            <img [src]="data1.data_format_value" *ngIf="data1.item_df_id == 6" style="width: 200px;height: 151px;" onError="this.onerror=null;this.src='../../../assets/img/no_image_available.jpeg';">
            <audio [src]="data1.data_format_value" *ngIf="data1.item_df_id == 10" width="400" height = "200" controlsList="nodownload" controls style="width:238px"></audio>
            <video [src]="data1.data_format_value" *ngIf="data1.item_df_id == 11" width="400" height = "200" controlsList="nodownload" controls style="width:268px"></video>
              <!-- list -->
              <div *ngIf="data1.item_df_id == 8">
                <div *ngFor="let listArray of data1.data_format_value">
                  <div class="col-md-12" *ngFor="let listElements of listArray?.list_elements;let eltIndex = index">
                    <div class="row">
                      <div class="col-md-1 listLablePreview1">
                        <p class="listEltTxt" [ngClass]="{'listLabelDotPrev':listElements.list_label =='.'}" *ngIf="eltIndex == 0">{{listElements.list_label}}</p>
                      </div>
                      <div class="col-md-7">
                        <p class="listEltTxt" *ngIf="listElements.list_data_format_id == 1">{{listElements.list_value}}</p>
                        <img src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 6" class="ListImageSizePrev">
                        <audio src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 10"  controlsList="nodownload" controls width="400" height = "200" controls class="ListAudioSizePrev"></audio>
                        <video src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 11"  controlsList="nodownload" controls width="400" height = "200" controls class="ListVideoSizePrev"></video>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
                <!-- Table -->
                <div *ngIf="data1.item_df_id== 7" style="width: 100%;margin: 20px 0px;" class="col-md-12">
                  <div class="row">
                    <div  style="padding-left: 4px;">
                      <table class="table"  [style.width.%]="data1.table_format == 5 ? '50':100"  (mouseleave)="hideTableBtn()" [ngClass]="{'table-striped' :data1.table_format == 3,'table-bordered' : (data1.table_format == 2 || data1.table_format == 4 || data1.table_format == 5)}" >

                        <tbody>

                          <tr *ngFor="let row of data1.data_format_value;let rowindex =index">

                            <td *ngFor="let col of row;let colIndex = index" [ngStyle]="{'border-color':data1.table_color}" (mouseenter)="ShowTableBtn(colIndex,rowindex,col.header)" [ngClass]="{'tableHeadType':(data1.available_headers =='column' || data1.available_headers =='all') && col.header == 1 && (data1.table_format == 2  || data1.table_format == 5)}"><input type="text" autocomplete="off" class="form-control tblField" [(ngModel)]="col.table_value" [disabled]="col.table_value =='#'"  [ngClass]="{'tableHeadType':(data1.available_headers =='column' || data1.available_headers =='all') && col.header == 1 && (data1.table_format == 2 || data1.table_format == 5),'tableHeadHighlight': col.header == 1}" style="pointer-events:none;"></td>
                          </tr>

                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>
            <div *ngIf="data1.item_df_id == 9">
              <div *ngFor='let input1 of data1?.data_format_value;let idn = index;'>
                  <div class="col-md-12" *ngIf="input1.match_data[0].matchValueArray[0].header == 1">
                    <div class="row">

                      <div class="" *ngFor='let data1 of input1?.match_data;let in=index' style="margin-right: 19px;">
                        <div *ngFor="let data of data1?.matchValueArray">
                          <div style="margin-top:5px;width:100%" class="input-group" [ngClass]="{'stmtMargin_Index' : in == 1}">
                              <b><p *ngIf="data.match_data_format_id == 1" class="previewMatchStmt">{{data.match_value}}</p></b>
                              <img [src]="data.match_value" *ngIf="data.match_data_format_id == 6" style="width: 197px;height: 105px;">
                                <audio width="400" height = "200" controls  *ngIf="data.match_data_format_id == 10" style="width: 202px;">
                                  <source [src]="data.match_value" type="audio/mp3">
                                </audio>
                              <video width="400" height = "200" controls *ngIf="data.match_data_format_id == 11" style="width: 196px;margin-top: -38px;">
                                <source [src]="data.match_value" type="video/mp4">
                              </video>
                          </div>
                        </div>
                      </div>

                    </div>
                  </div>
                    <div class="col-md-12" *ngIf="input1.match_data[0].matchValueArray[0].header != 1" style="margin-top: 11px;">
                      <div class="row">

                        <div class="" *ngFor='let data1 of input1?.match_data;let in=index' style="margin-right: 19px;" >
                          <div *ngFor = "let data of data1?.matchValueArray">
                            <div style="margin-top:5px;width:100%" class="input-group" >
                                <p *ngIf="data.match_data_format_id == 1 && in == 0 && data.match_value !='abc'" class="previewMatchStmt">{{data.match_value}}</p>
                                <img [src]="data.match_value" *ngIf="data.match_data_format_id == 6 && in == 0" style="width: 197px;height: 105px;">
                                  <audio width="400" height = "200" controls controlsList="nodownload" *ngIf="data.match_data_format_id == 10 && in == 0" style="width: 202px;">
                                    <source [src]="data.match_value" type="audio/mp3">
                                  </audio>
                                <video width="400" height = "200" controls controlsList="nodownload" *ngIf="data.match_data_format_id == 11 && in == 0" style="width: 196px;height: 100px;">
                                  <source [src]="data.match_value" type="video/mp4">
                                </video>
                            </div>
                            <div  *ngIf="in == 1 && input1?.match_data[0].match_value !='abc'" class="" [ngClass]="{'nonElements': input1?.match_data[0].match_data_format_id==10 }">
                              <div *ngFor= "let value of arrayToDrag;let a=index">
                              <!-- <input type="text" autocomplete="off" class="form-control" [dragula]='"fifth-bag"' [dragulaModel]="arrayToDrag" *ngIf="a==idn-1"> -->
                              <div [dragula]='"fifth-bag"' [dragulaModel]="arrayToDrag" [dragulaOptions]="options1" class="dropArea" *ngIf="a==idn-1" [ngClass]="{'matchLastOptionPool':value.hiddenObj == true}"></div>
                              </div>
                            </div>
                          </div>
                        </div>

                      </div>
                    </div>

              </div>
                <!-- pool of answers -->
                <div class="col-lg-6 pool-answer-margin" [dragula]='"fifth-bag"' [dragulaOptions]="options1">
                  <div class=" col-lg-6" *ngFor = "let input1 of data1?.data_format_value" style="display:inline-flex;margin-top: 8px;" [hidden]="input1.match_data[1].matchValueArray[0].header == 1">
                    <p  class="pool_answers drag" *ngIf="input1.match_data[1].matchValueArray[0].match_data_format_id ==1">{{input1.match_data[1].matchValueArray[0].match_value}}</p>
                    <img [src]="input1.match_data[1].matchValueArray[0].match_value" class="pool_answers drag" *ngIf="input1.match_data[1].matchValueArray[0].match_data_format_id ==6" style="width: 163px;height: 102px;">
                    <audio width="400" height = "200" controls controlsList="nodownload" class="pool_answers drag" *ngIf="input1.match_data[1].matchValueArray[0].match_data_format_id ==10" style="width: 202px;">
                      <source [src]="input1.match_data[1].matchValueArray[0].match_value" type="audio/mp3">
                    </audio>
                    <video width="400" height = "200" controls controlsList="nodownload" class="pool_answers drag" *ngIf="input1.match_data[1].matchValueArray[0].match_data_format_id ==11" style="width: 196px;height:103px;">
                      <source [src]="input1.match_data[1].matchValueArray[0].match_value" type="video/mp4">
                      </video>
                  </div>
                </div>
            </div>
          </div>

        </div>
        <!-- matchType 3 -->
        <div  *ngIf="(item_type == 3 && matchtypeSelected == 3) && (directive_id == 0 ||directive_id == undefined)" class="preview_screen">
            <div *ngFor="let data1 of attributes?.item" class="display_margin">
              <p *ngIf="data1.item_df_id == 1" [innerHTML]="this.sanitizer.bypassSecurityTrustHtml(data1.data_format_value)">{{data1.data_format_value}}</p>
              <img [src]="data1.data_format_value" *ngIf="data1.item_df_id == 6" style="width: 200px;height: 151px;" onError="this.onerror=null;this.src='../../../assets/img/no_image_available.jpeg';">
              <audio [src]="data1.data_format_value" *ngIf="data1.item_df_id == 10" width="400" height = "200" controlsList="nodownload" controls style="width:238px"></audio>
              <video [src]="data1.data_format_value" *ngIf="data1.item_df_id == 11" width="400" height = "200" controlsList="nodownload" controls style="width:268px"></video>
                <!-- list -->
                <div *ngIf="data1.item_df_id == 8">
                  <div *ngFor="let listArray of data1.data_format_value">
                    <div class="col-md-12" *ngFor="let listElements of listArray?.list_elements;let eltIndex = index">
                      <div class="row">
                        <div class="col-md-1 listLablePreview1">
                          <p class="listEltTxt" [ngClass]="{'listLabelDotPrev':listElements.list_label =='.'}" *ngIf="eltIndex == 0">{{listElements.list_label}}</p>
                        </div>
                        <div class="col-md-7">
                          <p class="listEltTxt" *ngIf="listElements.list_data_format_id == 1">{{listElements.list_value}}</p>
                          <img src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 6" class="ListImageSizePrev">
                          <audio src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 10"  controlsList="nodownload" controls width="400" height = "200" controls class="ListAudioSizePrev"></audio>
                          <video src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 11"  controlsList="nodownload" controls width="400" height = "200" controls class="ListVideoSizePrev"></video>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                  <!-- Table -->
                <div *ngIf="data1.item_df_id== 7" style="width: 100%;margin: 20px 0px;" class="col-md-12">
                  <div class="row">
                    <div  style="padding-left: 4px;">
                      <table class="table"  [style.width.%]="data1.table_format == 5 ? '50':100"  (mouseleave)="hideTableBtn()" [ngClass]="{'table-striped' :data1.table_format == 3,'table-bordered' : (data1.table_format == 2 || data1.table_format == 4 || data1.table_format == 5)}" >

                        <tbody>

                          <tr *ngFor="let row of data1.data_format_value;let rowindex =index">

                            <td *ngFor="let col of row;let colIndex = index" [ngStyle]="{'border-color':data1.table_color}" (mouseenter)="ShowTableBtn(colIndex,rowindex,col.header)" [ngClass]="{'tableHeadType':(data1.available_headers =='column' || data1.available_headers =='all') && col.header == 1 && (data1.table_format == 2  || data1.table_format == 5)}"><input type="text" autocomplete="off" class="form-control tblField" [(ngModel)]="col.table_value" [disabled]="col.table_value =='#'"  [ngClass]="{'tableHeadType':(data1.available_headers =='column' || data1.available_headers =='all') && col.header == 1 && (data1.table_format == 2 || data1.table_format == 5),'tableHeadHighlight': col.header == 1}" style="pointer-events:none;"></td>
                          </tr>

                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>

              <div *ngIf="data1.item_df_id == 9">
                <div *ngFor='let input1 of data1?.data_format_value;let idn = index;'>
                    <div class="col-md-12" *ngIf="input1.match_data[0].matchValueArray[0].header == 1">
                      <div class="row">

                        <div class="" *ngFor='let data1 of input1?.match_data;let in=index' style="margin-right: 19px;">
                          <div *ngFor = "let data of data1?.matchValueArray">
                            <div style="margin-top:5px;width: 210px;" class="input-group" [ngClass]="{'stmtMargin_Index' : in == 1}">
                                <b><p *ngIf="data.match_data_format_id == 1" class="previewMatchStmt">{{data.match_value}}</p></b>
                                <img [src]="data.match_value" *ngIf="data.match_data_format_id == 6" style="width:156px;height:70px;">
                                  <audio width="400" height = "200" controls controlsList="nodownload"  *ngIf="data.match_data_format_id == 10" style="width:156px;">
                                    <source [src]="data.match_value" type="audio/mp3">
                                  </audio>
                                <video width="400" height = "200" controls controlsList="nodownload" *ngIf="data.match_data_format_id == 11" style="width:209px;height: 78px;">
                                  <source [src]="data.match_value" type="video/mp4">
                                </video>
                            </div>
                          </div>
                        </div>

                      </div>
                    </div>
                      <div class="col-md-12" *ngIf="input1.match_data[0].matchValueArray[0].header != 1">
                        <div class="row">

                          <div class="" *ngFor='let data1 of input1?.match_data;let in=index' style="margin-right: 19px;" >
                            <div *ngFor = "let data of data1?.matchValueArray">
                              <div style="margin-top:5px;width: 210px;" class="input-group" >

                                  <p *ngIf="data.match_data_format_id == 1 && in == 0 && data.match_value !='abc'" class="previewMatchStmt">{{data.match_value}}</p>
                                  <img [src]="data.match_value" *ngIf="data.match_data_format_id == 6 && in == 0" style="width:156px;height:96px;">
                                    <audio width="400" height = "200" controls controlsList="nodownload" *ngIf="data.match_data_format_id == 10 && in == 0" style="width:156px;">
                                      <source [src]="data.match_value" type="audio/mp3">
                                    </audio>
                                  <video width="400" height = "200" controls controlsList="nodownload" *ngIf="data.match_data_format_id == 11 && in == 0" style="width:171px;height: 78px;">
                                    <source [src]="data.match_value" type="video/mp4">
                                  </video>
                              </div>
                              <div  *ngIf="in == 1" class="otherOptions" [ngClass]="{'lastOption':input1?.match_data[0].matchValueArray[0].match_value =='abc' }" (mouseenter) ="addCss($event)" (mouseleave) ="removeCss($event)" style="width:100%">
                                <div [dragula]='"bag-one"'  [dragulaModel]='arrayToDrag' class="">
                                  <div *ngFor="let value of arrayToDrag;let valueindex=index" class="drag">
                                    <p *ngIf="value.match_data_format_id == 1 && valueindex==idn-1" class="interChange">{{value.match_value}}</p>
                                    <!-- <input type="text" autocomplete="off" class="form-control " [(ngModel)]="value.match_value" value = "value.match_value" *ngIf="value.match_data_format_id == 1 && valueindex==idn-1"> -->
                                    <img [src]="value.match_value" *ngIf="value.match_data_format_id == 6 && valueindex==idn-1" style="width:156px;height:96px;">
                                      <audio width="400" height = "200" controls controlsList="nodownload" *ngIf="value.match_data_format_id == 10 && valueindex==idn-1" style="width:156px;">
                                        <source [src]="value.match_value" type="audio/mp3">
                                      </audio>
                                    <video width="400" height = "200" controls controlsList="nodownload" *ngIf="value.match_data_format_id == 11 && valueindex==idn-1" style="width:171px;height: 78px;">
                                      <source [src]="value.match_value" type="video/mp4">
                                    </video>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>

                        </div>
                      </div>
                </div>

              </div>
            </div>

        </div>
        <!-- matchType 4 -->
        <div  *ngIf="(item_type == 3 && (matchtypeSelected == 4 || matchtypeSelected == 5)) && (directive_id == 0 ||directive_id == undefined) " class="preview_screen">
            <div *ngFor="let data1 of attributes?.item" class="display_margin">
              <p *ngIf="data1.item_df_id == 1" [innerHTML]="this.sanitizer.bypassSecurityTrustHtml(data1.data_format_value)">{{data1.data_format_value}}</p>
              <img [src]="data1.data_format_value" *ngIf="data1.item_df_id == 6" style="width: 200px;height: 151px;" onError="this.onerror=null;this.src='../../../assets/img/no_image_available.jpeg';">
              <audio [src]="data1.data_format_value" *ngIf="data1.item_df_id == 10" width="400" height = "200" controlsList="nodownload" controls style="width:238px" ></audio>
              <video [src]="data1.data_format_value" *ngIf="data1.item_df_id == 11" width="400" height = "200" controlsList="nodownload" controls style="width:268px"></video>
                <!-- list -->
              <div *ngIf="data1.item_df_id == 8">
                <div *ngFor="let listArray of data1.data_format_value">
                  <div class="col-md-12" *ngFor="let listElements of listArray?.list_elements;let eltIndex = index">
                    <div class="row">
                      <div class="col-md-1 listLablePreview1">
                        <p class="listEltTxt" [ngClass]="{'listLabelDotPrev':listElements.list_label =='.'}" *ngIf="eltIndex == 0">{{listElements.list_label}}</p>
                      </div>
                      <div class="col-md-7">
                        <p class="listEltTxt" *ngIf="listElements.list_data_format_id == 1">{{listElements.list_value}}</p>
                        <img src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 6" class="ListImageSizePrev">
                        <audio src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 10"  controlsList="nodownload" controls width="400" height = "200" controls class="ListAudioSizePrev"></audio>
                        <video src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 11"  controlsList="nodownload" controls width="400" height = "200" controls class="ListVideoSizePrev"></video>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
                <!-- Table -->
              <div *ngIf="data1.item_df_id== 7" style="width: 100%;margin: 20px 0px;" class="col-md-12">
                <div class="row">
                  <div  style="padding-left: 4px;">
                    <table class="table"  [style.width.%]="data1.table_format == 5 ? '50':100"  (mouseleave)="hideTableBtn()" [ngClass]="{'table-striped' :data1.table_format == 3,'table-bordered' : (data1.table_format == 2 || data1.table_format == 4 || data1.table_format == 5)}" >

                      <tbody>

                        <tr *ngFor="let row of data1.data_format_value;let rowindex =index">

                          <td *ngFor="let col of row;let colIndex = index" [ngStyle]="{'border-color':data1.table_color}" (mouseenter)="ShowTableBtn(colIndex,rowindex,col.header)" [ngClass]="{'tableHeadType':(data1.available_headers =='column' || data1.available_headers =='all') && col.header == 1 && (data1.table_format == 2  || data1.table_format == 5)}"><input type="text" autocomplete="off" class="form-control tblField" [(ngModel)]="col.table_value" [disabled]="col.table_value =='#'"  [ngClass]="{'tableHeadType':(data1.available_headers =='column' || data1.available_headers =='all') && col.header == 1 && (data1.table_format == 2 || data1.table_format == 5),'tableHeadHighlight': col.header == 1}" style="pointer-events:none;"></td>
                        </tr>

                      </tbody>
                    </table>
                  </div>
                </div>
              </div>

              <div *ngIf="data1.item_df_id == 9">
                    <div *ngFor='let input1 of data1?.data_format_value;let idn = index;'>
                      <div class="col-md-12" *ngIf="input1.match_data[0].matchValueArray[0].header == 1">
                        <div class="row">

                          <div class="" *ngFor='let data1 of input1?.match_data;let in=index' >
                            <div *ngFor="let data of data1?.matchValueArray">
                              <div style="margin-top:5px;width: 212px;" class="input-group" [ngClass]="{'stmtMargin_Index2' : in == 1}">
                                  <b><p *ngIf="data.match_data_format_id == 1" class="previewMatchStmt">{{data.match_value}}</p></b>
                                  <img [src]="data.match_value" *ngIf="data.match_data_format_id == 6" style="width: 141px;height: 100px;">
                                    <audio width="400" height = "200" controls  *ngIf="data.match_data_format_id == 10" style="width: 190px;">
                                      <source [src]="data.match_value" type="audio/mp3">
                                    </audio>
                                  <video width="400" height = "200" controls *ngIf="data.match_data_format_id == 11" style="width: 219px;height: 89px;">
                                    <source [src]="data.match_value" type="video/mp4">
                                  </video>
                              </div>
                            </div>
                          </div>

                        </div>
                      </div>
                      <div class="col-md-12" *ngIf="input1.match_data[0].matchValueArray[0].header != 1">
                          <div class="row">

                            <div class="" *ngFor='let data1 of input1?.match_data;let in=index' [ngClass]="{'rightSideAns':in==1,'lastOption':in==1 && input1?.match_data[0].matchValueArray[0].match_value =='abc'}">
                              <div *ngFor="let data of data1?.matchValueArray">
                                <div style="margin-top:5px;width: 212px;" class="input-group" >
                                    <span *ngIf="data.match_value !='abc'">{{data.label}})</span>&nbsp;<p *ngIf="data.match_data_format_id == 1 && data.match_value !='abc'" class="previewMatchStmt">{{data.match_value}}</p>
                                    <img [src]="data.match_value" *ngIf="data.match_data_format_id == 6 && data.match_value !='abc'" style="width: 141px;height: 100px;">
                                      <audio width="400" height = "200" controls controlsList="nodownload" *ngIf="data.match_data_format_id == 10 && data.match_value !='abc'" style="width: 190px;">
                                        <source [src]="data.match_value" type="audio/mp3">
                                      </audio>
                                    <video width="400" height = "200" controls controlsList="nodownload" *ngIf="data.match_data_format_id == 11 && data.match_value !='abc'" style="width: 219px;height: 89px;">
                                      <source [src]="data.match_value" type="video/mp4">
                                    </video>
                                </div>
                              </div>
                            </div>

                          </div>
                        </div>
                    </div>

              </div>
            </div>
            <!-- Answer Block -->
            <div class='' *ngIf="matchtypeSelected == 5" style="margin-top: 34px;">
                <div *ngFor='let input1 of attributes?.answer_choices; let i = index;'>
                  <div *ngFor='let input of input1?.choiceElement;'>
                    <div class="">
                        <div class="correct_options_block_preview">
                          <input name="input.correct_answer" class="selectValue" type="radio"  value={{input.correct_answer}} *ngIf="attributes.answer_type == 'Single Answer'">
                            <input name="input.correct_answer" class="selectValue" type="checkbox"  value={{input.correct_answer}} *ngIf="attributes.answer_type == 'Multiple Correct Answers'">
                        </div>
                    </div>
                    <div class="">
                      <div *ngIf="input.answer_df_id== 1" style="margin-top: 4px;margin-left: 93px;" [innerHTML]="this.sanitizer.bypassSecurityTrustHtml(input.data_format_value)">{{input.data_format_value}}</div><br>
                      <div *ngIf="input.answer_df_id== 6" style="margin-top: -23px;margin-bottom: 10px;margin-left: 87px;" ><img [src]="input.data_format_value" style="width: 84px;"></div>
                      <!-- audio -->
                      <div *ngIf="input.answer_df_id == 10" style="margin-top: 4px;margin-left: 102px;">
                        <audio  controls  controlsList="nodownload"  style="width: 200px;margin-left: -18px; margin-top: -23px;" class="audiotag">
                          <source [src]="input.data_format_value" type="audio/mp3">
                        </audio>
                      </div>
                      <!-- video -->
                      <div *ngIf="input.answer_df_id == 11" style="margin-top: 4px;margin-left: 93px;">
                          <video controls controlsList="nodownload"  style="width: 173px;margin-top: -23px;" class="audiotag1">
                          <source [src]="input.data_format_value" type="video/mp4">
                          </video>
                      </div>

                    </div>
                  </div>
                </div>
            </div>

              <div class='' *ngIf = "matchtypeSelected == 4" style="margin-top: 20px;">
                <div *ngFor='let input of matrixAnsBlock; let idn1 = index;' class="answerLabel_preview" [ngClass]="{'ansLabelOrigin':idn1 == 0}">
                    <!-- <p >{{input.answer_choices[idn1].label}}</p> -->
                </div>
                  <div *ngFor='let input of matrixAnsBlock; let idn = index;' style="padding: 10px 0px;">

                      <div class="">
                          <div class="correct_options_block_preview">
                            <input name="input.correct_answer" class="selectValue" type="radio"  value={{input.correct_answer}} *ngIf="attributes.answer_type == 'Single Answer'">
                              <input name="input.correct_answer" class="selectValue" type="checkbox"  value={{input.correct_answer}} *ngIf="attributes.answer_type == 'Multiple Correct Answers'">
                          </div>
                      </div>
                      <div class="" style="display:inline-flex;">

                          <div *ngFor="let i of input?.answer_choices; let id=index;" >

                              <div *ngIf="i.answer_df_id== 1" style="padding: 0px 3px;">{{i.data_format_value}},</div>

                          </div>
                      </div>
                  </div>
              </div>
        </div>

        <!--Only Directive -->
        <div  *ngIf="item_type == 6 && viewItemBlk != true" class="preview_screen">
          <div *ngFor="let data of attributes?.directive" class="display_margin">
            <p *ngIf="data.item_df_id == 1" [innerHTML]="this.sanitizer.bypassSecurityTrustHtml(data.data_format_value)">{{data.data_format_value}}</p>
            <img [src]="data.data_format_value" *ngIf="data.item_df_id == 6" style="width: 200px;height: 151px;" onError="this.onerror=null;this.src='../../../assets/img/no_image_available.jpeg';">
            <audio [src]="data.data_format_value" *ngIf="data.item_df_id == 10" width="400" height = "200" controlsList="nodownload" controls style="width:238px"></audio>
            <video [src]="data.data_format_value" *ngIf="data.item_df_id == 11" width="400" height = "200" controlsList="nodownload" controls style="width:268px"></video>
              <!-- list -->
              <div *ngIf="data.item_df_id == 8">
                <div *ngFor="let listArray of data.data_format_value">
                  <div class="col-md-12" *ngFor="let listElements of listArray?.list_elements;let eltIndex = index">
                    <div class="row">
                      <div class="col-md-1 listLablePreview1">
                        <p class="listEltTxt" [ngClass]="{'listLabelDotPrev':listElements.list_label =='.'}" *ngIf="eltIndex == 0">{{listElements.list_label}}</p>
                      </div>
                      <div class="col-md-7">
                        <p class="listEltTxt" *ngIf="listElements.list_data_format_id == 1">{{listElements.list_value}}</p>
                        <img src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 6" class="ListImageSizePrev">
                        <audio src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 10"  controlsList="nodownload" controls width="400" height = "200" controls class="ListAudioSizePrev"></audio>
                        <video src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 11"  controlsList="nodownload" controls width="400" height = "200" controls class="ListVideoSizePrev"></video>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
                <!-- Table -->
              <div *ngIf="data.item_df_id== 7" style="width: 100%;margin: 20px 0px;" class="col-md-12">
                <div class="row">
                  <div  style="padding-left: 4px;">
                    <table class="table"  [style.width.%]="data.table_format == 5 ? '50':100"  (mouseleave)="hideTableBtn()" [ngClass]="{'table-striped' :data.table_format == 3,'table-bordered' : (data.table_format == 2 || data.table_format == 4 || data.table_format == 5)}" >

                      <tbody>

                        <tr *ngFor="let row of data.data_format_value;let rowindex =index">

                          <td *ngFor="let col of row;let colIndex = index" [ngStyle]="{'border-color':data.table_color}" (mouseenter)="ShowTableBtn(colIndex,rowindex,col.header)" [ngClass]="{'tableHeadType':(data.available_headers =='column' || data.available_headers =='all') && col.header == 1 && (data.table_format == 2  || data.table_format == 5)}"><input type="text" autocomplete="off" class="form-control tblField" [(ngModel)]="col.table_value" [disabled]="col.table_value =='#'"  [ngClass]="{'tableHeadType':(data.available_headers =='column' || data.available_headers =='all') && col.header == 1 && (data.table_format == 2 || data.table_format == 5),'tableHeadHighlight': col.header == 1}" style="pointer-events:none;"></td>
                        </tr>

                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
          </div>
        </div>
          <!-- view Item Preview -->
        <div *ngIf="viewItemBlk " class="preview_screen1">
          <!-- <button type="button" class="btn btn-primary" (click)="getNextQues()">Next</button> -->
          <div class="col-lg-12">
            <div class="row">
              <!-- directive -->
              <div class="col-lg-4" style="height: 365px;overflow-y: scroll;">
                <div *ngFor="let direc of directiveContent?.content;let i=index;">
                  <!-- <div *ngFor="let direc of ques?.content;let i=index;"> -->
                      <!-- <div class="col-lg-1 ques_number" class="numbers" *ngIf="i==0">
                          <h6 style="text-align:center;">{{1}}</h6>
                        </div> -->
                    <span *ngIf="i==0 && direc.item_df_id == 1" class="textClr">Directions (Q -1):</span>&nbsp;<p  class="direcStmt" *ngIf="direc.item_df_id == 1" [innerHTML]="this.sanitizer.bypassSecurityTrustHtml(direc.data_format_value)">{{direc.data_format_value}}</p><br>
                    <span *ngIf="i==0 && direc.item_df_id == 6">Directions (Q -1):</span><img [src]="direc.data_format_value" *ngIf="direc.item_df_id == 6" style="width: 200px;height: 151px;" onError="this.onerror=null;this.src='../../../assets/img/no_image_available.jpeg';">
                    <span *ngIf="i==0 && direc.item_df_id == 10">Directions (Q -1):</span><audio [src]="direc.data_format_value" controlsList="nodownload"  *ngIf="direc.item_df_id == 10" width="400" height = "200" controls></audio>
                    <span *ngIf="i==0 && direc.item_df_id == 11">Directions (Q -1):</span><video [src]="direc.data_format_value" controlsList="nodownload"  *ngIf="direc.item_df_id == 11" width="400" height = "200" controls style="height: 128px;width: 256px;"></video>
                      <!-- list -->
                      <span *ngIf="i==0 && direc.item_df_id == 8">Directions (Q -1):</span>
                      <div *ngIf="direc.item_df_id == 8">
                        <div *ngFor="let listArray of direc.data_format_value">
                          <div class="col-md-12" *ngFor="let listElements of listArray?.list_elements;let eltIndex = index">
                            <div class="row">
                              <div class="col-md-1 listLablePreview1">
                                <p class="listEltTxt" [ngClass]="{'listLabelDotPrev':listElements.list_label =='.'}" *ngIf="eltIndex == 0">{{listElements.list_label}}</p>
                              </div>
                              <div class="col-md-7">
                                <p class="listEltTxt" *ngIf="listElements.list_data_format_id == 1">{{listElements.list_value}}</p>
                                <img src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 6" class="ListImageSizePrev">
                                <audio src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 10"  controlsList="nodownload" controls width="400" height = "200" controls class="ListAudioSizePrev"></audio>
                                <video src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 11"  controlsList="nodownload" controls width="400" height = "200" controls class="ListVideoSizePrev"></video>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <span *ngIf="i==0 && direc.item_df_id == 7">Directions (Q -1):</span>
                        <!-- Table -->
                      <div *ngIf="direc.item_df_id== 7" style="width: 100%;margin: 20px 0px;" class="col-md-12">
                        <div class="row">
                          <div  style="padding-left: 4px;">
                            <table class="table"  [style.width.%]="direc.table_format == 5 ? '50':100"  (mouseleave)="hideTableBtn()" [ngClass]="{'table-striped' :direc.table_format == 3,'table-bordered' : (direc.table_format == 2 || direc.table_format == 4 || direc.table_format == 5)}" >

                              <tbody>

                                <tr *ngFor="let row of direc.data_format_value;let rowindex =index">

                                  <td *ngFor="let col of row;let colIndex = index" [ngStyle]="{'border-color':direc.table_color}" (mouseenter)="ShowTableBtn(colIndex,rowindex,col.header)" [ngClass]="{'tableHeadType':(direc.available_headers =='column' || direc.available_headers =='all') && col.header == 1 && (direc.table_format == 2  || direc.table_format == 5)}"><input type="text" autocomplete="off" class="form-control tblField" [(ngModel)]="col.table_value" [disabled]="col.table_value =='#'"  [ngClass]="{'tableHeadType':(direc.available_headers =='column' || direc.available_headers =='all') && col.header == 1 && (direc.table_format == 2 || direc.table_format == 5),'tableHeadHighlight': col.header == 1}" style="pointer-events:none;"></td>
                                </tr>

                              </tbody>
                            </table>
                          </div>
                        </div>
                      </div>
                  <!-- </div> -->
                </div>
              </div>
              <!-- directive based questions -->
              <div class="col-lg-8" >
                <div style="height: 365px;overflow-y: scroll;">
                  <!-- MCQ -->
                  <div *ngIf="previewArray.item_type==1" class="">
                    <div  class=""  *ngFor="let value of previewArray?.item; let i=index" style="margin-bottom: 18px;">
                        <span *ngIf="i==0 && value.item_df_id == 1"  class="questionNumberAlign">{{questionCount+1}}.</span><p *ngIf="value.item_df_id == 1" [innerHTML]="value.data_format_value">{{value.data_format_value}}</p>
                      <span *ngIf="i==0 && value.item_df_id == 6"  class="questionNumberAlign">{{questionCount+1}}.</span><img [src]="value.data_format_value" *ngIf="value.item_df_id == 6" style="width: 200px;height: 151px;" onError="this.onerror=null;this.src='../../../assets/img/no_image_available.jpeg';">
                      <span *ngIf="i==0 && value.item_df_id == 10"  class="questionNumberAlign">{{questionCount+1}}.</span><audio [src]="value.data_format_value" controlsList="nodownload"  *ngIf="value.item_df_id == 10" width="400" height = "200" controls></audio>
                      <span *ngIf="i==0 && value.item_df_id == 11"  class="questionNumberAlign">{{questionCount+1}}.</span><video [src]="value.data_format_value" controlsList="nodownload"  *ngIf="value.item_df_id == 11" width="400" height = "200" controls style="height: 128px;width: 256px;"></video>
                      <span *ngIf="i==0 && value.item_df_id == 8"  class="questionNumberAlign">{{questionCount+1}}.</span>
                            <!-- list -->
                      <div *ngIf="value.item_df_id == 8">
                        <div *ngFor="let listArray of value.data_format_value">
                          <div class="col-md-12" *ngFor="let listElements of listArray?.list_elements;let eltIndex = index">
                            <div class="row">
                              <div class="col-md-1 listLablePreview1">
                                <p class="listEltTxt" [ngClass]="{'listLabelDotPrev':listElements.list_label =='.'}" *ngIf="eltIndex == 0">{{listElements.list_label}}</p>
                              </div>
                              <div class="col-md-7">
                                <p class="listEltTxt" *ngIf="listElements.list_data_format_id == 1">{{listElements.list_value}}</p>
                                <img src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 6" class="ListImageSizePrev">
                                <audio src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 10"  controlsList="nodownload" controls width="400" height = "200" controls class="ListAudioSizePrev"></audio>
                                <video src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 11"  controlsList="nodownload" controls width="400" height = "200" controls class="ListVideoSizePrev"></video>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <span *ngIf="i==0 && value.item_df_id == 7">{{questionCount+1}}.</span>
                      <!-- Table -->
                      <div *ngIf="value.item_df_id== 7" style="width: 100%;margin: 20px 0px;" class="col-md-12">
                        <div class="row">
                          <div  style="padding-left: 4px;">
                            <table class="table"  [style.width.%]="value.table_format == 5 ? '50':100"  (mouseleave)="hideTableBtn()" [ngClass]="{'table-striped' :value.table_format == 3,'table-bordered' : (value.table_format == 2 || value.table_format == 4 || value.table_format == 5)}" >

                              <tbody>

                                <tr *ngFor="let row of value.data_format_value;let rowindex =index">

                                  <td *ngFor="let col of row;let colIndex = index" [ngStyle]="{'border-color':value.table_color}" (mouseenter)="ShowTableBtn(colIndex,rowindex,col.header)" [ngClass]="{'tableHeadType':(value.available_headers =='column' || value.available_headers =='all') && col.header == 1 && (value.table_format == 2  || value.table_format == 5)}"><input type="text" autocomplete="off" class="form-control tblField" [(ngModel)]="col.table_value" [disabled]="col.table_value =='#'"  [ngClass]="{'tableHeadType':(value.available_headers =='column' || value.available_headers =='all') && col.header == 1 && (value.table_format == 2 || value.table_format == 5),'tableHeadHighlight': col.header == 1}" style="pointer-events:none;"></td>
                                </tr>

                              </tbody>
                            </table>
                          </div>
                        </div>
                      </div>
                    </div>

                    <!-- answer block -->
                    <div class=''>
                        <div *ngFor='let input of previewArray?.answer_choices; let i = index;'>
                            <div class="">
                                <div class="correct_options_block_preview">
                                  <input name="input.correct_answer" class="selectValue" type="radio"  value={{input.correct_answer}} *ngIf="previewArray.answer_type == 'Single Answer'">
                                    <input name="input.correct_answer" class="selectValue" type="checkbox"  value={{input.correct_answer}} *ngIf="previewArray.answer_type == 'Multiple Correct Answers'">
                                </div>
                            </div>
                          <div class="">
                            <div *ngFor="let data of input?.choice_elements; let id=index;">
                              <div *ngIf="data.answer_df_id== 1" style="margin-left: 3px;margin-bottom: 4px;" [innerHTML]="data.data_format_value">{{data.data_format_value}}</div><br>
                              <div *ngIf="data.answer_df_id== 6" style="margin-top: -23px;margin-bottom: 10px;margin-left: 93px;" ><img [src]="data.data_format_value" style="width: 84px;" onError="this.onerror=null;this.src='../../../assets/img/no_image_available.jpeg';"></div>
                              <!-- audio -->
                              <div *ngIf="data.answer_df_id == 10" style="margin-top: 4px;margin-left: 104px;margin-bottom: 8px;">
                                <audio  controls  controlsList="nodownload"  style="width: 200px;margin-left: -18px; margin-top: -23px;" class="audiotag">
                                  <source [src]="data.data_format_value" type="audio/mp3">
                                </audio>
                              </div>
                              <!-- video -->
                              <div *ngIf="data.answer_df_id == 11" style="margin-top: 4px;margin-left: 90px;margin-bottom: 8px;" >
                                <video controls controlsList="nodownload"  style="width: 173px;margin-top: -23px;" class="audiotag1">
                                  <source [src]="data.data_format_value" type="video/mp4">
                                  </video>
                              </div>
                            </div>
                          </div>
                        </div>
                    </div>
                  </div>
                  <!-- Tf -->
                  <div *ngIf="previewArray.item_type==2" class="" >
                    <div  class="" *ngFor="let value of previewArray?.item; let i=index" style="margin-bottom: 18px;">
                      <span *ngIf="i==0 && value.item_df_id == 1" class="questionNumberAlign">{{questionCount+1}}.</span><p *ngIf="value.item_df_id == 1" [innerHTML]="value.data_format_value">{{value.data_format_value}}</p>
                      <span *ngIf="i==0 && value.item_df_id == 6" class="questionNumberAlign">{{questionCount+1}}.</span><img [src]="value.data_format_value" *ngIf="value.item_df_id == 6" style="width: 200px;height: 151px;" onError="this.onerror=null;this.src='../../../assets/img/no_image_available.jpeg';">
                      <span *ngIf="i==0 && value.item_df_id == 10" class="questionNumberAlign">{{questionCount+1}}.</span><audio [src]="value.data_format_value" controlsList="nodownload"  *ngIf="value.item_df_id == 10" width="400" height = "200" controls></audio>
                      <span *ngIf="i==0 && value.item_df_id == 11" class="questionNumberAlign">{{questionCount+1}}.</span><video [src]="value.data_format_value" controlsList="nodownload"  *ngIf="value.item_df_id == 11" width="400" height = "200" controls style="height: 128px;width: 256px;"></video>
                      <span *ngIf="i==0 && value.item_df_id == 8" class="questionNumberAlign">{{questionCount+1}}.</span>
                            <!-- list -->
                      <div *ngIf="value.item_df_id == 8">
                        <div *ngFor="let listArray of value.data_format_value">
                          <div class="col-md-12" *ngFor="let listElements of listArray?.list_elements;let eltIndex = index">
                            <div class="row">
                              <div class="col-md-1 listLablePreview1">
                                <p class="listEltTxt" [ngClass]="{'listLabelDotPrev':listElements.list_label =='.'}" *ngIf="eltIndex == 0">{{listElements.list_label}}</p>
                              </div>
                              <div class="col-md-7">
                                <p class="listEltTxt" *ngIf="listElements.list_data_format_id == 1">{{listElements.list_value}}</p>
                                <img src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 6" class="ListImageSizePrev">
                                <audio src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 10"  controlsList="nodownload" controls width="400" height = "200" controls class="ListAudioSizePrev"></audio>
                                <video src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 11"  controlsList="nodownload" controls width="400" height = "200" controls class="ListVideoSizePrev"></video>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <span *ngIf="i==0 && value.item_df_id == 7">{{questionCount+1}}.</span>
                      <!-- Table -->
                      <div *ngIf="value.item_df_id== 7" style="width: 100%;margin: 20px 0px;" class="col-md-12">
                        <div class="row">
                          <div  style="padding-left: 4px;">
                            <table class="table"  [style.width.%]="value.table_format == 5 ? '50':100"  (mouseleave)="hideTableBtn()" [ngClass]="{'table-striped' :value.table_format == 3,'table-bordered' : (value.table_format == 2 || value.table_format == 4 || value.table_format == 5)}" >

                              <tbody>

                                <tr *ngFor="let row of value.data_format_value;let rowindex =index">

                                  <td *ngFor="let col of row;let colIndex = index" [ngStyle]="{'border-color':value.table_color}" (mouseenter)="ShowTableBtn(colIndex,rowindex,col.header)" [ngClass]="{'tableHeadType':(value.available_headers =='column' || value.available_headers =='all') && col.header == 1 && (value.table_format == 2  || value.table_format == 5)}"><input type="text" autocomplete="off" class="form-control tblField" [(ngModel)]="col.table_value" [disabled]="col.table_value =='#'"  [ngClass]="{'tableHeadType':(value.available_headers =='column' || value.available_headers =='all') && col.header == 1 && (value.table_format == 2 || value.table_format == 5),'tableHeadHighlight': col.header == 1}" style="pointer-events:none;"></td>
                                </tr>

                              </tbody>
                            </table>
                          </div>
                        </div>
                      </div>
                    </div>
                      <!-- answer block -->
                    <div class=''>
                        <div *ngFor='let input of previewArray?.answer_choices; let i = index;'>
                            <div class="correct_options_block_TF">
                                <div class="correct_radio_button_TF">
                                    <input name="input.correct_answer" type="radio"  value={{input.correct_answer}}/>&nbsp;
                                    {{input.data_format_value}}
                                </div>
                            </div>
                        </div>
                    </div>
                  </div>
                    <!-- match type 1-->
                  <div  *ngIf="previewArray.item_type == 3 && previewArray.matchlist_type == 1" class="" >
                      <div *ngFor="let data1 of previewArray?.item; let i = index;" class="display_margin1">
                          <span *ngIf="i==0 && data1.item_df_id == 1" class="questionNumberAlign">{{questionCount+1}}.</span><p *ngIf="data1.item_df_id == 1" [innerHTML]="data1.data_format_value">{{data1.data_format_value}}</p>
                        <span *ngIf="i==0 && data1.item_df_id == 6" class="questionNumberAlign">{{questionCount+1}}.</span><img [src]="data1.data_format_value" *ngIf="data1.item_df_id == 6" style="width: 200px;height: 151px;" onError="this.onerror=null;this.src='../../../assets/img/no_image_available.jpeg';">
                        <span *ngIf="i==0 && data1.item_df_id == 10" class="questionNumberAlign">{{questionCount+1}}.</span><audio [src]="data1.data_format_value" *ngIf="data1.item_df_id == 10" width="400" height = "200" controls></audio>
                        <span *ngIf="i==0 && data1.item_df_id == 11" class="questionNumberAlign">{{questionCount+1}}.</span><video [src]="data1.data_format_value" *ngIf="data1.item_df_id == 11" width="400" height = "200" controls></video>
                        <span *ngIf="i==0 && data1.item_df_id == 8" class="questionNumberAlign">{{questionCount+1}}.</span>
                        <!-- list -->
                        <div *ngIf="data1.item_df_id == 8">
                          <div *ngFor="let listArray of data1.data_format_value">
                            <div class="col-md-12" *ngFor="let listElements of listArray?.list_elements;let eltIndex = index">
                              <div class="row">
                                <div class="col-md-1 listLablePreview1">
                                  <p class="listEltTxt" [ngClass]="{'listLabelDotPrev':listElements.list_label =='.'}" *ngIf="eltIndex == 0">{{listElements.list_label}}</p>
                                </div>
                                <div class="col-md-7">
                                  <p class="listEltTxt" *ngIf="listElements.list_data_format_id == 1">{{listElements.list_value}}</p>
                                  <img src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 6" class="ListImageSizePrev">
                                  <audio src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 10"  controlsList="nodownload" controls width="400" height = "200" controls class="ListAudioSizePrev"></audio>
                                  <video src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 11"  controlsList="nodownload" controls width="400" height = "200" controls class="ListVideoSizePrev"></video>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <span *ngIf="i==0 && data1.item_df_id == 7">{{questionCount+1}}.</span>
                        <!-- Table -->
                        <div *ngIf="data1.item_df_id== 7" style="width: 100%;margin: 20px 0px;" class="col-md-12">
                          <div class="row">
                            <div  style="padding-left: 4px;">
                              <table class="table"  [style.width.%]="data1.table_format == 5 ? '50':100"  (mouseleave)="hideTableBtn()" [ngClass]="{'table-striped' :data1.table_format == 3,'table-bordered' : (data1.table_format == 2 || data1.table_format == 4 || data1.table_format == 5)}" >

                                <tbody>

                                  <tr *ngFor="let row of data1.data_format_value;let rowindex =index">

                                    <td *ngFor="let col of row;let colIndex = index" [ngStyle]="{'border-color':data1.table_color}" (mouseenter)="ShowTableBtn(colIndex,rowindex,col.header)" [ngClass]="{'tableHeadType':(data1.available_headers =='column' || data1.available_headers =='all') && col.header == 1 && (data1.table_format == 2  || data1.table_format == 5)}"><input type="text" autocomplete="off" class="form-control tblField" [(ngModel)]="col.table_value" [disabled]="col.table_value =='#'"  [ngClass]="{'tableHeadType':(data1.available_headers =='column' || data1.available_headers =='all') && col.header == 1 && (data1.table_format == 2 || data1.table_format == 5),'tableHeadHighlight': col.header == 1}" style="pointer-events:none;"></td>
                                  </tr>

                                </tbody>
                              </table>
                            </div>
                          </div>
                        </div>

                        <div *ngIf="data1.item_df_id == 9">
                              <div *ngFor='let input1 of data1?.data_format_value;let idn = index;'>
                                <div class="col-md-12" *ngIf="input1.match_data[0].header == 1">
                                  <div class="row">
                                    <div class="" *ngFor='let data of input1?.match_data;let in=index' style="margin-right: 19px;margin-left: 29px;" [ngClass]="{'header-margin': in==1}">
                                        <div style="margin-top:5px;" class="input-group" >
                                          <b><p *ngIf="data.match_data_format_id == 1" class="previewMatchStmt">{{data.match_value}}</p></b>
                                          <img [src]="data.match_value" *ngIf="data.match_data_format_id == 6 " style="width: 197px;height: 135px;" onError="this.onerror=null;this.src='../../../assets/img/no_image_available.jpeg';">
                                          <audio width="400" height = "200" controls controlsList="nodownload" *ngIf="data.match_data_format_id == 10 " style="width: 202px;">
                                            <source [src]="data.match_value" type="audio/mp3">
                                          </audio>
                                          <video width="400" height = "200" controls controlsList="nodownload" *ngIf="data.match_data_format_id == 11 " style="width: 196px;height: 100px;">
                                            <source [src]="data.match_value" type="video/mp4">
                                          </video>
                                        </div>
                                    </div>

                                  </div>
                                </div>
                                <div class="col-md-12" *ngIf="input1.match_data[0].header != 1">
                                    <div class="row">

                                      <div class="" *ngFor='let data of input1?.match_data;let in=index' style="margin-right: 19px;margin-left: 29px;" >
                                          <div style="margin-top:5px;margin-bottom: 7px;" class="input-group" >
                                              <p *ngIf="data.match_data_format_id == 1 && in==0 && data.match_value != 'abc'" class="previewMatchStmt"><span *ngIf="data.match_data_format_id == 1 && in==0"></span>{{data.match_value}}</p>
                                              <span *ngIf="data.match_data_format_id == 6 && in==0"></span><img [src]="data.match_value" *ngIf="data.match_data_format_id == 6 && in==0 && data.match_value != 'abc'" style="width: 197px;height: 135px;" onError="this.onerror=null;this.src='../../../assets/img/no_image_available.jpeg';">
                                              <span *ngIf="data.match_data_format_id == 10 && in==0"></span><audio width="400" height = "200" controls controlsList="nodownload" *ngIf="data.match_data_format_id == 10 && in==0 && data.match_value != 'abc'" style="width: 202px;">
                                                <source [src]="data.match_value" type="audio/mp3">
                                              </audio>
                                              <span *ngIf="data.match_data_format_id == 11 && in==0"></span><video width="400" height = "200" controls controlsList="nodownload" *ngIf="data.match_data_format_id == 11 && in==0 && data.match_value != 'abc'" style="width: 196px;height: 100px;">
                                                <source [src]="data.match_value" type="video/mp4">
                                              </video>
                                          </div>
                                          <div  *ngIf="in == 1  && input1?.match_data[0].match_value !='abc'" style="margin-left: -24px;">
                                              <select  class="form-control" >
                                                <option [disabled]='true'>Select a Correct Answer</option>
                                                <option *ngFor="let input1 of data1?.data_format_value" [value]="input1?.match_data[1].match_value" [hidden]="input1?.match_data[1].header == 1"><P *ngIf="input1?.match_data[1].header != 1">{{input1?.match_data[1].match_value}}</P></option>
                                              </select>
                                            </div>
                                      </div>

                                    </div>
                                  </div>
                              </div>
                        </div>
                      </div>
                  </div>
                  <!-- match type 2 -->
                  <div  *ngIf="previewArray.item_type == 3 && previewArray.matchlist_type == 2" class="" >
                      <div *ngFor="let data1 of previewArray?.item; let i = index;" class="display_margin1">
                          <span *ngIf="i==0 && data1.item_df_id == 1" class="questionNumberAlign">{{questionCount+1}}.</span><p *ngIf="data1.item_df_id == 1" [innerHTML]="data1.data_format_value">{{data1.data_format_value}}</p>
                        <span *ngIf="i==0 && data1.item_df_id == 6" class="questionNumberAlign">{{questionCount+1}}.</span><img [src]="data1.data_format_value" *ngIf="data1.item_df_id == 6" style="width: 200px;height: 151px;" onError="this.onerror=null;this.src='../../../assets/img/no_image_available.jpeg';">
                        <span *ngIf="i==0 && data1.item_df_id == 10" class="questionNumberAlign">{{questionCount+1}}.</span><audio [src]="data1.data_format_value" *ngIf="data1.item_df_id == 10" width="400" height = "200" controls></audio>
                        <span *ngIf="i==0 && data1.item_df_id == 11" class="questionNumberAlign">{{questionCount+1}}.</span><video [src]="data1.data_format_value" *ngIf="data1.item_df_id == 11" width="400" height = "200" controls></video>
                        <span *ngIf="i==0 && data1.item_df_id == 8" class="questionNumberAlign">{{questionCount+1}}.</span>
                        <!-- list -->
                        <div *ngIf="data1.item_df_id == 8">
                          <div *ngFor="let listArray of data1.data_format_value">
                            <div class="col-md-12" *ngFor="let listElements of listArray?.list_elements;let eltIndex = index">
                              <div class="row">
                                <div class="col-md-1 listLablePreview1">
                                  <p class="listEltTxt" [ngClass]="{'listLabelDotPrev':listElements.list_label =='.'}" *ngIf="eltIndex == 0">{{listElements.list_label}}</p>
                                </div>
                                <div class="col-md-7">
                                  <p class="listEltTxt" *ngIf="listElements.list_data_format_id == 1">{{listElements.list_value}}</p>
                                  <img src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 6" class="ListImageSizePrev">
                                  <audio src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 10"  controlsList="nodownload" controls width="400" height = "200" controls class="ListAudioSizePrev"></audio>
                                  <video src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 11"  controlsList="nodownload" controls width="400" height = "200" controls class="ListVideoSizePrev"></video>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <span *ngIf="i==0 && data1.item_df_id == 7">{{questionCount+1}}.</span>
                        <!-- Table -->
                        <div *ngIf="data1.item_df_id== 7" style="width: 100%;margin: 20px 0px;" class="col-md-12">
                          <div class="row">
                            <div  style="padding-left: 4px;">
                              <table class="table"  [style.width.%]="data1.table_format == 5 ? '50':100"  (mouseleave)="hideTableBtn()" [ngClass]="{'table-striped' :data1.table_format == 3,'table-bordered' : (data1.table_format == 2 || data1.table_format == 4 || data1.table_format == 5)}" >

                                <tbody>

                                  <tr *ngFor="let row of data1.data_format_value;let rowindex =index">

                                    <td *ngFor="let col of row;let colIndex = index" [ngStyle]="{'border-color':data1.table_color}" (mouseenter)="ShowTableBtn(colIndex,rowindex,col.header)" [ngClass]="{'tableHeadType':(data1.available_headers =='column' || data1.available_headers =='all') && col.header == 1 && (data1.table_format == 2  || data1.table_format == 5)}"><input type="text" autocomplete="off" class="form-control tblField" [(ngModel)]="col.table_value" [disabled]="col.table_value =='#'"  [ngClass]="{'tableHeadType':(data1.available_headers =='column' || data1.available_headers =='all') && col.header == 1 && (data1.table_format == 2 || data1.table_format == 5),'tableHeadHighlight': col.header == 1}" style="pointer-events:none;"></td>
                                  </tr>

                                </tbody>
                              </table>
                            </div>
                          </div>
                        </div>

                        <div *ngIf="data1.item_df_id == 9">
                              <div *ngFor='let input1 of data1?.data_format_value;let idn = index;'>
                                <div class="col-md-12" *ngIf="input1.match_data[0].header == 1">
                                  <div class="row">
                                    <div class="" *ngFor='let data of input1?.match_data;let in=index' style="margin-right: 19px;margin-left: 29px;" [ngClass]="{'header-margin': in==1}">
                                        <div style="margin-top:5px;" class="input-group" >
                                          <b><p *ngIf="data.match_data_format_id == 1" class="previewMatchStmt">{{data.match_value}}</p></b>
                                          <img [src]="data.match_value" *ngIf="data.match_data_format_id == 6 " style="width: 197px;height: 135px;" onError="this.onerror=null;this.src='../../../assets/img/no_image_available.jpeg';">
                                          <audio width="400" height = "200" controls controlsList="nodownload" *ngIf="data.match_data_format_id == 10 " style="width: 202px;">
                                            <source [src]="data.match_value" type="audio/mp3">
                                          </audio>
                                          <video width="400" height = "200" controls controlsList="nodownload" *ngIf="data.match_data_format_id == 11 " style="width: 196px;height: 100px;">
                                            <source [src]="data.match_value" type="video/mp4">
                                          </video>
                                        </div>
                                    </div>

                                  </div>
                                </div>
                                <div class="col-md-12" *ngIf="input1.match_data[0].header != 1">
                                    <div class="row">

                                      <div class="" *ngFor='let data of input1?.match_data;let in=index' style="margin-right: 19px;margin-left: 29px;" >
                                          <div style="margin-top:5px;margin-bottom: 7px;" class="input-group" >
                                              <p *ngIf="data.match_data_format_id == 1 && in==0 && data.match_value != 'abc'" class="previewMatchStmt"><span *ngIf="data.match_data_format_id == 1 && in==0"></span>{{data.match_value}}</p>
                                              <span *ngIf="data.match_data_format_id == 6 && in==0"></span><img [src]="data.match_value" *ngIf="data.match_data_format_id == 6 && in==0 && data.match_value != 'abc'" style="width: 197px;height: 135px;" onError="this.onerror=null;this.src='../../../assets/img/no_image_available.jpeg';">
                                              <span *ngIf="data.match_data_format_id == 10 && in==0"></span><audio width="400" height = "200" controls controlsList="nodownload" *ngIf="data.match_data_format_id == 10 && in==0 && data.match_value != 'abc'" style="width: 202px;">
                                                <source [src]="data.match_value" type="audio/mp3">
                                              </audio>
                                              <span *ngIf="data.match_data_format_id == 11 && in==0"></span><video width="400" height = "200" controls controlsList="nodownload" *ngIf="data.match_data_format_id == 11 && in==0 && data.match_value != 'abc'" style="width: 196px;height: 100px;">
                                                <source [src]="data.match_value" type="video/mp4">
                                              </video>
                                          </div>
                                          <div  *ngIf="in == 1 && input1?.match_data[0].match_value !='abc'" class="otherElementsDirec" >
                                            <div *ngFor= "let value of arrayToDrag;let a=index" [ngClass]="{'extraOptionPreview' : input1?.match_data[0].match_value =='abc'}">
                                            <!-- <input type="text" autocomplete="off" class="form-control" [dragula]='"fifth-bag"' [dragulaModel]="arrayToDrag" *ngIf="a==idn-1"> -->
                                            <div [dragula]='"fifth-bag"' [dragulaModel]="arrayToDrag" [dragulaOptions]="options1" class="dropArea" *ngIf="a==idn-1"></div>
                                            </div>
                                          </div>
                                      </div>

                                    </div>
                                  </div>
                                </div>
                                <div class="col-lg-8 pool-answer-margin" [dragula]='"fifth-bag"' [dragulaOptions]="options1">
                                  <div class=" col-lg-6" *ngFor = "let input1 of data1?.data_format_value" style="display:inline-flex;margin-top: 8px;" [hidden]="input1?.match_data[0].header == 1">
                                    <p  class="pool_answers drag" *ngIf="input1?.match_data[1].match_data_format_id ==1">{{input1?.match_data[1].match_value}}</p>
                                    <img [src]="input1?.match_data[1].match_value" class="pool_answers drag" *ngIf="input1?.match_data[1].match_data_format_id ==6" style="width: 187px;height: 113px;">
                                    <audio width="400" height = "200" controls controlsList="nodownload" class="pool_answers drag" *ngIf="input1?.match_data[1].match_data_format_id ==10" style="width: 202px;">
                                      <source [src]="input1?.match_data[1].match_value" type="audio/mp3">
                                    </audio>
                                    <video width="400" height = "200" controls controlsList="nodownload" class="pool_answers drag" *ngIf="input1?.match_data[1].match_data_format_id ==11" style="width: 196px;height:103px;">
                                      <source [src]="input1?.match_data[1].match_value" type="video/mp4">
                                      </video>
                                  </div>
                                </div>
                        </div>
                      </div>

                  </div>
                  <!-- match type 3 -->
                  <div  *ngIf="previewArray.item_type == 3 && previewArray.matchlist_type == 3" class="" >
                      <div *ngFor="let data1 of previewArray?.item; let i = index;" class="display_margin1">
                          <span *ngIf="i==0 && data1.item_df_id == 1"  class="questionNumberAlign">{{questionCount+1}}.</span><p *ngIf="data1.item_df_id == 1" [innerHTML]="data1.data_format_value">{{data1.data_format_value}}</p>
                        <span *ngIf="i==0 && data1.item_df_id == 6" class="questionNumberAlign">{{questionCount+1}}.</span><img [src]="data1.data_format_value" *ngIf="data1.item_df_id == 6" style="width: 200px;height: 151px;" onError="this.onerror=null;this.src='../../../assets/img/no_image_available.jpeg';">
                        <span *ngIf="i==0 && data1.item_df_id == 10" class="questionNumberAlign">{{questionCount+1}}.</span><audio [src]="data1.data_format_value" *ngIf="data1.item_df_id == 10" width="400" height = "200" controls></audio>
                        <span *ngIf="i==0 && data1.item_df_id == 11" class="questionNumberAlign">{{questionCount+1}}.</span><video [src]="data1.data_format_value" *ngIf="data1.item_df_id == 11" width="400" height = "200" controls></video>
                        <span *ngIf="i==0 && data1.item_df_id == 8" class="questionNumberAlign">{{questionCount+1}}.</span>
                        <!-- list -->
                        <div *ngIf="data1.item_df_id == 8">
                          <div *ngFor="let listArray of data1.data_format_value">
                            <div class="col-md-12" *ngFor="let listElements of listArray?.list_elements;let eltIndex = index">
                              <div class="row">
                                <div class="col-md-1 listLablePreview1">
                                  <p class="listEltTxt" [ngClass]="{'listLabelDotPrev':listElements.list_label =='.'}" *ngIf="eltIndex == 0">{{listElements.list_label}}</p>
                                </div>
                                <div class="col-md-7">
                                  <p class="listEltTxt" *ngIf="listElements.list_data_format_id == 1">{{listElements.list_value}}</p>
                                  <img src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 6" class="ListImageSizePrev">
                                  <audio src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 10"  controlsList="nodownload" controls width="400" height = "200" controls class="ListAudioSizePrev"></audio>
                                  <video src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 11"  controlsList="nodownload" controls width="400" height = "200" controls class="ListVideoSizePrev"></video>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <span *ngIf="i==0 && data1.item_df_id == 7">{{questionCount+1}}.</span>
                        <!-- Table -->
                        <div *ngIf="data1.item_df_id== 7" style="width: 100%;margin: 20px 0px;" class="col-md-12">
                          <div class="row">
                            <div  style="padding-left: 4px;">
                              <table class="table"  [style.width.%]="data1.table_format == 5 ? '50':100"  (mouseleave)="hideTableBtn()" [ngClass]="{'table-striped' :data1.table_format == 3,'table-bordered' : (data1.table_format == 2 || data1.table_format == 4 || data1.table_format == 5)}" >

                                <tbody>

                                  <tr *ngFor="let row of data1.data_format_value;let rowindex =index">

                                    <td *ngFor="let col of row;let colIndex = index" [ngStyle]="{'border-color':data1.table_color}" (mouseenter)="ShowTableBtn(colIndex,rowindex,col.header)" [ngClass]="{'tableHeadType':(data1.available_headers =='column' || data1.available_headers =='all') && col.header == 1 && (data1.table_format == 2  || data1.table_format == 5)}"><input type="text" autocomplete="off" class="form-control tblField" [(ngModel)]="col.table_value" [disabled]="col.table_value =='#'"  [ngClass]="{'tableHeadType':(data1.available_headers =='column' || data1.available_headers =='all') && col.header == 1 && (data1.table_format == 2 || data1.table_format == 5),'tableHeadHighlight': col.header == 1}" style="pointer-events:none;"></td>
                                  </tr>

                                </tbody>
                              </table>
                            </div>
                          </div>
                        </div>

                        <div *ngIf="data1.item_df_id == 9">
                              <div *ngFor='let input1 of data1?.data_format_value;let idn = index;'>
                                <div class="col-md-12" *ngIf="input1.match_data[0].header == 1">
                                  <div class="row">
                                    <div class="" *ngFor='let data of input1?.match_data;let in=index' style="margin-right: 19px;margin-left: 29px;" [ngClass]="{'header-margin': in==1}">
                                        <div style="margin-top:5px;" class="input-group" >
                                          <b><p *ngIf="data.match_data_format_id == 1" class="previewMatchStmt">{{data.match_value}}</p></b>
                                          <img [src]="data.match_value" *ngIf="data.match_data_format_id == 6 " style="width: 197px;height: 135px;">
                                          <audio width="400" height = "200" controls controlsList="nodownload" *ngIf="data.match_data_format_id == 10 " style="width: 202px;">
                                            <source [src]="data.match_value" type="audio/mp3">
                                          </audio>
                                          <video width="400" height = "200" controls controlsList="nodownload" *ngIf="data.match_data_format_id == 11 " style="width: 196px;height: 100px;">
                                            <source [src]="data.match_value" type="video/mp4">
                                          </video>
                                        </div>
                                    </div>

                                  </div>
                                </div>
                                <div class="col-md-12" *ngIf="input1.match_data[0].header != 1">
                                    <div class="row">

                                      <div class="" *ngFor='let data of input1?.match_data;let in=index' style="margin-right: 19px;" >
                                        <div style="margin-top:5px;width: 210px;" class="input-group" >

                                            <p *ngIf="data.match_data_format_id == 1 && in == 0 && data.match_value !='abc'" class="previewMatchStmt">{{data.match_value}}</p>
                                            <img [src]="data.match_value" *ngIf="data.match_data_format_id == 6 && in == 0" style="width:156px;height:96px;">
                                              <audio width="400" height = "200" controls controlsList="nodownload" *ngIf="data.match_data_format_id == 10 && in == 0" style="width:156px;">
                                                <source [src]="data.match_value" type="audio/mp3">
                                              </audio>
                                            <video width="400" height = "200" controls controlsList="nodownload" *ngIf="data.match_data_format_id == 11 && in == 0" style="width:171px;height: 78px;">
                                              <source [src]="data.match_value" type="video/mp4">
                                            </video>
                                        </div>
                                        <div  *ngIf="in == 1" class="otherOptions " [ngClass]="{'lastOption':input1?.match_data[0].match_value =='abc' }" (mouseenter) ="addCss($event)" (mouseleave) ="removeCss($event)" style="width:100%">
                                          <div [dragula]='"bag-one"'  [dragulaModel]='arrayToDrag' class="">
                                            <div *ngFor="let value of arrayToDrag;let valueindex=index" class="drag">
                                              <p *ngIf="value.match_data_format_id == 1 && valueindex==idn-1" class="interChange">{{value.match_value}}</p>
                                              <!-- <input type="text" autocomplete="off" class="form-control " [(ngModel)]="value.match_value" value = "value.match_value" *ngIf="value.match_data_format_id == 1 && valueindex==idn-1"> -->
                                              <img [src]="value.match_value" *ngIf="value.match_data_format_id == 6 && valueindex==idn-1" style="width:156px;height:96px;">
                                                <audio width="400" height = "200" controls controlsList="nodownload" *ngIf="value.match_data_format_id == 10 && valueindex==idn-1" style="width:156px;">
                                                  <source [src]="value.match_value" type="audio/mp3">
                                                </audio>
                                              <video width="400" height = "200" controls controlsList="nodownload" *ngIf="value.match_data_format_id == 11 && valueindex==idn-1" style="width:171px;height: 78px;">
                                                <source [src]="value.match_value" type="video/mp4">
                                              </video>
                                            </div>
                                          </div>
                                        </div>
                                    </div>

                                    </div>
                                </div>
                              </div>
                        </div>
                      </div>
                  </div>
                  <!-- match type 4,5 -->
                  <div  *ngIf="previewArray.item_type == 3 && (previewArray.matchlist_type == 5 || previewArray.matchlist_type == 4)" class="" >
                      <div *ngFor="let data1 of previewArray?.item; let i = index;" class="display_margin1">
                          <span *ngIf="i==0 && data1.item_df_id == 1" class="questionNumberAlign">{{questionCount+1}}.</span><p *ngIf="data1.item_df_id == 1" [innerHTML]="data1.data_format_value">{{data1.data_format_value}}</p>
                        <span *ngIf="i==0 && data1.item_df_id == 6" class="questionNumberAlign">{{questionCount+1}}.</span><img [src]="data1.data_format_value" *ngIf="data1.item_df_id == 6" style="width: 200px;height: 151px;" onError="this.onerror=null;this.src='../../../assets/img/no_image_available.jpeg';">
                        <span *ngIf="i==0 && data1.item_df_id == 10" class="questionNumberAlign">{{questionCount+1}}.</span><audio [src]="data1.data_format_value" *ngIf="data1.item_df_id == 10" width="400" height = "200" controls></audio>
                        <span *ngIf="i==0 && data1.item_df_id == 11" class="questionNumberAlign">{{questionCount+1}}.</span><video [src]="data1.data_format_value" *ngIf="data1.item_df_id == 11" width="400" height = "200" controls></video>
                        <span *ngIf="i==0 && data1.item_df_id == 8" class="questionNumberAlign">{{questionCount+1}}.</span>
                        <!-- list -->
                        <div *ngIf="data1.item_df_id == 8">
                          <div *ngFor="let listArray of data1.data_format_value">
                            <div class="col-md-12" *ngFor="let listElements of listArray?.list_elements;let eltIndex = index">
                              <div class="row">
                                <div class="col-md-1 listLablePreview1">
                                  <p class="listEltTxt" [ngClass]="{'listLabelDotPrev':listElements.list_label =='.'}" *ngIf="eltIndex == 0">{{listElements.list_label}}</p>
                                </div>
                                <div class="col-md-7">
                                  <p class="listEltTxt" *ngIf="listElements.list_data_format_id == 1">{{listElements.list_value}}</p>
                                  <img src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 6" class="ListImageSizePrev">
                                  <audio src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 10"  controlsList="nodownload" controls width="400" height = "200" controls class="ListAudioSizePrev"></audio>
                                  <video src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 11"  controlsList="nodownload" controls width="400" height = "200" controls class="ListVideoSizePrev"></video>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <span *ngIf="i==0 && data1.item_df_id == 7">{{questionCount+1}}</span>
                        <!-- Table -->
                        <div *ngIf="data1.item_df_id== 7" style="width: 100%;margin: 20px 0px;" class="col-md-12">
                          <div class="row">
                            <div  style="padding-left: 4px;">
                              <table class="table"  [style.width.%]="data1.table_format == 5 ? '50':100"  (mouseleave)="hideTableBtn()" [ngClass]="{'table-striped' :data1.table_format == 3,'table-bordered' : (data1.table_format == 2 || data1.table_format == 4 || data1.table_format == 5)}" >

                                <tbody>

                                  <tr *ngFor="let row of data1.data_format_value;let rowindex =index">

                                    <td *ngFor="let col of row;let colIndex = index" [ngStyle]="{'border-color':data1.table_color}" (mouseenter)="ShowTableBtn(colIndex,rowindex,col.header)" [ngClass]="{'tableHeadType':(data1.available_headers =='column' || data1.available_headers =='all') && col.header == 1 && (data1.table_format == 2  || data1.table_format == 5)}"><input type="text" autocomplete="off" class="form-control tblField" [(ngModel)]="col.table_value" [disabled]="col.table_value =='#'"  [ngClass]="{'tableHeadType':(data1.available_headers =='column' || data1.available_headers =='all') && col.header == 1 && (data1.table_format == 2 || data1.table_format == 5),'tableHeadHighlight': col.header == 1}" style="pointer-events:none;"></td>
                                  </tr>

                                </tbody>
                              </table>
                            </div>
                          </div>
                        </div>

                        <div *ngIf="data1.item_df_id == 9">
                              <div *ngFor='let input1 of data1?.data_format_value;let idn = index;'>
                                <div class="col-md-12" *ngIf="input1.match_data[0].header == 1">
                                  <div class="row">
                                    <div class="" *ngFor='let data of input1?.match_data;let in=index' style="margin-right: 19px;margin-left: 29px;" [ngClass]="{'header-margin': in==1}">
                                        <div style="margin-top:5px;" class="input-group" >
                                          <b><p *ngIf="data.match_data_format_id == 1" class="previewMatchStmt">{{data.match_value}}</p></b>
                                          <img [src]="data.match_value" *ngIf="data.match_data_format_id == 6 " style="width: 197px;height: 135px;">
                                          <audio width="400" height = "200" controls controlsList="nodownload" *ngIf="data.match_data_format_id == 10 " style="width: 202px;">
                                            <source [src]="data.match_value" type="audio/mp3">
                                          </audio>
                                          <video width="400" height = "200" controls controlsList="nodownload" *ngIf="data.match_data_format_id == 11 " style="width: 196px;height: 100px;">
                                            <source [src]="data.match_value" type="video/mp4">
                                          </video>
                                        </div>
                                    </div>

                                  </div>
                                </div>
                                <div class="col-md-12" *ngIf="input1.match_data[0].header != 1">
                                    <div class="row">

                                      <div class="" *ngFor='let data of input1?.match_data;let in=index' style="margin-right: 19px;margin-left: 29px;" >
                                          <div style="margin-top:5px;margin-bottom: 7px;" class="input-group" [ngClass]="{'extraOptionPreview' : input1?.match_data[0].match_value =='abc'}">
                                              <p *ngIf="data.match_data_format_id == 1 && data.match_value != 'abc'" class="previewMatchStmt"><span *ngIf="data.match_data_format_id == 1 && (previewArray.match_type == 4 || previewArray.match_type == 5)">{{data.label}}.</span>{{data.match_value}}</p>
                                              <span *ngIf="data.match_data_format_id == 6 && (previewArray.match_type == 4 || previewArray.match_type == 5)">{{data.label}}.</span><img [src]="data.match_value" *ngIf="data.match_data_format_id == 6 && data.match_value != 'abc'" style="width: 197px;height: 135px;">
                                              <span *ngIf="data.match_data_format_id == 10 && (previewArray.match_type == 4 || previewArray.match_type == 5)">{{data.label}}.</span><audio width="400" height = "200" controls controlsList="nodownload" *ngIf="data.match_data_format_id == 10 && data.match_value != 'abc'" style="width: 202px;">
                                                <source [src]="data.match_value" type="audio/mp3">
                                              </audio>
                                              <span *ngIf="data.match_data_format_id == 11 && (previewArray.match_type == 4 || previewArray.match_type == 5)">{{data.label}}.</span><video width="400" height = "200" controls controlsList="nodownload" *ngIf="data.match_data_format_id == 11 && data.match_value != 'abc'" style="width: 196px;height: 100px;">
                                                <source [src]="data.match_value" type="video/mp4">
                                              </video>
                                          </div>
                                      </div>

                                    </div>
                                  </div>
                              </div>
                        </div>
                      </div>
                      <!-- answer block -->
                        <div class='' *ngIf="previewArray.match_type == 5" style="margin-left: -50px;margin-top: 34px;">
                          <div *ngFor='let input of previewArray?.answer_choices; let i = index;'>
                              <div class="">
                                  <div class="correct_options_block_preview">
                                    <input name="input.correct_answer" class="selectValue" type="radio"  value={{input.correct_answer}} *ngIf="previewArray.answer_type == 'Single Answer'">
                                      <input name="input.correct_answer" class="selectValue" type="checkbox"  value={{input.correct_answer}} *ngIf="previewArray.answer_type == 'Multiple Correct Answers'">
                                  </div>
                              </div>
                            <div class="" style="margin-bottom: 6px;">
                              <div *ngIf="input.answer_df_id== 1" style="margin-top: 4px;margin-left: 93px;" [innerHTML]="input.data_format_value">{{input.data_format_value}}</div><br>
                              <div *ngIf="input.answer_df_id== 6" style="margin-top: -23px;margin-bottom: 10px;margin-left: 87px;"><img [src]="input.data_format_value" style="width: 84px;"></div>
                              <!-- audio -->
                              <div *ngIf="input.answer_df_id == 10" style="margin-top: 4px;margin-left: 102px;">
                                <audio  controls  controlsList="nodownload"  style="width: 200px;margin-left: -18px; margin-top: -23px;" class="audiotag">
                                  <source [src]="input.data_format_value" type="audio/mp3">
                                </audio>
                              </div>
                              <!-- video -->
                              <div *ngIf="input.answer_df_id == 11" style="margin-top: 4px;margin-left: 93px;">
                                <video controls controlsList="nodownload"  style="width: 173px;margin-top: -23px;" class="audiotag1">
                                  <source [src]="input.data_format_value" type="video/mp4">
                                </video>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class='' *ngIf = "previewArray.match_type == 4" >
                            <div *ngFor='let input of previewArray?.answer_choices; let idn = index;' >
                                <div class="" style="margin-bottom: 3px;">
                                    <div class="correct_options_block_preview">
                                      <input name="input.correct_answer" class="selectValue" type="radio"  value={{input.correct_answer}} *ngIf="previewArray.answer_type  == 'Single Answer'">
                                        <input name="input.correct_answer" class="selectValue" type="checkbox"  value={{input.correct_answer}} *ngIf="previewArray.answer_type  == 'Multiple Correct Answers'">
                                    </div>
                                </div>
                                <div *ngIf="input.answer_df_id== 1" >{{input.data_format_value}}</div>
                            </div>
                        </div>
                  </div>
                  <!-- FREE TEXT -->
                  <div *ngIf="previewArray.item_type==5" class="">
                    <div  class=""  *ngFor="let value of previewArray?.item; let i=index" style="margin-bottom: 18px;">
                        <span *ngIf="i==0 && value.item_df_id == 1"  class="questionNumberAlign">{{questionCount+1}}.</span><p *ngIf="value.item_df_id == 1" [innerHTML]="value.data_format_value">{{value.data_format_value}}</p>
                      <span *ngIf="i==0 && value.item_df_id == 6"  class="questionNumberAlign">{{questionCount+1}}.</span><img src="{{value.data_format_value}}" *ngIf="value.item_df_id == 6" style="width: 200px;height: 151px;" onError="this.onerror=null;this.src='../../../assets/img/no_image_available.jpeg';">
                      <span *ngIf="i==0 && value.item_df_id == 10"  class="questionNumberAlign">{{questionCount+1}}.</span><audio src="{{value.data_format_value}}" controlsList="nodownload"  *ngIf="value.item_df_id == 10" width="400" height = "200" controls></audio>
                      <span *ngIf="i==0 && value.item_df_id == 11"  class="questionNumberAlign">{{questionCount+1}}.</span><video src="{{value.data_format_value}}" controlsList="nodownload"  *ngIf="value.item_df_id == 11" width="400" height = "200" controls style="height: 128px;width: 256px;"></video>
                      <span *ngIf="i==0 && value.item_df_id == 8"  class="questionNumberAlign">{{questionCount+1}}.</span>
                            <!-- list -->
                      <div *ngIf="value.item_df_id == 8">
                        <div *ngFor="let listArray of value.data_format_value">
                          <div class="col-md-12" *ngFor="let listElements of listArray?.list_elements;let eltIndex = index">
                            <div class="row">
                              <div class="col-md-1 listLablePreview1">
                                <p class="listEltTxt" [ngClass]="{'listLabelDotPrev':listElements.list_label =='.'}" *ngIf="eltIndex == 0">{{listElements.list_label}}</p>
                              </div>
                              <div class="col-md-7">
                                <p class="listEltTxt" *ngIf="listElements.list_data_format_id == 1">{{listElements.list_value}}</p>
                                <img src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 6" class="ListImageSizePrev">
                                <audio src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 10"  controlsList="nodownload" controls width="400" height = "200" controls class="ListAudioSizePrev"></audio>
                                <video src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 11"  controlsList="nodownload" controls width="400" height = "200" controls class="ListVideoSizePrev"></video>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <span *ngIf="i==0 && value.item_df_id == 7">{{questionCount+1}}.</span>
                      <!-- Table -->
                      <div *ngIf="value.item_df_id== 7" style="width: 100%;margin: 20px 0px;" class="col-md-12">
                        <div class="row">
                          <div  style="padding-left: 4px;">
                            <table class="table"  [style.width.%]="value.table_format == 5 ? '50':100"  (mouseleave)="hideTableBtn()" [ngClass]="{'table-striped' :value.table_format == 3,'table-bordered' : (value.table_format == 2 || value.table_format == 4 || value.table_format == 5)}" >

                              <tbody>

                                <tr *ngFor="let row of value.data_format_value;let rowindex =index">

                                  <td *ngFor="let col of row;let colIndex = index" [ngStyle]="{'border-color':value.table_color}" (mouseenter)="ShowTableBtn(colIndex,rowindex,col.header)" [ngClass]="{'tableHeadType':(value.available_headers =='column' || value.available_headers =='all') && col.header == 1 && (value.table_format == 2  || value.table_format == 5)}"><input type="text" autocomplete="off" class="form-control tblField" [(ngModel)]="col.table_value" [disabled]="col.table_value =='#'"  [ngClass]="{'tableHeadType':(value.available_headers =='column' || value.available_headers =='all') && col.header == 1 && (value.table_format == 2 || value.table_format == 5),'tableHeadHighlight': col.header == 1}" style="pointer-events:none;"></td>
                                </tr>

                              </tbody>
                            </table>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <textarea class="form-control freetextarea" rows="8" cols="7"></textarea>
                    </div>
                  </div>

                  <!-- file Upload -->
                  <div *ngIf="previewArray.item_type==7" class="">
                    <div  class=""  *ngFor="let value of previewArray?.item; let i=index" style="margin-bottom: 18px;">
                      <span *ngIf="i==0 && value.item_df_id == 1"  class="questionNumberAlign">{{questionCount+1}}.</span><p *ngIf="value.item_df_id == 1" [innerHTML]="value.data_format_value">{{value.data_format_value}}</p>
                      <span *ngIf="i==0 && value.item_df_id == 6"  class="questionNumberAlign">{{questionCount+1}}.</span><img src="{{value.data_format_value}}" *ngIf="value.item_df_id == 6" style="width: 200px;height: 151px;" onError="this.onerror=null;this.src='../../../assets/img/no_image_available.jpeg';">
                      <span *ngIf="i==0 && value.item_df_id == 10"  class="questionNumberAlign">{{questionCount+1}}.</span><audio src="{{value.data_format_value}}" controlsList="nodownload"  *ngIf="value.item_df_id == 10" width="400" height = "200" controls></audio>
                      <span *ngIf="i==0 && value.item_df_id == 11"  class="questionNumberAlign">{{questionCount+1}}.</span><video src="{{value.data_format_value}}" controlsList="nodownload"  *ngIf="value.item_df_id == 11" width="400" height = "200" controls style="height: 128px;width: 256px;"></video>
                      <span *ngIf="i==0 && value.item_df_id == 8"  class="questionNumberAlign">{{questionCount+1}}.</span>
                            <!-- list -->
                      <div *ngIf="value.item_df_id == 8">
                        <div *ngFor="let listArray of value.data_format_value">
                          <div class="col-md-12" *ngFor="let listElements of listArray?.list_elements;let eltIndex = index">
                            <div class="row">
                              <div class="col-md-1 listLablePreview1">
                                <p class="listEltTxt" [ngClass]="{'listLabelDotPrev':listElements.list_label =='.'}" *ngIf="eltIndex == 0">{{listElements.list_label}}</p>
                              </div>
                              <div class="col-md-7">
                                <p class="listEltTxt" *ngIf="listElements.list_data_format_id == 1">{{listElements.list_value}}</p>
                                <img src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 6" class="ListImageSizePrev">
                                <audio src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 10"  controlsList="nodownload" controls width="400" height = "200" controls class="ListAudioSizePrev"></audio>
                                <video src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 11"  controlsList="nodownload" controls width="400" height = "200" controls class="ListVideoSizePrev"></video>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <span *ngIf="i==0 && value.item_df_id == 7">{{questionCount+1}}.</span>
                      <!-- Table -->
                      <div *ngIf="value.item_df_id== 7" style="width: 100%;margin: 20px 0px;" class="col-md-12">
                        <div class="row">
                          <div  style="padding-left: 4px;">
                            <table class="table"  [style.width.%]="value.table_format == 5 ? '50':100"  (mouseleave)="hideTableBtn()" [ngClass]="{'table-striped' :value.table_format == 3,'table-bordered' : (value.table_format == 2 || value.table_format == 4 || value.table_format == 5)}" >

                              <tbody>

                                <tr *ngFor="let row of value.data_format_value;let rowindex =index">

                                  <td *ngFor="let col of row;let colIndex = index" [ngStyle]="{'border-color':value.table_color}" (mouseenter)="ShowTableBtn(colIndex,rowindex,col.header)" [ngClass]="{'tableHeadType':(value.available_headers =='column' || value.available_headers =='all') && col.header == 1 && (value.table_format == 2  || value.table_format == 5)}"><input type="text" autocomplete="off" class="form-control tblField" [(ngModel)]="col.table_value" [disabled]="col.table_value =='#'"  [ngClass]="{'tableHeadType':(value.available_headers =='column' || value.available_headers =='all') && col.header == 1 && (value.table_format == 2 || value.table_format == 5),'tableHeadHighlight': col.header == 1}" style="pointer-events:none;"></td>
                                </tr>

                              </tbody>
                            </table>
                          </div>
                        </div>
                      </div>
                    </div>
                    <!-- answer block -->
                    <div class="col-md-12" >
                      <div class=" fileuploadPrevRow" *ngFor="let file of previewArray?.answer_choices;let d= index">
                        <div class="">
                          <p class="prevDesc"><b>Description {{d+1}}.</b>&nbsp;{{file.description}}</p>
                        </div>
                        <div class="" >
                          <p style="margin:8px;" *ngFor="let type of file.sortedArray;let f= index"><b>Allowed File Type {{f+1}}.</b>&nbsp;{{type.format}} - <span *ngFor="let ext of type.value;let e= index">{{ext.itemName}}<span *ngIf="type.value.length > e+1">,</span></span></p>
                        </div>
                        <div class="fileUploadItemTypePrev btn btn-primary" >
                            <span>Choose File</span>
                          <input type="file"  placeholder="Upload file" accept=".{{file.data_format_type}}" name="file" class="upload">
                          <i class="fa fa-circle-o-notch fa-spin spinAV" *ngIf="spinAudioQB"></i>
                        </div>
                      </div>

                    </div>
                  </div>

                </div>
                <p class="prevQues" (click)="getPreviousQues()" [ngClass]="{'disableIcons': questionCount <= 0}"><fa [name]="'chevron-left'" [size]=2 ></fa></p>
                <p class="nextQues" (click)="getNextQues()"><fa [name]="'chevron-right'" [size]=2 ></fa></p>
              </div>
            </div>
          </div>
        </div>

        <!-- Directive Items Preview -->
        <div *ngIf="(directive_id != 0 && directive_id !=undefined) && viewItemBlk ==false && getDirectiveQuestion == true && item_type !=6" class="preview_screen1">
            <!-- <button type="button" class="btn btn-primary" (click)="getNextQues()">Next</button> -->
            <div class="col-lg-12">
              <div class="row">
                <!-- directive -->
                <div class="col-lg-4" style="height: 365px;overflow-y: scroll;">
                  <div *ngFor="let direc of attributes?.directive;let i=index;">
                    <!-- <div *ngFor="let direc of ques?.content;let i=index;"> -->

                        <span *ngIf="i==0 && direc.item_df_id == 1" class="textClr">Directions (Q -1):</span>&nbsp;<p  class="direcStmt" *ngIf="direc.item_df_id == 1" [innerHTML]="this.sanitizer.bypassSecurityTrustHtml(direc.data_format_value)">{{direc.data_format_value}}</p><br>
                      <span *ngIf="i==0 && direc.item_df_id == 6">Directions (Q -1):</span><img [src]="direc.data_format_value" *ngIf="direc.item_df_id == 6" style="width: 200px;height: 151px;" onError="this.onerror=null;this.src='../../../assets/img/no_image_available.jpeg';">
                      <span *ngIf="i==0 && direc.item_df_id == 10">Directions (Q -1):</span><audio [src]="direc.data_format_value" controlsList="nodownload"  *ngIf="direc.item_df_id == 10" width="400" height = "200" controls></audio>
                      <span *ngIf="i==0 && direc.item_df_id == 11">Directions (Q -1):</span><video [src]="direc.data_format_value" controlsList="nodownload"  *ngIf="direc.item_df_id == 11" width="400" height = "200" controls style="height: 128px;width: 256px;"></video>
                      <span *ngIf="i==0 && direc.item_df_id == 8">Directions (Q -1):</span>
                      <!-- list -->
                      <div *ngIf="direc.item_df_id == 8">
                        <div *ngFor="let listArray of direc.data_format_value">
                          <div class="col-md-12" *ngFor="let listElements of listArray?.list_elements;let eltIndex = index">
                            <div class="row">
                              <div class="col-md-1 listLablePreview1">
                                <p class="listEltTxt" [ngClass]="{'listLabelDotPrev':listElements.list_label =='.'}" *ngIf="eltIndex == 0">{{listElements.list_label}}</p>
                              </div>
                              <div class="col-md-7">
                                <p class="listEltTxt" *ngIf="listElements.list_data_format_id == 1">{{listElements.list_value}}</p>
                                <img src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 6" class="ListImageSizePrev">
                                <audio src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 10"  controlsList="nodownload" controls width="400" height = "200" controls class="ListAudioSizePrev"></audio>
                                <video src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 11"  controlsList="nodownload" controls width="400" height = "200" controls class="ListVideoSizePrev"></video>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <span *ngIf="i==0 && direc.item_df_id == 7">Directions (Q -1):</span>
                        <!-- Table -->
                      <div *ngIf="direc.item_df_id== 7" style="width: 100%;margin: 20px 0px;" class="col-md-12">
                        <div class="row">
                          <div  style="padding-left: 4px;">
                            <table class="table"  [style.width.%]="direc.table_format == 5 ? '50':100"  (mouseleave)="hideTableBtn()" [ngClass]="{'table-striped' :direc.table_format == 3,'table-bordered' : (direc.table_format == 2 || direc.table_format == 4 || direc.table_format == 5)}" >

                              <tbody>

                                <tr *ngFor="let row of direc.data_format_value;let rowindex =index">

                                  <td *ngFor="let col of row;let colIndex = index" [ngStyle]="{'border-color':direc.table_color}" (mouseenter)="ShowTableBtn(colIndex,rowindex,col.header)" [ngClass]="{'tableHeadType':(direc.available_headers =='column' || direc.available_headers =='all') && col.header == 1 && (direc.table_format == 2  || direc.table_format == 5)}"><input type="text" autocomplete="off" class="form-control tblField" [(ngModel)]="col.table_value" [disabled]="col.table_value =='#'"  [ngClass]="{'tableHeadType':(direc.available_headers =='column' || direc.available_headers =='all') && col.header == 1 && (direc.table_format == 2 || direc.table_format == 5),'tableHeadHighlight': col.header == 1}" style="pointer-events:none;"></td>
                                </tr>

                              </tbody>
                            </table>
                          </div>
                        </div>
                      </div>
                    <!-- </div> -->
                  </div>
                </div>
                <!-- directive based questions -->
                <div class="col-lg-8" >
                  <div style="height: 365px;overflow-y: scroll;">
                    <!-- MCQ -->
                      <div *ngIf="item_type==1" class="">
                        <div  class=""  *ngFor="let value of attributes?.item; let i=index" style="margin-bottom: 18px;">
                            <span *ngIf="i==0 && value.item_df_id == 1" class="questionNumberAlign">1.</span><p *ngIf="value.item_df_id == 1" [innerHTML]="this.sanitizer.bypassSecurityTrustHtml(value.data_format_value)">{{value.data_format_value}}</p>
                          <span *ngIf="i==0 && value.item_df_id == 6" class="questionNumberAlign">1.</span><img [src]="value.data_format_value" *ngIf="value.item_df_id == 6" style="width: 200px;height: 151px;" onError="this.onerror=null;this.src='../../../assets/img/no_image_available.jpeg';">
                          <span *ngIf="i==0 && value.item_df_id == 10" class="questionNumberAlign">1.</span><audio [src]="value.data_format_value" controlsList="nodownload"  *ngIf="value.item_df_id == 10" width="400" height = "200" controls></audio>
                          <span *ngIf="i==0 && value.item_df_id == 11" class="questionNumberAlign">1.</span><video [src]="value.data_format_value" controlsList="nodownload"  *ngIf="value.item_df_id == 11" width="400" height = "200" controls style="height: 128px;width: 256px;"></video>
                          <span *ngIf="i==0 && value.item_df_id == 8" class="questionNumberAlign">1.</span>
                          <!-- list -->
                          <div *ngIf="value.item_df_id == 8">
                            <div *ngFor="let listArray of value.data_format_value">
                              <div class="col-md-12" *ngFor="let listElements of listArray?.list_elements;let eltIndex = index">
                                <div class="row">
                                  <div class="col-md-1 listLablePreview1">
                                    <p class="listEltTxt" [ngClass]="{'listLabelDotPrev':listElements.list_label =='.'}" *ngIf="eltIndex == 0">{{listElements.list_label}}</p>
                                  </div>
                                  <div class="col-md-7">
                                    <p class="listEltTxt" *ngIf="listElements.list_data_format_id == 1">{{listElements.list_value}}</p>
                                    <img src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 6" class="ListImageSizePrev">
                                    <audio src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 10"  controlsList="nodownload" controls width="400" height = "200" controls class="ListAudioSizePrev"></audio>
                                    <video src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 11"  controlsList="nodownload" controls width="400" height = "200" controls class="ListVideoSizePrev"></video>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                          <span *ngIf="i==0 && value.item_df_id == 7">1.</span>
                          <!-- Table -->
                          <div *ngIf="value.item_df_id== 7" style="width: 100%;margin: 20px 0px;" class="col-md-12">
                            <div class="row">
                              <div  style="padding-left: 4px;">
                                <table class="table"  [style.width.%]="value.table_format == 5 ? '50':100"  (mouseleave)="hideTableBtn()" [ngClass]="{'table-striped' :value.table_format == 3,'table-bordered' : (value.table_format == 2 || value.table_format == 4 || value.table_format == 5)}" >

                                  <tbody>

                                    <tr *ngFor="let row of value.data_format_value;let rowindex =index">

                                      <td *ngFor="let col of row;let colIndex = index" [ngStyle]="{'border-color':value.table_color}" (mouseenter)="ShowTableBtn(colIndex,rowindex,col.header)" [ngClass]="{'tableHeadType':(value.available_headers =='column' || value.available_headers =='all') && col.header == 1 && (value.table_format == 2  || value.table_format == 5)}"><input type="text" autocomplete="off" class="form-control tblField" [(ngModel)]="col.table_value" [disabled]="col.table_value =='#'"  [ngClass]="{'tableHeadType':(value.available_headers =='column' || value.available_headers =='all') && col.header == 1 && (value.table_format == 2 || value.table_format == 5),'tableHeadHighlight': col.header == 1}" style="pointer-events:none;"></td>
                                    </tr>

                                  </tbody>
                                </table>
                              </div>
                            </div>
                          </div>
                        </div>

                        <!-- answer block -->
                        <div class=''>
                            <div *ngFor='let input of attributes?.answer_choices; let i = index;'>
                                <div class="">
                                    <div class="correct_options_block_preview">
                                      <input name="input.correct_answer" class="selectValue" type="radio"  value={{input.correct_answer}} *ngIf="attributes.answer_type == 'Single Answer'">
                                        <input name="input.correct_answer" class="selectValue" type="checkbox"  value={{input.correct_answer}} *ngIf="attributes.answer_type == 'Multiple Correct Answers'">
                                    </div>
                                </div>
                              <div class="">
                                <div *ngFor="let data of input?.choice_elements; let id=index;">
                                  <div *ngIf="data.answer_df_id== 1" style="margin-left: 3px;margin-bottom: 4px;" [innerHTML]="this.sanitizer.bypassSecurityTrustHtml(data.data_format_value)">{{data.data_format_value}}</div><br>
                                  <div *ngIf="data.answer_df_id== 6" style="margin-top: -23px;margin-bottom: 10px;margin-left: 93px;" ><img [src]="data.data_format_value" style="width: 84px;" onError="this.onerror=null;this.src='../../../assets/img/no_image_available.jpeg';"></div>
                                  <!-- audio -->
                                  <div *ngIf="data.answer_df_id == 10" style="margin-top: 4px;margin-left: 104px;margin-bottom: 8px;">
                                    <audio  controls  controlsList="nodownload"  style="width: 200px;margin-left: -18px; margin-top: -23px;" class="audiotag">
                                      <source [src]="data.data_format_value" type="audio/mp3">
                                    </audio>
                                  </div>
                                  <!-- video -->
                                  <div *ngIf="data.answer_df_id == 11" style="margin-top: 4px;margin-left: 90px;margin-bottom: 8px;" >
                                    <video controls controlsList="nodownload"  style="width: 173px;margin-top: -23px;" class="audiotag1">
                                      <source [src]="data.data_format_value" type="video/mp4">
                                      </video>
                                  </div>
                                </div>
                              </div>
                            </div>
                        </div>
                      </div>
                      <!-- Tf -->
                      <div *ngIf="item_type==2" class="" >
                        <div  class="" *ngFor="let value of attributes?.item; let i=index" style="margin-bottom: 18px;">
                            <span *ngIf="i==0 && value.item_df_id == 1" class="questionNumberAlign">1.</span><p *ngIf="value.item_df_id == 1"  [innerHTML]="this.sanitizer.bypassSecurityTrustHtml(value.data_format_value)">{{value.data_format_value}}</p>
                          <span *ngIf="i==0 && value.item_df_id == 6" class="questionNumberAlign">1.</span><img [src]="value.data_format_value" *ngIf="value.item_df_id == 6" style="width: 200px;height: 151px;" onError="this.onerror=null;this.src='../../../assets/img/no_image_available.jpeg';">
                          <span *ngIf="i==0 && value.item_df_id == 10" class="questionNumberAlign">1.</span><audio [src]="value.data_format_value" controlsList="nodownload"  *ngIf="value.item_df_id == 10" width="400" height = "200" controls></audio>
                          <span *ngIf="i==0 && value.item_df_id == 11" class="questionNumberAlign">1.</span><video [src]="value.data_format_value" controlsList="nodownload"  *ngIf="value.item_df_id == 11" width="400" height = "200" controls style="height: 128px;width: 256px;"></video>
                          <span *ngIf="i==0 && value.item_df_id == 8" class="questionNumberAlign">1.</span>
                          <!-- list -->
                          <div *ngIf="value.item_df_id == 8">
                            <div *ngFor="let listArray of value.data_format_value">
                              <div class="col-md-12" *ngFor="let listElements of listArray?.list_elements;let eltIndex = index">
                                <div class="row">
                                  <div class="col-md-1 listLablePreview1">
                                    <p class="listEltTxt" [ngClass]="{'listLabelDotPrev':listElements.list_label =='.'}" *ngIf="eltIndex == 0">{{listElements.list_label}}</p>
                                  </div>
                                  <div class="col-md-7">
                                    <p class="listEltTxt" *ngIf="listElements.list_data_format_id == 1">{{listElements.list_value}}</p>
                                    <img src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 6" class="ListImageSizePrev">
                                    <audio src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 10"  controlsList="nodownload" controls width="400" height = "200" controls class="ListAudioSizePrev"></audio>
                                    <video src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 11"  controlsList="nodownload" controls width="400" height = "200" controls class="ListVideoSizePrev"></video>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                          <span *ngIf="i==0 && value.item_df_id == 7">1.</span>
                          <!-- Table -->
                          <div *ngIf="value.item_df_id== 7" style="width: 100%;margin: 20px 0px;" class="col-md-12">
                          <div class="row">
                            <div  style="padding-left: 4px;">
                              <table class="table"  [style.width.%]="value.table_format == 5 ? '50':100"  (mouseleave)="hideTableBtn()" [ngClass]="{'table-striped' :value.table_format == 3,'table-bordered' : (value.table_format == 2 || value.table_format == 4 || value.table_format == 5)}" >

                                <tbody>

                                  <tr *ngFor="let row of value.data_format_value;let rowindex =index">

                                    <td *ngFor="let col of row;let colIndex = index" [ngStyle]="{'border-color':value.table_color}" (mouseenter)="ShowTableBtn(colIndex,rowindex,col.header)" [ngClass]="{'tableHeadType':(value.available_headers =='column' || value.available_headers =='all') && col.header == 1 && (value.table_format == 2  || value.table_format == 5)}"><input type="text" autocomplete="off" class="form-control tblField" [(ngModel)]="col.table_value" [disabled]="col.table_value =='#'"  [ngClass]="{'tableHeadType':(value.available_headers =='column' || value.available_headers =='all') && col.header == 1 && (value.table_format == 2 || value.table_format == 5),'tableHeadHighlight': col.header == 1}" style="pointer-events:none;"></td>
                                  </tr>

                                </tbody>
                              </table>
                            </div>
                          </div>
                          </div>
                        </div>
                          <!-- answer block -->
                        <div class=''>
                            <div *ngFor='let input of attributes?.answer_choices; let i = index;'>
                                <div class="correct_options_block_TF">
                                    <div class="correct_radio_button_TF">
                                        <input name="input.correct_answer" type="radio"  value={{input.correct_answer}}/>&nbsp;
                                        {{input.data_format_value}}
                                    </div>
                                </div>
                            </div>
                        </div>
                      </div>
                        <!-- match type 1-->
                      <div  *ngIf="item_type == 3 && matchtypeSelected == 1" class="" >
                          <div *ngFor="let data1 of attributes?.item; let i = index;" class="display_margin1">
                            <span *ngIf="i==0 && data1.item_df_id == 1" class="questionNumberAlign">1.</span><p *ngIf="data1.item_df_id == 1" [innerHTML]="this.sanitizer.bypassSecurityTrustHtml(data1.data_format_value)">{{data1.data_format_value}}</p>
                            <span *ngIf="i==0 && data1.item_df_id == 6" class="questionNumberAlign">1.</span><img [src]="data1.data_format_value" *ngIf="data1.item_df_id == 6" style="width: 200px;height: 151px;" onError="this.onerror=null;this.src='../../../assets/img/no_image_available.jpeg';">
                            <span *ngIf="i==0 && data1.item_df_id == 10" class="questionNumberAlign">1.</span><audio [src]="data1.data_format_value" *ngIf="data1.item_df_id == 10" width="400" height = "200" controls></audio>
                            <span *ngIf="i==0 && data1.item_df_id == 11" class="questionNumberAlign">1.</span><video [src]="data1.data_format_value" *ngIf="data1.item_df_id == 11" width="400" height = "200" controls></video>
                            <span *ngIf="i==0 && data1.item_df_id == 8" class="questionNumberAlign">1.</span>
                              <!-- list -->
                              <div *ngIf="data1.item_df_id == 8">
                                <div *ngFor="let listArray of data1.data_format_value">
                                  <div class="col-md-12" *ngFor="let listElements of listArray?.list_elements;let eltIndex = index">
                                    <div class="row">
                                      <div class="col-md-1 listLablePreview1">
                                        <p class="listEltTxt" [ngClass]="{'listLabelDotPrev':listElements.list_label =='.'}" *ngIf="eltIndex == 0">{{listElements.list_label}}</p>
                                      </div>
                                      <div class="col-md-7">
                                        <p class="listEltTxt" *ngIf="listElements.list_data_format_id == 1">{{listElements.list_value}}</p>
                                        <img [src]="listElements.list_value" *ngIf="listElements.list_data_format_id == 6" class="ListImageSizePrev">
                                        <audio [src]="listElements.list_value" *ngIf="listElements.list_data_format_id == 10"  controlsList="nodownload" controls width="400" height = "200" controls class="ListAudioSizePrev"></audio>
                                        <video [src]="listElements.list_value" *ngIf="listElements.list_data_format_id == 11"  controlsList="nodownload" controls width="400" height = "200" controls class="ListVideoSizePrev"></video>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                              <span *ngIf="i==0 && data1.item_df_id == 7">1.</span>
                              <!-- Table -->
                              <div *ngIf="data1.item_df_id== 7" style="width: 100%;margin: 20px 0px;" class="col-md-12">
                                <div class="row">
                                  <div  style="padding-left: 4px;">
                                    <table class="table"  [style.width.%]="data1.table_format == 5 ? '50':100"  (mouseleave)="hideTableBtn()" [ngClass]="{'table-striped' :data1.table_format == 3,'table-bordered' : (data1.table_format == 2 || data1.table_format == 4 || data1.table_format == 5)}" >

                                      <tbody>

                                        <tr *ngFor="let row of data1.data_format_value;let rowindex =index">

                                          <td *ngFor="let col of row;let colIndex = index" [ngStyle]="{'border-color':data1.table_color}" (mouseenter)="ShowTableBtn(colIndex,rowindex,col.header)" [ngClass]="{'tableHeadType':(data1.available_headers =='column' || data1.available_headers =='all') && col.header == 1 && (data1.table_format == 2  || data1.table_format == 5)}"><input type="text" autocomplete="off" class="form-control tblField" [(ngModel)]="col.table_value" [disabled]="col.table_value =='#'"  [ngClass]="{'tableHeadType':(data1.available_headers =='column' || data1.available_headers =='all') && col.header == 1 && (data1.table_format == 2 || data1.table_format == 5),'tableHeadHighlight': col.header == 1}" style="pointer-events:none;"></td>
                                        </tr>

                                      </tbody>
                                    </table>
                                  </div>
                                </div>
                              </div>

                            <div *ngIf="data1.item_df_id == 9">
                                  <div *ngFor='let input1 of data1?.data_format_value;let idn = index;'>
                                    <div class="col-md-12" *ngIf="input1.match_data[0].matchValueArray[0].header == 1">
                                      <div class="row">
                                        <div class="" *ngFor='let data1 of input1?.match_data;let in=index' style="margin-right: 19px;margin-left: 29px;" [ngClass]="{'header-margin': in==1}">
                                          <div *ngFor="let data of data1?.matchValueArray">
                                            <div style="margin-top:5px;" class="input-group" >
                                              <b><p *ngIf="data.match_data_format_id == 1" class="previewMatchStmt">{{data.match_value}}</p></b>
                                              <img [src]="data.match_value" *ngIf="data.match_data_format_id == 6 " style="width: 197px;height: 135px;">
                                              <audio width="400" height = "200" controls controlsList="nodownload" *ngIf="data.match_data_format_id == 10 " style="width: 202px;">
                                                <source [src]="data.match_value" type="audio/mp3">
                                              </audio>
                                              <video width="400" height = "200" controls controlsList="nodownload" *ngIf="data.match_data_format_id == 11 " style="width: 196px;height: 100px;">
                                                <source [src]="data.match_value" type="video/mp4">
                                              </video>
                                            </div>
                                          </div>
                                        </div>

                                      </div>
                                    </div>
                                    <div class="col-md-12" *ngIf="input1.match_data[0].matchValueArray[0].header != 1">
                                        <div class="row">

                                          <div class="" *ngFor='let data2 of input1?.match_data;let in=index' style="margin-right: 19px;margin-left: 29px;" >
                                            <div *ngFor="let data of data2?.matchValueArray">
                                              <div style="margin-top:5px;margin-bottom: 7px;" class="input-group" >
                                                  <p *ngIf="data.match_data_format_id == 1 && in==0 && data.match_value != 'abc'" class="previewMatchStmt"><span *ngIf="data.match_data_format_id == 1 && in==0"></span>{{data.match_value}}</p>
                                                  <span *ngIf="data.match_data_format_id == 6 && in==0"></span><img src="{{data.match_value}}" *ngIf="data.match_data_format_id == 6 && in==0 && data.match_value != 'abc'" style="width: 197px;height: 135px;">
                                                  <span *ngIf="data.match_data_format_id == 10 && in==0"></span><audio width="400" height = "200" controls controlsList="nodownload" *ngIf="data.match_data_format_id == 10 && in==0 && data.match_value != 'abc'" style="width: 202px;">
                                                    <source src="{{data.match_value}}" type="audio/mp3">
                                                  </audio>
                                                  <span *ngIf="data.match_data_format_id == 11 && in==0"></span><video width="400" height = "200" controls controlsList="nodownload" *ngIf="data.match_data_format_id == 11 && in==0 && data.match_value != 'abc'" style="width: 196px;height: 100px;">
                                                    <source src="{{data.match_value}}" type="video/mp4">
                                                  </video>
                                              </div>
                                              <div  *ngIf="in == 1  && input1?.match_data[0].match_value !='abc'" style="margin-left: -24px;">
                                                  <select  class="form-control" >
                                                    <option [disabled]='true'>Select a Correct Answer</option>
                                                    <option *ngFor="let input1 of data1?.data_format_value" [value]="input1?.match_data[1].match_value" [hidden]="input1?.match_data[1].header == 1"><P *ngIf="input1?.match_data[1].header != 1">{{input1?.match_data[1].match_value}}</P></option>
                                                  </select>
                                              </div>
                                            </div>
                                          </div>

                                        </div>
                                      </div>
                                  </div>
                            </div>
                          </div>
                      </div>
                      <!-- match type 2 -->
                      <div  *ngIf="item_type == 3 && matchtypeSelected == 2" class="" >
                          <div *ngFor="let data1 of attributes?.item; let i = index;" class="display_margin1">
                              <span *ngIf="i==0 && data1.item_df_id == 1" class="questionNumberAlign">1.</span><p *ngIf="data1.item_df_id == 1" [innerHTML]="this.sanitizer.bypassSecurityTrustHtml(data1.data_format_value)">{{data1.data_format_value}}</p>
                            <span *ngIf="i==0 && data1.item_df_id == 6" class="questionNumberAlign">1.</span><img [src]="data1.data_format_value" *ngIf="data1.item_df_id == 6" style="width: 200px;height: 151px;" onError="this.onerror=null;this.src='../../../assets/img/no_image_available.jpeg';">
                            <span *ngIf="i==0 && data1.item_df_id == 10" class="questionNumberAlign">1.</span><audio [src]="data1.data_format_value" *ngIf="data1.item_df_id == 10" width="400" height = "200" controls></audio>
                            <span *ngIf="i==0 && data1.item_df_id == 11" class="questionNumberAlign">1.</span><video [src]="data1.data_format_value" *ngIf="data1.item_df_id == 11" width="400" height = "200" controls></video>
                            <span *ngIf="i==0 && data1.item_df_id == 8" class="questionNumberAlign">1.</span>
                              <!-- list -->
                              <div *ngIf="data1.item_df_id == 8">
                                <div *ngFor="let listArray of data1.data_format_value">
                                  <div class="col-md-12" *ngFor="let listElements of listArray?.list_elements;let eltIndex = index">
                                    <div class="row">
                                      <div class="col-md-1 listLablePreview1">
                                        <p class="listEltTxt" [ngClass]="{'listLabelDotPrev':listElements.list_label =='.'}" *ngIf="eltIndex == 0">{{listElements.list_label}}</p>
                                      </div>
                                      <div class="col-md-7">
                                        <p class="listEltTxt" *ngIf="listElements.list_data_format_id == 1">{{listElements.list_value}}</p>
                                        <img src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 6" class="ListImageSizePrev">
                                        <audio src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 10"  controlsList="nodownload" controls width="400" height = "200" controls class="ListAudioSizePrev"></audio>
                                        <video src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 11"  controlsList="nodownload" controls width="400" height = "200" controls class="ListVideoSizePrev"></video>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                              <span *ngIf="i==0 && data1.item_df_id == 7">1.</span>
                              <!-- Table -->
                              <div *ngIf="data1.item_df_id== 7" style="width: 100%;margin: 20px 0px;" class="col-md-12">
                                <div class="row">
                                  <div  style="padding-left: 4px;">
                                    <table class="table"  [style.width.%]="data1.table_format == 5 ? '50':100"  (mouseleave)="hideTableBtn()" [ngClass]="{'table-striped' :data1.table_format == 3,'table-bordered' : (data1.table_format == 2 || data1.table_format == 4 || data1.table_format == 5)}" >

                                      <tbody>

                                        <tr *ngFor="let row of data1.data_format_value;let rowindex =index">

                                          <td *ngFor="let col of row;let colIndex = index" [ngStyle]="{'border-color':data1.table_color}" (mouseenter)="ShowTableBtn(colIndex,rowindex,col.header)" [ngClass]="{'tableHeadType':(data1.available_headers =='column' || data1.available_headers =='all') && col.header == 1 && (data1.table_format == 2  || data1.table_format == 5)}"><input type="text" autocomplete="off" class="form-control tblField" [(ngModel)]="col.table_value" [disabled]="col.table_value =='#'"  [ngClass]="{'tableHeadType':(data1.available_headers =='column' || data1.available_headers =='all') && col.header == 1 && (data1.table_format == 2 || data1.table_format == 5),'tableHeadHighlight': col.header == 1}" style="pointer-events:none;"></td>
                                        </tr>

                                      </tbody>
                                    </table>
                                  </div>
                                </div>
                              </div>

                            <div *ngIf="data1.item_df_id == 9">
                                  <div *ngFor='let input1 of data1?.data_format_value;let idn = index;'>
                                    <div class="col-md-12" *ngIf="input1.match_data[0].matchValueArray[0].header == 1">
                                      <div class="row">
                                        <div class="" *ngFor='let data1 of input1?.match_data;let in=index' style="margin-right: 19px;margin-left: 29px;" [ngClass]="{'header-margin': in==1}">
                                          <div *ngFor="let data of data1?.matchValueArray">
                                            <div style="margin-top:5px;" class="input-group" >
                                              <b><p *ngIf="data.match_data_format_id == 1" class="previewMatchStmt">{{data.match_value}}</p></b>
                                              <img [src]="data.match_value" *ngIf="data.match_data_format_id == 6 " style="width: 197px;height: 135px;">
                                              <audio width="400" height = "200" controls controlsList="nodownload" *ngIf="data.match_data_format_id == 10 " style="width: 202px;">
                                                <source [src]="data.match_value" type="audio/mp3">
                                              </audio>
                                              <video width="400" height = "200" controls controlsList="nodownload" *ngIf="data.match_data_format_id == 11 " style="width: 196px;height: 100px;">
                                                <source [src]="data.match_value" type="video/mp4">
                                              </video>
                                            </div>
                                          </div>
                                        </div>

                                      </div>
                                    </div>
                                    <div class="col-md-12" *ngIf="input1.match_data[0].matchValueArray[0].header != 1">
                                        <div class="row">

                                          <div class="" *ngFor='let data2 of input1?.match_data;let in=index' style="margin-right: 19px;margin-left: 29px;" >
                                            <div *ngFor="let data of data2?.matchValueArray">
                                              <div style="margin-top:5px;margin-bottom: 7px;" class="input-group" >
                                                  <p *ngIf="data.match_data_format_id == 1 && in==0 && data.match_value != 'abc'" class="previewMatchStmt"><span *ngIf="data.match_data_format_id == 1 && in==0"></span>{{data.match_value}}</p>
                                                  <span *ngIf="data.match_data_format_id == 6 && in==0"></span><img [src]="data.match_value" *ngIf="data.match_data_format_id == 6 && in==0 && data.match_value != 'abc'" style="width: 197px;height: 135px;">
                                                  <span *ngIf="data.match_data_format_id == 10 && in==0"></span><audio width="400" height = "200" controls controlsList="nodownload" *ngIf="data.match_data_format_id == 10 && in==0 && data.match_value != 'abc'" style="width: 202px;">
                                                    <source [src]="data.match_value" type="audio/mp3">
                                                  </audio>
                                                  <span *ngIf="data.match_data_format_id == 11 && in==0"></span><video width="400" height = "200" controls controlsList="nodownload" *ngIf="data.match_data_format_id == 11 && in==0 && data.match_value != 'abc'" style="width: 196px;height: 100px;">
                                                    <source [src]="data.match_value" type="video/mp4">
                                                  </video>
                                              </div>
                                              <div  *ngIf="in == 1 && input1?.match_data[0].match_value !='abc'" class="otherElementsDirec" >
                                                <div *ngFor= "let value of arrayToDrag;let a=index" [ngClass]="{'extraOptionPreview' : input1?.match_data[0].match_value =='abc'}">
                                                <!-- <input type="text" autocomplete="off" class="form-control" [dragula]='"fifth-bag"' [dragulaModel]="arrayToDrag" *ngIf="a==idn-1"> -->
                                                <div [dragula]='"fifth-bag"' [dragulaModel]="arrayToDrag" [dragulaOptions]="options1" class="dropArea" *ngIf="a==idn-1"></div>
                                                </div>
                                              </div>
                                            </div>
                                          </div>

                                        </div>
                                      </div>
                                    </div>
                                    <div class="col-lg-8 pool-answer-margin" [dragula]='"fifth-bag"' [dragulaOptions]="options1">
                                      <div class=" col-lg-6" *ngFor = "let input1 of data1?.data_format_value" style="display:inline-flex;margin-top: 8px;" [hidden]="input1?.match_data[0].header == 1">
                                        <p  class="pool_answers drag" *ngIf="input1?.match_data[1].match_data_format_id ==1">{{input1?.match_data[1].match_value}}</p>
                                        <img [src]="input1?.match_data[1].match_value" class="pool_answers drag" *ngIf="input1?.match_data[1].match_data_format_id ==6" style="width: 187px;height: 113px;">
                                        <audio width="400" height = "200" controls controlsList="nodownload" class="pool_answers drag" *ngIf="input1?.match_data[1].match_data_format_id ==10" style="width: 202px;">
                                          <source [src]="input1?.match_data[1].match_value" type="audio/mp3">
                                        </audio>
                                        <video width="400" height = "200" controls controlsList="nodownload" class="pool_answers drag" *ngIf="input1?.match_data[1].match_data_format_id ==11" style="width: 196px;height:103px;">
                                          <source [src]="input1?.match_data[1].match_value" type="video/mp4">
                                          </video>
                                      </div>
                                    </div>
                            </div>
                          </div>

                      </div>
                      <!-- match type 3 -->
                      <div  *ngIf="item_type == 3 && matchtypeSelected == 3" class="" >
                          <div *ngFor="let data1 of attributes?.item; let i = index;" class="display_margin1">
                              <span *ngIf="i==0 && data1.item_df_id == 1" class="questionNumberAlign">1.</span><p *ngIf="data1.item_df_id == 1"  [innerHTML]="this.sanitizer.bypassSecurityTrustHtml(data1.data_format_value)">{{data1.data_format_value}}</p>
                            <span *ngIf="i==0 && data1.item_df_id == 6" class="questionNumberAlign">1.</span><img [src]="data1.data_format_value" *ngIf="data1.item_df_id == 6" style="width: 200px;height: 151px;" onError="this.onerror=null;this.src='../../../assets/img/no_image_available.jpeg';">
                            <span *ngIf="i==0 && data1.item_df_id == 10" class="questionNumberAlign">1.</span><audio [src]="data1.data_format_value" *ngIf="data1.item_df_id == 10" width="400" height = "200" controls></audio>
                            <span *ngIf="i==0 && data1.item_df_id == 11" class="questionNumberAlign">1.</span><video [src]="data1.data_format_value" *ngIf="data1.item_df_id == 11" width="400" height = "200" controls></video>
                            <span *ngIf="i==0 && data1.item_df_id == 8" class="questionNumberAlign">1.</span>
                              <!-- list -->
                              <div *ngIf="data1.item_df_id == 8">
                                <div *ngFor="let listArray of data1.data_format_value">
                                  <div class="col-md-12" *ngFor="let listElements of listArray?.list_elements;let eltIndex = index">
                                    <div class="row">
                                      <div class="col-md-1 listLablePreview1">
                                        <p class="listEltTxt" [ngClass]="{'listLabelDotPrev':listElements.list_label =='.'}" *ngIf="eltIndex == 0">{{listElements.list_label}}</p>
                                      </div>
                                      <div class="col-md-7">
                                        <p class="listEltTxt" *ngIf="listElements.list_data_format_id == 1">{{listElements.list_value}}</p>
                                        <img src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 6" class="ListImageSizePrev">
                                        <audio src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 10"  controlsList="nodownload" controls width="400" height = "200" controls class="ListAudioSizePrev"></audio>
                                        <video src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 11"  controlsList="nodownload" controls width="400" height = "200" controls class="ListVideoSizePrev"></video>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                              <span *ngIf="i==0 && data1.item_df_id == 7">1.</span>
                              <!-- Table -->
                              <div *ngIf="data1.item_df_id== 7" style="width: 100%;margin: 20px 0px;" class="col-md-12">
                                <div class="row">
                                  <div  style="padding-left: 4px;">
                                    <table class="table"  [style.width.%]="data1.table_format == 5 ? '50':100"  (mouseleave)="hideTableBtn()" [ngClass]="{'table-striped' :data1.table_format == 3,'table-bordered' : (data1.table_format == 2 || data1.table_format == 4 || data1.table_format == 5)}" >

                                      <tbody>

                                        <tr *ngFor="let row of data1.data_format_value;let rowindex =index">

                                          <td *ngFor="let col of row;let colIndex = index" [ngStyle]="{'border-color':data1.table_color}" (mouseenter)="ShowTableBtn(colIndex,rowindex,col.header)" [ngClass]="{'tableHeadType':(data1.available_headers =='column' || data1.available_headers =='all') && col.header == 1 && (data1.table_format == 2  || data1.table_format == 5)}"><input type="text" autocomplete="off" class="form-control tblField" [(ngModel)]="col.table_value" [disabled]="col.table_value =='#'"  [ngClass]="{'tableHeadType':(data1.available_headers =='column' || data1.available_headers =='all') && col.header == 1 && (data1.table_format == 2 || data1.table_format == 5),'tableHeadHighlight': col.header == 1}" style="pointer-events:none;"></td>
                                        </tr>

                                      </tbody>
                                    </table>
                                  </div>
                                </div>
                              </div>

                            <div *ngIf="data1.item_df_id == 9">
                                  <div *ngFor='let input1 of data1?.data_format_value;let idn = index;'>
                                    <div class="col-md-12" *ngIf="input1.match_data[0].matchValueArray[0].header == 1">
                                      <div class="row">
                                        <div class="" *ngFor='let data1 of input1?.match_data;let in=index' style="margin-right: 19px;margin-left: 29px;" [ngClass]="{'header-margin': in==1}">
                                          <div *ngFor="let data of data1?.matchValueArray">
                                            <div style="margin-top:5px;" class="input-group" >
                                              <b><p *ngIf="data.match_data_format_id == 1" class="previewMatchStmt">{{data.match_value}}</p></b>
                                              <img [src]="data.match_value" *ngIf="data.match_data_format_id == 6 " style="width: 197px;height: 135px;">
                                              <audio width="400" height = "200" controls controlsList="nodownload" *ngIf="data.match_data_format_id == 10 " style="width: 202px;">
                                                <source [src]="data.match_value" type="audio/mp3">
                                              </audio>
                                              <video width="400" height = "200" controls controlsList="nodownload" *ngIf="data.match_data_format_id == 11 " style="width: 196px;height: 100px;">
                                                <source [src]="data.match_value" type="video/mp4">
                                              </video>
                                            </div>
                                          </div>
                                        </div>

                                      </div>
                                    </div>
                                    <div class="col-md-12" *ngIf="input1.match_data[0].matchValueArray[0].header != 1">
                                        <div class="row">

                                          <div class="" *ngFor='let data2 of input1?.match_data;let in=index' style="margin-right: 19px;" >
                                            <div *ngFor="let data of data2?.matchValueArray">
                                              <div style="margin-top:5px;width: 210px;" class="input-group" >

                                                  <p *ngIf="data.match_data_format_id == 1 && in == 0 && data.match_value !='abc'" class="previewMatchStmt">{{data.match_value}}</p>
                                                  <img src="{{data.match_value}}" *ngIf="data.match_data_format_id == 6 && in == 0" style="width:156px;height:96px;">
                                                    <audio width="400" height = "200" controls controlsList="nodownload" *ngIf="data.match_data_format_id == 10 && in == 0" style="width:156px;">
                                                      <source src="{{data.match_value}}" type="audio/mp3">
                                                    </audio>
                                                  <video width="400" height = "200" controls controlsList="nodownload" *ngIf="data.match_data_format_id == 11 && in == 0" style="width:171px;height: 78px;">
                                                    <source src="{{data.match_value}}" type="video/mp4">
                                                  </video>
                                              </div>
                                              <div  *ngIf="in == 1" class="otherOptions " [ngClass]="{'lastOption':input1?.match_data[0].match_value =='abc' }" (mouseenter) ="addCss($event)" (mouseleave) ="removeCss($event)" style="width:100%">
                                                <div [dragula]='"bag-one"'  [dragulaModel]='arrayToDrag' class="">
                                                  <div *ngFor="let value of arrayToDrag;let valueindex=index" class="drag">
                                                    <p *ngIf="value.match_data_format_id == 1 && valueindex==idn-1" class="interChange">{{value.match_value}}</p>
                                                    <!-- <input type="text" autocomplete="off" class="form-control " [(ngModel)]="value.match_value" value = "value.match_value" *ngIf="value.match_data_format_id == 1 && valueindex==idn-1"> -->
                                                    <img src="{{value.match_value}}" *ngIf="value.match_data_format_id == 6 && valueindex==idn-1" style="width:156px;height:96px;">
                                                      <audio width="400" height = "200" controls controlsList="nodownload" *ngIf="value.match_data_format_id == 10 && valueindex==idn-1" style="width:156px;">
                                                        <source src="{{value.match_value}}" type="audio/mp3">
                                                      </audio>
                                                    <video width="400" height = "200" controls controlsList="nodownload" *ngIf="value.match_data_format_id == 11 && valueindex==idn-1" style="width:171px;height: 78px;">
                                                      <source src="{{value.match_value}}" type="video/mp4">
                                                    </video>
                                                  </div>
                                                </div>
                                              </div>
                                            </div>
                                          </div>

                                        </div>
                                    </div>
                                  </div>
                            </div>
                          </div>
                      </div>
                      <!-- match type 4,5 -->
                      <div  *ngIf="item_type == 3 && (matchtypeSelected == 5 || matchtypeSelected == 4)" class="" >
                          <div *ngFor="let data1 of attributes?.item; let i = index;" class="display_margin1">
                              <span *ngIf="i==0 && data1.item_df_id == 1" class="questionNumberAlign">1.</span><p *ngIf="data1.item_df_id == 1" [innerHTML]="this.sanitizer.bypassSecurityTrustHtml(data1.data_format_value)">{{data1.data_format_value}}</p>
                            <span *ngIf="i==0 && data1.item_df_id == 6" class="questionNumberAlign">1.</span><img [src]="data1.data_format_value" *ngIf="data1.item_df_id == 6" style="width: 200px;height: 151px;" onError="this.onerror=null;this.src='../../../assets/img/no_image_available.jpeg';">
                            <span *ngIf="i==0 && data1.item_df_id == 10" class="questionNumberAlign">1.</span><audio [src]="data1.data_format_value" *ngIf="data1.item_df_id == 10" width="400" height = "200" controls></audio>
                            <span *ngIf="i==0 && data1.item_df_id == 11" class="questionNumberAlign">1.</span><video [src]="data1.data_format_value" *ngIf="data1.item_df_id == 11" width="400" height = "200" controls></video>
                            <span *ngIf="i==0 && data1.item_df_id == 8" class="questionNumberAlign">1.</span>
                              <!-- list -->
                              <div *ngIf="data1.item_df_id == 8">
                                <div *ngFor="let listArray of data1.data_format_value">
                                  <div class="col-md-12" *ngFor="let listElements of listArray?.list_elements;let eltIndex = index">
                                    <div class="row">
                                      <div class="col-md-1 listLablePreview1">
                                        <p class="listEltTxt" [ngClass]="{'listLabelDotPrev':listElements.list_label =='.'}" *ngIf="eltIndex == 0">{{listElements.list_label}}</p>
                                      </div>
                                      <div class="col-md-7">
                                        <p class="listEltTxt" *ngIf="listElements.list_data_format_id == 1">{{listElements.list_value}}</p>
                                        <img src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 6" class="ListImageSizePrev">
                                        <audio src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 10"  controlsList="nodownload" controls width="400" height = "200" controls class="ListAudioSizePrev"></audio>
                                        <video src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 11"  controlsList="nodownload" controls width="400" height = "200" controls class="ListVideoSizePrev"></video>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                              <span *ngIf="i==0 && data1.item_df_id == 7">1.</span>
                              <!-- Table -->
                              <div *ngIf="data1.item_df_id== 7" style="width: 100%;margin: 20px 0px;" class="col-md-12">
                                <div class="row">
                                  <div  style="padding-left: 4px;">
                                    <table class="table"  [style.width.%]="data1.table_format == 5 ? '50':100"  (mouseleave)="hideTableBtn()" [ngClass]="{'table-striped' :data1.table_format == 3,'table-bordered' : (data1.table_format == 2 || data1.table_format == 4 || data1.table_format == 5)}" >

                                      <tbody>

                                        <tr *ngFor="let row of data1.data_format_value;let rowindex =index">

                                          <td *ngFor="let col of row;let colIndex = index" [ngStyle]="{'border-color':data1.table_color}" (mouseenter)="ShowTableBtn(colIndex,rowindex,col.header)" [ngClass]="{'tableHeadType':(data1.available_headers =='column' || data1.available_headers =='all') && col.header == 1 && (data1.table_format == 2  || data1.table_format == 5)}"><input type="text" autocomplete="off" class="form-control tblField" [(ngModel)]="col.table_value" [disabled]="col.table_value =='#'"  [ngClass]="{'tableHeadType':(data1.available_headers =='column' || data1.available_headers =='all') && col.header == 1 && (data1.table_format == 2 || data1.table_format == 5),'tableHeadHighlight': col.header == 1}" style="pointer-events:none;"></td>
                                        </tr>

                                      </tbody>
                                    </table>
                                  </div>
                                </div>
                              </div>

                            <div *ngIf="data1.item_df_id == 9">
                                  <div *ngFor='let input1 of data1?.data_format_value;let idn = index;'>
                                    <div class="col-md-12" *ngIf="input1.match_data[0].matchValueArray[0].header == 1">
                                      <div class="row">
                                        <div class="" *ngFor='let data1 of input1?.match_data;let in=index' style="margin-right: 19px;margin-left: 29px;" [ngClass]="{'header-margin': in==1}">
                                          <div *ngFor="let data of data1?.matchValueArray">
                                            <div style="margin-top:5px;" class="input-group" >
                                              <b><p *ngIf="data.match_data_format_id == 1" class="previewMatchStmt">{{data.match_value}}</p></b>
                                              <img [src]="data.match_value" *ngIf="data.match_data_format_id == 6 " style="width: 197px;height: 135px;">
                                              <audio width="400" height = "200" controls controlsList="nodownload" *ngIf="data.match_data_format_id == 10 " style="width: 202px;">
                                                <source [src]="data.match_value" type="audio/mp3">
                                              </audio>
                                              <video width="400" height = "200" controls controlsList="nodownload" *ngIf="data.match_data_format_id == 11 " style="width: 196px;height: 100px;">
                                                <source [src]="data.match_value" type="video/mp4">
                                              </video>
                                            </div>
                                          </div>
                                        </div>

                                      </div>
                                    </div>
                                    <div class="col-md-12" *ngIf="input1.match_data[0].matchValueArray[0].header != 1">
                                        <div class="row">

                                          <div class="" *ngFor='let data2 of input1?.match_data;let in=index' style="margin-right: 19px;margin-left: 29px;" >
                                            <div *ngFor="let data of data2?.matchValueArray">
                                              <div style="margin-top:5px;margin-bottom: 7px;" class="input-group" [ngClass]="{'extraOptionPreview' : input1?.match_data[0].match_value =='abc'}">
                                                  <p *ngIf="data.match_data_format_id == 1 && data.match_value != 'abc'" class="previewMatchStmt"><span *ngIf="data.match_data_format_id == 1 && (matchtypeSelected == 4 || matchtypeSelected == 5)">{{data.label}}.</span>{{data.match_value}}</p>
                                                  <span *ngIf="data.match_data_format_id == 6 && (matchtypeSelected == 4 || matchtypeSelected == 5)">{{data.label}}.</span><img src="{{data.match_value}}" *ngIf="data.match_data_format_id == 6 && data.match_value != 'abc'" style="width: 197px;height: 135px;">
                                                  <span *ngIf="data.match_data_format_id == 10 && (matchtypeSelected == 4 || matchtypeSelected == 5)">{{data.label}}.</span><audio width="400" height = "200" controls controlsList="nodownload" *ngIf="data.match_data_format_id == 10 && data.match_value != 'abc'" style="width: 202px;">
                                                    <source src="{{data.match_value}}" type="audio/mp3">
                                                  </audio>
                                                  <span *ngIf="data.match_data_format_id == 11 && (matchtypeSelected == 4 || matchtypeSelected == 5)">{{data.label}}.</span><video width="400" height = "200" controls controlsList="nodownload" *ngIf="data.match_data_format_id == 11 && data.match_value != 'abc'" style="width: 196px;height: 100px;">
                                                    <source src="{{data.match_value}}" type="video/mp4">
                                                  </video>
                                              </div>
                                            </div>
                                          </div>

                                        </div>
                                      </div>
                                  </div>
                            </div>
                          </div>
                          <!-- answer block -->
                            <div class='' *ngIf="matchtypeSelected == 5" style="margin-left: -50px;margin-top: 34px;">
                              <div *ngFor='let input1 of attributes?.answer_choices; let i = index;'>
                                <div  *ngFor='let input of input1?.choiceElement;'>
                                  <div class="">
                                      <div class="correct_options_block_preview">
                                        <input name="input.correct_answer" class="selectValue" type="radio"  value={{input.correct_answer}} *ngIf="attributes.answer_type == 'Single Answer'">
                                          <input name="input.correct_answer" class="selectValue" type="checkbox"  value={{input.correct_answer}} *ngIf="attributes.answer_type == 'Multiple Correct Answers'">
                                      </div>
                                  </div>
                                  <div class="" style="margin-bottom: 6px;">
                                    <div *ngIf="input.answer_df_id== 1" style="margin-top: 4px;margin-left: 93px;" [innerHTML]="this.sanitizer.bypassSecurityTrustHtml(input.data_format_value)">{{input.data_format_value}}</div><br>
                                    <div *ngIf="input.answer_df_id== 6" style="margin-top: -23px;margin-bottom: 10px;margin-left: 87px;"><img [src]="input.data_format_value" style="width: 84px;"></div>
                                    <!-- audio -->
                                    <div *ngIf="input.answer_df_id == 10" style="margin-top: 4px;margin-left: 102px;">
                                      <audio  controls  controlsList="nodownload"  style="width: 200px;margin-left: -18px; margin-top: -23px;" class="audiotag">
                                        <source [src]="input.data_format_value" type="audio/mp3">
                                      </audio>
                                    </div>
                                    <!-- video -->
                                    <div *ngIf="input.answer_df_id == 11" style="margin-top: 4px;margin-left: 93px;">
                                      <video controls controlsList="nodownload"  style="width: 173px;margin-top: -23px;" class="audiotag1">
                                        <source [src]="input.data_format_value" type="video/mp4">
                                      </video>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div class='' *ngIf = "matchtypeSelected == 4" >
                              <div *ngFor='let input of matrixAnsBlock; let idn1 = index;' class="answerLabel_preview" [ngClass]="{'ansLabelOrigin':idn1 == 0}">
                                <!-- <p >{{input.answer_choices[idn1].label}}</p> -->
                              </div>
                              <div *ngFor='let input of matrixAnsBlock; let idn = index;' style="padding: 10px 0px;">

                                  <div class="">
                                      <div class="correct_options_block_preview">
                                        <input name="input.correct_answer" class="selectValue" type="radio"  value={{input.correct_answer}} *ngIf="attributes.answer_type == 'Single Answer'">
                                          <input name="input.correct_answer" class="selectValue" type="checkbox"  value={{input.correct_answer}} *ngIf="attributes.answer_type == 'Multiple Correct Answers'">
                                      </div>
                                  </div>
                                  <div class="" style="display:inline-flex">

                                      <div *ngFor="let i of input?.answer_choices; let id=index;">

                                          <div *ngIf="i.answer_df_id== 1" style="padding: 0px 3px;">{{i.data_format_value}},</div>

                                      </div>
                                  </div>
                              </div>
                            </div>
                      </div>
                      <!-- free text -->
                      <div *ngIf="item_type==5" class="">
                        <div  class=""  *ngFor="let value of attributes?.item; let i=index" style="margin-bottom: 18px;">
                            <span *ngIf="i==0 && value.item_df_id == 1" class="questionNumberAlign">1.</span><p *ngIf="value.item_df_id == 1" [innerHTML]="this.sanitizer.bypassSecurityTrustHtml(value.data_format_value)">{{value.data_format_value}}</p>
                          <span *ngIf="i==0 && value.item_df_id == 6" class="questionNumberAlign">1.</span><img src="{{value.data_format_value}}" *ngIf="value.item_df_id == 6" style="width: 200px;height: 151px;" onError="this.onerror=null;this.src='../../../assets/img/no_image_available.jpeg';">
                          <span *ngIf="i==0 && value.item_df_id == 10" class="questionNumberAlign">1.</span><audio src="{{value.data_format_value}}" controlsList="nodownload"  *ngIf="value.item_df_id == 10" width="400" height = "200" controls></audio>
                          <span *ngIf="i==0 && value.item_df_id == 11" class="questionNumberAlign">1.</span><video src="{{value.data_format_value}}" controlsList="nodownload"  *ngIf="value.item_df_id == 11" width="400" height = "200" controls style="height: 128px;width: 256px;"></video>
                          <span *ngIf="i==0 && value.item_df_id == 8" class="questionNumberAlign">1.</span>
                          <!-- list -->
                          <div *ngIf="value.item_df_id == 8">
                            <div *ngFor="let listArray of value.data_format_value">
                              <div class="col-md-12" *ngFor="let listElements of listArray?.list_elements;let eltIndex = index">
                                <div class="row">
                                  <div class="col-md-1 listLablePreview1">
                                    <p class="listEltTxt" [ngClass]="{'listLabelDotPrev':listElements.list_label =='.'}" *ngIf="eltIndex == 0">{{listElements.list_label}}</p>
                                  </div>
                                  <div class="col-md-7">
                                    <p class="listEltTxt" *ngIf="listElements.list_data_format_id == 1">{{listElements.list_value}}</p>
                                    <img src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 6" class="ListImageSizePrev">
                                    <audio src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 10"  controlsList="nodownload" controls width="400" height = "200" controls class="ListAudioSizePrev"></audio>
                                    <video src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 11"  controlsList="nodownload" controls width="400" height = "200" controls class="ListVideoSizePrev"></video>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                          <span *ngIf="i==0 && value.item_df_id == 7">1.</span>
                          <!-- Table -->
                          <div *ngIf="value.item_df_id== 7" style="width: 100%;margin: 20px 0px;" class="col-md-12">
                            <div class="row">
                              <div  style="padding-left: 4px;">
                                <table class="table"  [style.width.%]="value.table_format == 5 ? '50':100"  (mouseleave)="hideTableBtn()" [ngClass]="{'table-striped' :value.table_format == 3,'table-bordered' : (value.table_format == 2 || value.table_format == 4 || value.table_format == 5)}" >

                                  <tbody>

                                    <tr *ngFor="let row of value.data_format_value;let rowindex =index">

                                      <td *ngFor="let col of row;let colIndex = index" [ngStyle]="{'border-color':value.table_color}" (mouseenter)="ShowTableBtn(colIndex,rowindex,col.header)" [ngClass]="{'tableHeadType':(value.available_headers =='column' || value.available_headers =='all') && col.header == 1 && (value.table_format == 2  || value.table_format == 5)}"><input type="text" autocomplete="off" class="form-control tblField" [(ngModel)]="col.table_value" [disabled]="col.table_value =='#'"  [ngClass]="{'tableHeadType':(value.available_headers =='column' || value.available_headers =='all') && col.header == 1 && (value.table_format == 2 || value.table_format == 5),'tableHeadHighlight': col.header == 1}" style="pointer-events:none;"></td>
                                    </tr>

                                  </tbody>
                                </table>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-md-6">
                            <textarea class="form-control freetextarea" rows="8" cols="7"></textarea>
                        </div>
                      </div>
                      <!-- file Upload -->
                      <div *ngIf="item_type==7" class="">
                        <div  class=""  *ngFor="let value of attributes?.item; let i=index" style="margin-bottom: 18px;">
                          <span *ngIf="i==0 && value.item_df_id == 1" class="questionNumberAlign">1.</span><p *ngIf="value.item_df_id == 1" [innerHTML]="this.sanitizer.bypassSecurityTrustHtml(value.data_format_value)">{{value.data_format_value}}</p>
                          <span *ngIf="i==0 && value.item_df_id == 6" class="questionNumberAlign">1.</span><img [src]="value.data_format_value" *ngIf="value.item_df_id == 6" style="width: 200px;height: 151px;" onError="this.onerror=null;this.src='../../../assets/img/no_image_available.jpeg';">
                          <span *ngIf="i==0 && value.item_df_id == 10" class="questionNumberAlign">1.</span><audio [src]="value.data_format_value" controlsList="nodownload"  *ngIf="value.item_df_id == 10" width="400" height = "200" controls></audio>
                          <span *ngIf="i==0 && value.item_df_id == 11" class="questionNumberAlign">1.</span><video [src]="value.data_format_value" controlsList="nodownload"  *ngIf="value.item_df_id == 11" width="400" height = "200" controls style="height: 128px;width: 256px;"></video>
                          <span *ngIf="i==0 && value.item_df_id == 8" class="questionNumberAlign">1.</span>
                          <!-- list -->
                          <div *ngIf="value.item_df_id == 8">
                            <div *ngFor="let listArray of value.data_format_value">
                              <div class="col-md-12" *ngFor="let listElements of listArray?.list_elements;let eltIndex = index">
                                <div class="row">
                                  <div class="col-md-1 listLablePreview1">
                                    <p class="listEltTxt" [ngClass]="{'listLabelDotPrev':listElements.list_label =='.'}" *ngIf="eltIndex == 0">{{listElements.list_label}}</p>
                                  </div>
                                  <div class="col-md-7">
                                    <p class="listEltTxt" *ngIf="listElements.list_data_format_id == 1">{{listElements.list_value}}</p>
                                    <img src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 6" class="ListImageSizePrev">
                                    <audio src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 10"  controlsList="nodownload" controls width="400" height = "200" controls class="ListAudioSizePrev"></audio>
                                    <video src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 11"  controlsList="nodownload" controls width="400" height = "200" controls class="ListVideoSizePrev"></video>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                          <span *ngIf="i==0 && value.item_df_id == 7">1.</span>
                          <!-- Table -->
                          <div *ngIf="value.item_df_id== 7" style="width: 100%;margin: 20px 0px;" class="col-md-12">
                            <div class="row">
                              <div  style="padding-left: 4px;">
                                <table class="table"  [style.width.%]="value.table_format == 5 ? '50':100"  (mouseleave)="hideTableBtn()" [ngClass]="{'table-striped' :value.table_format == 3,'table-bordered' : (value.table_format == 2 || value.table_format == 4 || value.table_format == 5)}" >

                                  <tbody>

                                    <tr *ngFor="let row of value.data_format_value;let rowindex =index">

                                      <td *ngFor="let col of row;let colIndex = index" [ngStyle]="{'border-color':value.table_color}" (mouseenter)="ShowTableBtn(colIndex,rowindex,col.header)" [ngClass]="{'tableHeadType':(value.available_headers =='column' || value.available_headers =='all') && col.header == 1 && (value.table_format == 2  || value.table_format == 5)}"><input type="text" autocomplete="off" class="form-control tblField" [(ngModel)]="col.table_value" [disabled]="col.table_value =='#'"  [ngClass]="{'tableHeadType':(value.available_headers =='column' || value.available_headers =='all') && col.header == 1 && (value.table_format == 2 || value.table_format == 5),'tableHeadHighlight': col.header == 1}" style="pointer-events:none;"></td>
                                    </tr>

                                  </tbody>
                                </table>
                              </div>
                            </div>
                          </div>
                        </div>
                        <!-- answer block -->
                        <div class="col-md-12" >
                          <div class=" fileuploadPrevRow" *ngFor="let file of attributes?.answer_choices;let d= index">
                            <div class="">
                              <p class="prevDesc"><b>Description {{d+1}}.</b>&nbsp;{{file.description}}</p>
                            </div>
                            <div class="" >
                              <p style="margin:8px;" *ngFor="let type of file.sortedArray;let f= index"><b>Allowed File Type {{f+1}}.</b>&nbsp;{{type.format}} - <span *ngFor="let ext of type.value;let e= index">{{ext.itemName}}<span *ngIf="type.value.length > e+1">,</span></span></p>
                            </div>
                            <div class="fileUploadItemTypePrev btn btn-primary" >
                                <span>Choose File</span>
                              <input type="file"  placeholder="Upload file" accept=".{{file.data_format_type}}" name="file" class="upload">
                              <i class="fa fa-circle-o-notch fa-spin spinAV" *ngIf="spinAudioQB"></i>
                            </div>
                          </div>

                        </div>
                      </div>
                  </div>

                </div>
              </div>
            </div>
        </div>


        <img src="assets/img/previewImages/Test_08.jpg"  style="width:84%">
        <img src="assets/img/previewImages/Test_09.jpg"  style="width:100%">

        <button  (click)="closePreview()" aria-label="Close" class="dialog__close-btn_preview" tooltip="Close Preview" placement="left">X</button>
      </div>
      <div *ngIf="showPreviewModal" class="preview_overlay" (click)="close()"></div>

      <!-- success message popup -->
      <!-- <p class="successMsg" [@dialog1] *ngIf="saveMSg">{{showMsg}}</p> -->
      <simple-notifications [options]="Notificationoptions"></simple-notifications>

      <!-- MCQ -->
      <div *ngIf="mcqBlk">

            <!-- <div class="split-pane-content-primary">
                <div class="upper"> -->
              <div style="width: 100%; height: 800px;">
              <split direction="vertical">
                <split-area size="20">
                  <fieldset style="min-height:500% !important;max-height:500%;"  >
                      <legend>Item Block</legend>
                      <div >
                        <div class="multiAnsmcq" droppable (onDrop)="onItemDrop($event,i)" >
                                <p class="placeHolder" *ngIf="attributes?.item.length <=1" >Drag and Drop additional elements if required</p>
                                <div class='container1' id='right' [dragula]='"bag-one"'  [dragulaModel]='attributes?.item'>

                                  <div  class="list-group-item stmtElement listPadd" *ngFor="let item of attributes?.item; let i=index;" [ngClass]="{'alertstmt' : errIndex == i}">
                                    <div class="drag" >

                                      <quill-editor [(ngModel)]="item.data_format_value" (blur)="onBlurMethod($event, item.data_format_value,i)" (paste)="onPaste($event, item.data_format_value,i)" (keyup)="removeSpcQue($event, item.data_format_value,i)" *ngIf="item.item_df_id== 1" #desc1QE id="description1-qe-item{{i}}" [style]="{'height': '100px'}"
                                        [options]="editorOptions"
                                      ></quill-editor>

                                        <div class="custom-btn">
                                            <div (click)="displayLeftIcon()" class="setting_right_icon" [ngClass]="{'showSettingIcon' : activeIcon === i}">
                                              <fa [name]="'caret-left'" [size]="1" ></fa>
                                            </div>
                                            <div (click)="displayRightIcon(i)" [hidden]="!showIcon" class="rightIcon" [ngClass]="{'setting_right_icon' : activeIcon === i}">
                                              <span tooltip="Equations" placement="top" (click)="openEquation == false ? openEquation = true:openEquation = false"><b>∑</b></span> &nbsp;
                                                <!-- <fa [name]="'arrows-h'" tooltip="Equations" placement="top" (click)="openEquation == false ? openEquation = true:openEquation = false"></fa> &nbsp; -->
                                              <fa [name]="'files-o'" (click)="copyElement(i,item)" ></fa> &nbsp;
                                              <fa [name]="'trash'" (click)="removeElement(i)" [ngClass]=" {deleteIcon:(item.item_df_sequence== 1 && item.item_df_id == 1)}"></fa>&nbsp;
                                              <fa [name]="'caret-right'" [size]="1"  class="hideSettingIcon"></fa>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- image -->
                                    <div  *ngIf="item.item_df_id== 6">
                                      <div class="drag" >
                                        <fancy-image-uploader *ngIf="item.data_format_value =='' || item.data_format_value =='Image_Path'" [options]="options" (onUpload)="onImageUpload($event,i)" style="margin-left: 170px;margin-top: 6px;margin-bottom: 6px;" class="imageUploaderCss"></fancy-image-uploader>
                                        <img [src]="item.data_format_value"  class="editImage" *ngIf="item.data_format_value!=''  && item.data_format_value !='Image_Path'" >
                                        <span *ngIf="item.data_format_value!=''  && item.data_format_value !='Image_Path'" class="deleteImage"  (click)="deleteImageQueBlk(i)"><i class="fa fa-times"></i></span>
                                      </div>
                                      <!-- <i class="fa fa-circle-o-notch fa-spin spinImage" *ngIf="ImageLoader"></i>  -->
                                    </div>
                                    <!-- audio -->
                                    <div *ngIf="item.item_df_id== 10 " class="col-md-12">
                                      <div class="audioBlock" *ngIf=" item.data_format_value== '' || item.data_format_value== 'Audio Path'" [ngClass]="{'button_width':showErrorAudio!='' && showErrorAudio != undefined}">
                                        <p class="AVIcon"><i class="fa fa-volume-off" aria-hidden="true"></i></p>
                                        <div class="fileUploadQueBlock btn btn-primary" >
                                            <span>Browse Audio</span>
                                          <input type="file" (change)="fileChange($event,i)" placeholder="Upload file" accept=".mp3" name="file" class="upload">
                                          <i class="fa fa-circle-o-notch fa-spin spinAV" *ngIf="spinAudioQB"></i>
                                        </div>

                                      </div><br>
                                      <!-- <p *ngIf="audioTag && item.value != undefined" class="uploadNameQueBlk">{{item.file_name}}</p> -->
                                      <audio width="400" height = "200" controls controlsList="nodownload" *ngIf=" item.data_format_value != '' && item.data_format_value != 'Audio Path'"  class="audio-margin">
                                        <source [src]="item.data_format_value" type="audio/mp3">
                                      </audio>
                                      <span *ngIf=" item.data_format_value != '' && item.data_format_value != 'Audio Path'" class="deleteAudioElement"  (click)="deleteImageQueBlk(i)"><i class="fa fa-times"></i></span>
                                        <!-- <div class="alertdangerQueBlk" *ngIf="(showErrorAudio != '' || showErrorAudio != undefined) && checkIndex == i && item.data_format_value == ''">{{showErrorAudio}}</div> -->
                                    </div>
                                    <!-- video -->
                                    <div *ngIf="item.item_df_id== 11" class="col-md-12">
                                        <div class="audioBlock" *ngIf=" item.data_format_value=='' || item.data_format_value== 'Video Path'" [ngClass]="{'button_width':showErrorVideo!='' && showErrorVideo != undefined}">
                                          <p class="AVIcon"><i class="fa fa-play playMargin" aria-hidden="true"></i></p>
                                        <div class="fileUploadQueBlock btn btn-primary">
                                            <span>Browse Video</span>
                                            <input type="file" (change)="fileChangeVideo($event,i)" placeholder="Upload file" accept=".mp4,.avi" name="file" class="upload">
                                            <i class="fa fa-circle-o-notch fa-spin spinAV" *ngIf="spinVideoQB"></i>
                                        </div>
                                        </div><br>
                                        <!-- <p *ngIf="videoTag && item.value != undefined" class="uploadNameQueBlk">{{item.file_name}}</p> -->
                                        <video width="400" height = "200" controls controlsList="nodownload" *ngIf="item.data_format_value != ''  && item.data_format_value != 'Video Path'" class="audio-margin">
                                        <source [src]="item.data_format_value" type="video/mp4">

                                        </video>
                                        <span *ngIf=" item.data_format_value != '' && item.data_format_value != 'Video Path'" class="deleteVideoElement"  (click)="deleteImageQueBlk(i)"><i class="fa fa-times"></i></span>
                                         <!-- <div class="alertdangerQueBlk" *ngIf="(showErrorVideo != '' || showErrorVideo != undefined) && checkIndexAns1 == i && item.data_format_value == ''">{{showErrorVideo}}</div>  -->
                                    </div>
                                    <!-- list -->
                                    <div *ngIf="item.item_df_id== 8" style="width:100%;padding:10px;">
                                      <div [dragula]='"bag-one"'  [dragulaModel]='item.data_format_value'>
                                        <div *ngFor="let lists of item.data_format_value;let listIndex = index" class="col-md-12 listrow" [dragula]='"bag-one"'  [dragulaModel]='lists.list_elements'>

                                            <div *ngFor="let listArray of lists.list_elements;let listArrayIndex = index" class="listrow ">
                                              <div class="row">
                                                <div class="col-md-2">
                                                    <div class="btn-group" dropdown  *ngIf="listIndex == 0 && 0 == listArrayIndex;else staticContent">
                                                        <button id="button-basic" dropdownToggle type="button" class=" dropdown-toggle btn btn-default listBtn"
                                                                aria-controls="dropdown-basic" (click)="listDropdown == true ? false : true">
                                                          <span [ngClass]="{'listSymbols':listArray.list_label=='.','listStar':listArray.list_label=='*'}">{{listArray.list_label}}</span> &nbsp;<fa class="listdropIcon" [name]="'sort-down'" [size]=1 ></fa>
                                                        </button>
                                                        <ul id="dropdown-basic"  class="dropdown-menu listdropdown-menu" *ngIf="listDropdown"
                                                            role="menu" aria-labelledby="button-basic">
                                                          <li role="menuitem"><a class="dropdown-item listdropdown-item" (click)="getListLabel(i,listIndex,'A')">A</a></li>
                                                          <li role="menuitem"><a class="dropdown-item" (click)="getListLabel(i,listIndex,'a')">a</a></li>
                                                          <li role="menuitem"><a class="dropdown-item" (click)="getListLabel(i,listIndex,'1')">1</a></li>
                                                          <li role="menuitem"><a class="dropdown-item" (click)="getListLabel(i,listIndex,'I')">I</a></li>
                                                          <li role="menuitem"><a class="dropdown-item" style="font-size: 20px;" (click)="getListLabel(i,listIndex,'*')">*</a></li>
                                                          <li role="menuitem"><a class="dropdown-item dropdownIcons" (click)="getListLabel(i,listIndex,'.')"><fa [name]="'circle'" [size]=1 style="color:black !important"></fa></a></li>


                                                        </ul>
                                                    </div>
                                                    <ng-template #staticContent >
                                                        <button id="button-basic"  type="button" class=" btn btn-default listBtn2"
                                                          (click)="listDropdown == true ? false : true" *ngIf="listIndex > 0 && 0 == listArrayIndex;">
                                                          <span [ngClass]="{'listSymbols':listArray.list_label=='.','listStar':listArray.list_label=='*'}">{{listArray.list_label}}</span>
                                                        </button>
                                                    </ng-template>

                                                </div>
                                                <div class="col-md-7">
                                                  <div *ngIf="listArray.list_data_format_id == 1" class="listRowDisplay">
                                                  <input type="text" autocomplete="off" class="form-control listStmt"  [(ngModel)]= "listArray.list_value"  maxlength="75" placeholder="Enter Text or Insert Element"  [ngClass]="{'alertstmt':listRowErr == listIndex && listArrayErr == listArrayIndex && !pattern1.test(listArray.list_value)}">
                                                  <fa class="delete_choiceslist" [name]="'times'" [size]=1 *ngIf="lists.list_elements.length >1" (click)="deleteListChoices(i,listIndex,listArrayIndex)"></fa>
                                                  </div>
                                                  <!-- image -->
                                                  <div *ngIf="listArray.list_data_format_id == 6" class="listRowDisplay listImg">
                                                    <fancy-image-uploader  [options]="imageoptionsList" *ngIf="listArray.list_value == ''" (onUpload)="onImageUploadList($event,i,listIndex,listArrayIndex)" style="margin-bottom: 0px;margin-left: 26%;margin-right: 22%;" class="imageUploaderCss"  [ngClass]="{'alertstmt':listRowErr == listIndex && listArrayErr == listArrayIndex && !pattern1.test(listArray.list_value)}"></fancy-image-uploader>
                                                    <img src="{{listArray.list_value}}"  class="editImageList" *ngIf="listArray.list_value!=''" style="margin-right: 18%;">
                                                    <span *ngIf="listArray.list_value!=''" class="deleteImageList"  (click)="deleteImageList(i,listIndex,listArrayIndex)"><i class="fa fa-times"></i></span>
                                                    <fa class="delete_choiceslist" [name]="'times'" [size]=1 *ngIf="lists.list_elements.length >1" (click)="deleteListChoices(i,listIndex,listArrayIndex)"></fa>
                                                  </div>
                                                    <!-- audio -->
                                                  <div *ngIf="listArray.list_data_format_id == 10 " class="AVMargin listRowDisplay">
                                                    <div class="audioBlockList" [ngClass]="{'button_width':showErrorAudio!='' && showErrorAudio != undefined,'alertstmt':listRowErr == listIndex && listArrayErr == listArrayIndex && !pattern1.test(listArray.list_value)}" *ngIf=" listArray.list_value == ''">
                                                      <p class="AVIconList"><i class="fa fa-volume-off" aria-hidden="true"></i></p>
                                                      <div class="fileUploadQueBlock btn btn-primary" >
                                                          <span>Browse Audio</span>
                                                        <input type="file" (change)="UploadAudioList($event,i,listIndex,listArrayIndex)" placeholder="Upload file" accept=".mp3" name="file" class="upload">
                                                        <i class="fa fa-circle-o-notch fa-spin spinAV" *ngIf="spinAudioQBList"></i>
                                                      </div>

                                                    </div>
                                                    <!-- <p *ngIf="audioTag && item.value != undefined" class="uploadNameQueBlk">{{item.file_name}}</p> -->
                                                    <audio width="400" height = "200" controls controlsList="nodownload" *ngIf=" listArray.list_value != ''" style="margin-right: 10px;width: 100%;">
                                                      <source src="{{listArray.list_value}}" type="audio/mp3">
                                                    </audio>
                                                    <!-- <span *ngIf="lists.listTypeArray.length >1" class="deleteAudioElement"  (click)="deleteImageList(i,listIndex,listArrayIndex)"><i class="fa fa-times"></i></span> -->
                                                    <fa class="delete_choiceslist" [name]="'times'" [size]=1 *ngIf="lists.list_elements.length >1" (click)="deleteListChoices(i,listIndex,listArrayIndex)"></fa>
                                                      <!-- <div class="alertdangerQueBlk" *ngIf="(showErrorAudio != '' || showErrorAudio != undefined) && checkIndex == i && item.data_format_value == ''">{{showErrorAudio}}</div> -->
                                                  </div>
                                                  <!-- video -->
                                                  <div *ngIf="listArray.list_data_format_id == 11"  class="AVMargin listRowDisplay">
                                                      <div class="audioBlockList" *ngIf="listArray.list_value==''" [ngClass]="{'button_width':showErrorVideo!='' && showErrorVideo != undefined,'alertstmt':listRowErr == listIndex && listArrayErr == listArrayIndex && !pattern1.test(listArray.list_value)}" >
                                                        <p class="AVIconList"><i class="fa fa-play playMargin" aria-hidden="true"></i></p>
                                                      <div class="fileUploadQueBlock btn btn-primary">
                                                          <span>Browse Video</span>
                                                          <input type="file" (change)="uploadVideoList($event,i,listIndex,listArrayIndex)" placeholder="Upload file" accept=".mp4,.avi" name="file" class="upload">
                                                          <i class="fa fa-circle-o-notch fa-spin spinAV" *ngIf="spinVideoQBList"></i>
                                                      </div>
                                                      </div><br>
                                                      <!-- <p *ngIf="videoTag && item.value != undefined" class="uploadNameQueBlk">{{item.file_name}}</p> -->
                                                      <video width="400" height = "200" controls controlsList="nodownload" *ngIf="listArray.list_value != ''"  width="97%" style="margin-right: 10px;">
                                                      <source src="{{listArray.list_value}}" type="video/mp4">

                                                      </video>
                                                      <!-- <span *ngIf="lists.listTypeArray.length >1" class="deleteVideoElementlIST"  (click)="deleteImageList(i,listIndex,listArrayIndex)"><i class="fa fa-times"></i></span> -->
                                                      <fa class="delete_choiceslist" [name]="'times'" [size]=1 *ngIf="lists.list_elements.length >1" (click)="deleteListChoices(i,listIndex,listArrayIndex)"></fa>
                                                      <!-- <div class="alertdangerQueBlk" *ngIf="(showErrorVideo != '' || showErrorVideo != undefined) && checkIndexAns1 == i && item.data_format_value == ''">{{showErrorVideo}}</div> -->
                                                  </div>
                                                </div>
                                                <div class="col-md-3" *ngIf="0 == listArrayIndex">
                                                    <button *ngIf="item.data_format_value.length <= 4" type="button" (click)="addList(i,listIndex)" class="answer_option_add">+</button>
                                                    <button *ngIf="item.data_format_value.length > 1" type="button" (click)="deleteList(i,listIndex)" class="answer_option_add">-</button>
                                                </div>
                                              </div>
                                            </div>

                                        </div>
                                      </div>
                                    </div>
                                    <!-- Table -->
                                    <div *ngIf="item.item_df_id== 7" style="width: 100%;" class="col-md-12">
                                      <div class="row">
                                        <div [ngClass]="{'col-md-11':item.table_format != 5,'col-md-5':item.table_format == 5,'smallTblMargin':item.table_format == 5}" class="tableOVerallDiv">
                                          <table class="table ElttblMargin" (mouseleave)="hideTableBtn()" [ngClass]="{'table-striped' :item.table_format == 3,'table-bordered' : (item.table_format == 2 || item.table_format == 4 || item.table_format == 5)}" >

                                            <tbody>
                                                <tr *ngFor="let row of item.data_format_value;let j=index" >
                                                    <td *ngFor="let col of row;let showBtn = index" [hidden]="j!=0"  [ngClass]="{'hideTblBtns' : (HoveredColIndex != showBtn || hideTblColBtn != i) || (showBtn ==0 && col.header==1 && item.available_headers != 'column')}" style="border: 0 !important;background:#fff">
                                                      <p class="columnAddBtn"><span (click)="addTableColumn(i,showBtn)"><i class="fa fa-plus-square"></i></span><span style="float:right" (click)="DeleteTableColumn(i,showBtn)" *ngIf="row.length>2"><i class="fa fa-minus-square"></i></span></p>
                                                    </td>
                                                </tr>
                                              <tr *ngFor="let row of item.data_format_value;let rowindex =index">

                                                <td *ngFor="let col of row;let colIndex = index" [ngStyle]="{'border-color':item.table_color}" (mouseenter)="ShowTableBtn(colIndex,rowindex,i)" [ngClass]="{'tableHeadType':(item.available_headers =='column' || item.available_headers =='all') && col.header == 1 && (item.table_format == 2  || item.table_format == 5),'tableDataErr':tblColumnDataErr == colIndex && !pattern1.test(col.table_value)}"><input type="text" autocomplete="off" class="form-control tblField tableAlign" [(ngModel)]="col.table_value" [disabled]="col.table_value =='#'" [placeholder]="col.header==1?'Enter Header':'Enter Data'" [ngClass]="{'tableHeadType':(item.available_headers =='column' || item.available_headers =='all') && col.header == 1 && (item.table_format == 2 || item.table_format == 5),'tableHeadHighlight': col.header == 1}"></td>
                                              </tr>

                                            </tbody>
                                          </table>
                                        </div>
                                        <div class="col-md-1 btnSplitDiv">
                                          <div class="TblBtnsDiv" *ngFor="let row of item.data_format_value;let btnindex=index" [ngClass]="{'hideTblBtns': item.available_headers == 'column' && btnindex == 0 || (item.available_headers == 'all' && btnindex == 0)}">
                                              <button  type="button" (click)="addTableRow(i,btnindex)" class="TblBtns" >+</button>
                                              <button  type="button" (click)="deleteTableRow(i,btnindex)" class="TblBtns" *ngIf="item.data_format_value.length > 2" >-</button>
                                          </div>
                                        </div>
                                      </div>

                                    </div>
                                  </div>

                                </div>
                        </div>
                      </div>
                  </fieldset>
                </split-area>
                    <!-- </div>
                </div> -->
                <!-- <div class="split-pane-content-secondary">
                    <div class="lower"> -->
                <split-area size="40" style="z-index: 1 !important; ">
                  <fieldset style="height:auto !important;">
                      <legend>Answer Block</legend>
                      <div class="">
                        <div class="answer_block_container">
                            <form class="form-inline" style="margin-bottom: 15px;float:right;margin-right: 10px;">
                            <div class="form-group" >

                                <label for="score"  class="textClr">Score</label> &nbsp;
                                <input type="text" autocomplete="off" name="" class="score form-control" [(ngModel)]="score" [ngModelOptions]="{standalone: true}" maxlength="4"  style="text-align:center;margin: 0px 13px;" (keypress)="onlyNumberKey($event)" [ngClass]="{'alertstmt' : scoreIndex == 1}">
                                <!-- <ui-switch size="small" (change)="onChangeToggle($event)" [checked]="enableToggle" color="white" switchColor="#00aed9"></ui-switch> &nbsp;<span class="textClr">Graded Score (In %, Eg-20,45.25)</span> -->
                                <label class="switch" tooltip="Graded Score allows you to assign different scores for each selected answer option.">
                                  <input type="checkbox" [checked]="enableToggle" (change)="onChangeToggle(enableToggle)">
                                  <span class="slider"></span>
                                </label> &nbsp;<span class="textClr">Graded Score</span>
                                <span tooltip="Equations" placement="top" (click)="openEquationAB == false ? openEquationAB = true:openEquationAB = false" class="ansBlkEqSymbol"><b>∑</b></span>
                            </div>
                            </form>
                            <div class="clearfix"></div>
                          <div class="col-md-12" style="display: inline-block;padding:0px;">
                            <div class="row">
                              <select  class="textClr correct_answer_dropdown" [(ngModel)]="selectType" [ngModelOptions]="{standalone: true}" (ngModelChange)="getSelectType(selectType)" id="answertype" #answertype="ngModel">
                                  <!-- <option [value]="0" disabled="true">Select Taxonomy</option>  -->
                                  <option  value="Single Correct Answer" selected >Radio Button</option>
                                  <option  value="Multiple Correct Answers" >Checkbox</option>

                              </select>
                              <p class="textClr" style="margin-left: 39%;font-size: 12px;">Correct Options</p>
                              <p class="textClr" style="margin-left:7px;font-size: 12px;" [hidden]="showGradedScore">Graded Score  ( Eg : 20 , 45.25)</p>

                            </div>
                          </div>
                          <div class='ansBlkMargin' [dragula]='"bag-one"'  [dragulaModel]='attributes?.answer_choices'>
                              <div *ngFor='let input of attributes?.answer_choices; let i = index;' class="row1" >
                                  <div class="answerOptionType">
                                      <div class="correct_radio_button">
                                          <input name="" type="radio" [hidden]="selectedType" [checked]="true" value="" disabled/>
                                          <input name="" type="checkbox" [hidden]="!selectedType" [checked]="true" value="" disabled />
                                      </div>
                                  </div>
                                  <div class="col-md-12 McqAnsDiv" droppable (onDrop)="onElementDrop($event,i)"  [dragula]='"bag-one"'  [dragulaModel]='input?.choice_elements' >
                                    <div class="row">
                                      <div class="col-md-7">
                                        <div  (mousedown)="dragCol = true" (mouseup)="dragCol = false"  *ngFor="let data of input?.choice_elements; let id=index;" class="column "  >

                                            <div *ngIf="data.answer_df_id== 1" [ngClass]="{'alertstmtAns' : ansIndex == id  && (!pattern1.test(data.data_format_value) || data.data_format_value == null)}">
                                                <quill-editor [(ngModel)]="data.data_format_value" (keydown)="removeSpcAnsMcq($event, data.data_format_value,i,id)" #desc1QE id="description1-qe-ans{{i}}" [style]="{'height': '100px'}"  maxlength="150"
                                                [options]="editorOptionsAns"></quill-editor><fa class="delete_choices" [name]="'times'" [size]=1 *ngIf="input?.choice_elements.length >1" (click)="deleteChoices(i,id)"></fa>
                                              <!-- <input name="data.data_format_value" [(ngModel)]="data.data_format_value" maxlength="150" placeholder="Enter your answer option" [ngClass]="{'alertstmt' : ansIndex == id  && !pattern1.test(data.data_format_value)}" class="input-width2 form-control" style="height: 28px !important;"><fa class="delete_choices" [name]="'times'" [size]=1 *ngIf="input?.choice_elements.length >1" (click)="deleteChoices(i,id)"></fa> -->
                                            </div>
                                            <div *ngIf="data.answer_df_id== 6 && (data.data_format_value =='' || data.data_format_value =='Image_Path')" style="margin-top: 4px;margin-bottom: -23px;" >
                                              <fancy-image-uploader [options]="ansoptions" (onUpload)="onImageUploadAns($event,i,id)"  [ngClass]="{'alertstmt1' : ansIndex == id && (data.data_format_value =='Image_Path' || data.data_format_value == '' || data.data_format_value =='null')}">

                                              </fancy-image-uploader><fa class="delete_choices_image" [name]="'times'" [size]=1 *ngIf="input?.choice_elements.length >1" (click)="deleteChoices(i,id)"></fa></div>
                                            <img [src]="data.data_format_value"  class="editImageAns" *ngIf="data.data_format_value!=''  && data.data_format_value !='Image_Path' && data.answer_df_id == 6">
                                            <span *ngIf="data.data_format_value!=''  && data.data_format_value !='Image_Path' && data.answer_df_id == 6" class="deleteImageAns"  (click)="deleteImageAnsBlk(i,id)">
                                              <i class="fa fa-times"></i></span>
                                            <!-- audio -->
                                            <div *ngIf="data.answer_df_id == 10" >
                                                <fa class="delete_choices_audio1" [name]="'times'" [size]=1 *ngIf="input?.choice_elements.length >1" (click)="deleteChoices(i,id)" [ngClass]="{'deleteChoicesWithValue': data.data_format_value != '' && data.data_format_value !='Audio Path'}"></fa>
                                                <div class="fileUpload btn btn-primary uploadAudioAnsWidth" *ngIf="data.data_format_value == '' || data.data_format_value =='Audio Path'" [ngClass]="{'alertstmt1' : ansIndex == id && (data.data_format_value =='Audio Path' || data.data_format_value =='' || data.data_format_value =='null'),'button-margin':input?.choice_elements.length ==1}">
                                                    <span style="padding: 29px;">Browse Audio</span>
                                                  <input type="file" (change)="fileChangeAns($event,i,id)" placeholder="Upload file" accept=".mp3" name="file" class="upload">
                                                  <i class="fa fa-circle-o-notch fa-spin spinAVMatch" *ngIf="spinAudioAB"></i>
                                                </div>
                                              <audio  controls  controlsList="nodownload" *ngIf=" data.data_format_value != '' && data.data_format_value !='Audio Path'" [hidden]="data.data_format_value == ''" style="width: 200px;margin-left: -69px; margin-top: -23px;" class="audiotagAns">
                                                <source [src]="data.data_format_value" type="audio/mp3">
                                              </audio>
                                                <!-- <div class="alertdanger1" *ngIf="(showErrorAudioAns != '' || showErrorAudioAns != undefined) && checkIndexAnsAudio == id && data.data_format_value == ''">{{showErrorAudioAns}}</div> -->
                                                <!-- <fa class="delete_choices_audio" [name]="'times'" [size]=1 *ngIf="(input?.choice_elements.length >1) && (audioTag && showErrorAudio=='')" (click)="deleteChoices(i,id)"></fa> -->
                                            </div>
                                            <!-- video -->
                                            <div *ngIf="data.answer_df_id == 11">
                                                <div class="fileUploadVideo btn btn-primary uploadAudioAnsWidth" *ngIf="data.data_format_value == '' || data.data_format_value =='Video Path'" [ngClass]="{'alertstmt1' : ansIndex == id || (data.data_format_value =='Video Path' || data.data_format_value =='' || data.data_format_value == null),'button-margin':input?.choice_elements.length ==1}">
                                                    <span style="padding: 29px;">Browse Video</span>
                                                    <input type="file" (change)="fileChangeVideoAns($event,i,id)" placeholder="Upload file" accept=".mp4,.avi" name="file" class="upload">
                                                    <i class="fa fa-circle-o-notch fa-spin spinAVMatch" *ngIf="spinVideoAB"></i>
                                                </div>
                                                <video controls *ngIf="data.data_format_value != '' && data.data_format_value !='Video Path'" controlsList="nodownload" [hidden]="data.data_format_value == ''" style="width: 283px;" class="audiotag1">
                                                <source [src]="data.data_format_value" type="video/mp4">
                                                </video>
                                                <fa class="delete_choices_video1" [name]="'times'" [size]=1 *ngIf="input?.choice_elements.length >1" (click)="deleteChoices(i,id)" [ngClass]="{'deleteChoicesWithValueVideo': data.data_format_value != '' && data.data_format_value !='Video Path'}"></fa>
                                                <!-- <div class="alertdanger1" *ngIf="(showErrorVideoAns != '' || showErrorVideoAns != undefined) && checkIndexAns == id && data.data_format_value == ''">{{showErrorVideoAns}}</div> -->

                                            </div>

                                        </div>
                                      </div>
                                      <div class="answerBlk_correctAnswers col-md-5" >
                                        <input name="input.correct_answer" class="" type="checkbox" [checked]="input.correct_answer" value={{input.correct_answer}} (change)="correct_answer_function2(i, input.correct_answer, input.option_df_sequence,input.score)"/>
                                        <!-- <label class="MCQcontainer">
                                            <input name="input.correct_answer" class="selectValue" type="checkbox" [checked]="input.correct_answer" value={{input.correct_answer}} (change)="correct_answer_function2(i, input.correct_answer, input.option_df_sequence,input.score)">
                                            <span class="MCQcheckmark"></span>
                                        </label> -->
                                        <button *ngIf="attributes?.answer_choices.length >= 4 && attributes?.answer_choices.length <= 7" type="button" (click)="addLocation1(i)" class="answer_option_add">+</button>
                                        <button *ngIf="attributes?.answer_choices.length > 4" type="button" (click)="deleteLocation1(i)" class="answer_option_add">-</button>
                                        <input type="text" autocomplete="off" name="" class="score" [(ngModel)]="input.score" [ngModelOptions]="{standalone: true}" maxlength="5" [hidden]="showGradedScore" style="text-align:center;" (keypress)="onlyNumberKey($event)"><span [hidden]="showGradedScore" class="gradedPercent">%</span>
                                        <!-- <button><i class="fas fa-folder-plus"></i></button> -->
                                        <button (click)="add_description(i,answer_InsightPopup, input)" class="desc_btn">
                                          <fa style="color: #eaeaea;" [name]="'paste'" class="faIcons"  tooltip="Add Insight" placement="top"></fa>&nbsp;</button>
                                        
                                      </div>

                                    </div>
                                  </div>
                                  <div class="clearfix"></div>
                              </div>
                          </div>
                        </div>

                      </div>
                  </fieldset>
                </split-area>
              </split>
            </div>
                <!-- </div>
            </div> -->

          <!-- </horizontal-split-pane> -->
      </div>

      <!-- TF -->
      <div *ngIf="trueorfalseBlk">
        <div style="width: 100%; height: 800px;">
            <split direction="vertical">
              <split-area size="70">
                <fieldset style="min-height:500% !important;max-height:500%;">
                    <legend>Item Block</legend>
                    <div class="multiAnsmcq" droppable (onDrop)="onItemDrop($event)">
                      <p class="placeHolder"  *ngIf="attributes?.item.length <=1">Drag and Drop additional elements if required</p>

                            <div class='container1' [dragula]='"bag-one"'  [dragulaModel]='attributes?.item'>

                              <div  class="list-group-item stmtElement listPadd" *ngFor="let item of attributes?.item; let i=index" [ngClass]="{'alertstmt' : errIndex == i && (!pattern1.test(item.data_format_value) || item.data_format_value == null)}">
                                <div class="drag">
                                    <!-- <input  type="text" autocomplete="off" value="{{item.data_format_value}}" class="form-control element" [(ngModel)]="item.data_format_value" *ngIf="item.item_df_id== 1" placeholder="Enter Statements Here"> -->
                                    <!-- <textarea class="form-control directiveArea element" rows="2" cols="5" value="{{item.data_format_value}}" [(ngModel)]="item.data_format_value" *ngIf="item.item_df_id== 1" placeholder="Enter Statements Here" maxlength="200"></textarea> -->
                                    <quill-editor [(ngModel)]="item.data_format_value" *ngIf="item.item_df_id== 1" (keydown)="removeSpcQue($event, item.data_format_value,i)" #desc1QE id="description1-qe-item{{i}}" [style]="{'height': '100px'}"
                                    [options]="editorOptions"
                                  ></quill-editor>
                                    <div class="custom-btn">
                                      <div (click)="displayRightIcon(i)" [hidden]="!showIcon" class="rightIcon" [ngClass]="{'setting_right_icon' : activeIcon === i}">
                                        <fa [name]="'caret-left'" [size]="1" ></fa>
                                      </div>
                                      <div (click)="displayLeftIcon()" class="setting_right_icon" [ngClass]="{'showSettingIcon' : activeIcon === i}">
                                          <span tooltip="Equations" placement="top" (click)="openEquation == false ? openEquation = true:openEquation = false"><b>∑</b></span> &nbsp;
                                        <fa [name]="'files-o'" (click)="copyElement(i,item)" ></fa> &nbsp;
                                        <fa [name]="'trash'" (click)="removeElement(i)" [ngClass]=" {deleteIcon: (item.item_df_sequence== 1 && item.item_df_id ==  1)}"></fa>&nbsp;
                                        <fa [name]="'caret-right'" [size]="1"  class="rightIcon"></fa>
                                      </div>
                                  </div>
                                </div>
                                <!-- image   -->
                                <div  *ngIf="item.item_df_id== 6">
                                  <div class="drag" >
                                    <!-- <input type="file"> -->

                                    <fancy-image-uploader *ngIf="item.data_format_value =='' || item.data_format_value =='Image_Path'" [options]="options" (onUpload)="onImageUpload($event,i)" style="margin-left: 215px;margin-top: 6px;margin-bottom: 6px;" class="imageUploaderCss"></fancy-image-uploader>
                                      <img [src]="item.data_format_value"  class="editImage" *ngIf="item.data_format_value!=''  && item.data_format_value !='Image_Path'">
                                      <span *ngIf="item.data_format_value!=''  && item.data_format_value !='Image_Path'" class="deleteImage"  (click)="deleteImageQueBlk(i)"><i class="fa fa-times"></i></span>
                                  </div>
                                </div>
                                <!-- audio -->
                                <div *ngIf="item.item_df_id== 10" class="col-md-12">
                                  <div class="audioBlock"  *ngIf=" item.data_format_value== '' || item.data_format_value== 'Audio Path'" [ngClass]="{'button_width':showErrorAudio!='' && showErrorAudio != undefined}">
                                      <p class="AVIcon"><i class="fa fa-volume-off" aria-hidden="true"></i></p>
                                    <div class="fileUploadQueBlock btn btn-primary" >
                                        <span>Browse Audio</span>
                                      <input type="file" (change)="fileChange($event,i)" placeholder="Upload file" accept=".mp3" name="file" class="upload">
                                      <i class="fa fa-circle-o-notch fa-spin spinAV" *ngIf="spinAudioQB"></i>
                                    </div>
                                  </div><br>
                                  <!-- <p *ngIf="audioTag && item.value != undefined" class="uploadNameQueBlk">{{item.file_name}}</p> -->
                                  <audio width="400" height = "200" controls controlsList="nodownload" *ngIf=" item.data_format_value != '' && item.data_format_value != 'Audio Path'"  class="audio-margin">
                                    <source [src]="item.data_format_value" type="audio/mp3">
                                  </audio>
                                  <span *ngIf=" item.data_format_value != '' && item.data_format_value != 'Audio Path'" class="deleteAudioElement"  (click)="deleteImageQueBlk(i)"><i class="fa fa-times"></i></span>

                                    <!-- <div class="alertdangerQueBlk" *ngIf="(showErrorAudio != '' || showErrorAudio != undefined) && checkIndex == i && item.data_format_value == ''">{{showErrorAudio}}</div> -->
                                </div>
                                <!-- video -->
                                <div *ngIf="item.item_df_id== 11" class="col-md-12">
                                    <div class="audioBlock"  *ngIf=" item.data_format_value=='' || item.data_format_value== 'Video Path'" [ngClass]="{'button_width':showErrorVideo!='' && showErrorVideo != undefined}">
                                      <p class="AVIcon"><i class="fa fa-play playMargin" aria-hidden="true"></i></p>
                                      <div class="fileUploadQueBlock btn btn-primary">
                                        <span>Browse Video</span>
                                        <input type="file" (change)="fileChangeVideo($event,i)" placeholder="Upload file" accept=".mp4,.avi" name="file" class="upload">
                                        <i class="fa fa-circle-o-notch fa-spin spinAV" *ngIf="spinVideoQB"></i>
                                    </div>
                                    </div><br>
                                    <!-- <p *ngIf="videoTag && item.value != undefined" class="uploadNameQueBlk">{{item.file_name}}</p> -->
                                    <video width="400" height = "200" controls controlsList="nodownload" *ngIf="item.data_format_value != ''  && item.data_format_value != 'Video Path'" class="audio-margin">
                                    <source [src]="item.data_format_value" type="video/mp4">
                                    </video>
                                    <span *ngIf=" item.data_format_value != '' && item.data_format_value != 'Video Path'" class="deleteVideoElement"  (click)="deleteImageQueBlk(i)"><i class="fa fa-times"></i></span>

                                    <!-- <div class="alertdangerQueBlk" *ngIf="(showErrorVideo != '' || showErrorVideo != undefined) && checkIndexAns1 == i && item.data_format_value == ''">{{showErrorVideo}}</div> -->
                                </div>
                                  <!-- list -->
                                <div *ngIf="item.item_df_id== 8" style="width:100%;padding:10px;">
                                  <div [dragula]='"bag-one"'  [dragulaModel]='item.data_format_value'>
                                    <div *ngFor="let lists of item.data_format_value;let listIndex = index" class="col-md-12 listrow" [dragula]='"bag-one"'  [dragulaModel]='lists.list_elements'>

                                        <div *ngFor="let listArray of lists.list_elements;let listArrayIndex = index" class="listrow ">
                                          <div class="row">
                                            <div class="col-md-2">
                                                <div class="btn-group" dropdown  *ngIf="listIndex == 0 && 0 == listArrayIndex;else staticContent">
                                                    <button id="button-basic" dropdownToggle type="button" class=" dropdown-toggle btn btn-default listBtn"
                                                            aria-controls="dropdown-basic" (click)="listDropdown == true ? false : true">
                                                      <span [ngClass]="{'listSymbols':listArray.list_label=='.','listStar':listArray.list_label=='*'}">{{listArray.list_label}}</span> &nbsp;<fa class="listdropIcon" [name]="'sort-down'" [size]=1 ></fa>
                                                    </button>
                                                    <ul id="dropdown-basic"  class="dropdown-menu listdropdown-menu" *ngIf="listDropdown"
                                                        role="menu" aria-labelledby="button-basic">
                                                      <li role="menuitem"><a class="dropdown-item listdropdown-item" (click)="getListLabel(i,listIndex,'A')">A</a></li>
                                                      <li role="menuitem"><a class="dropdown-item" (click)="getListLabel(i,listIndex,'a')">a</a></li>
                                                      <li role="menuitem"><a class="dropdown-item" (click)="getListLabel(i,listIndex,'1')">1</a></li>
                                                      <li role="menuitem"><a class="dropdown-item" (click)="getListLabel(i,listIndex,'I')">I</a></li>
                                                      <li role="menuitem"><a class="dropdown-item" style="font-size: 20px;" (click)="getListLabel(i,listIndex,'*')">*</a></li>
                                                      <li role="menuitem"><a class="dropdown-item dropdownIcons" (click)="getListLabel(i,listIndex,'.')"><fa [name]="'circle'" [size]=1 style="color:black !important"></fa></a></li>


                                                    </ul>
                                                </div>
                                                <ng-template #staticContent >
                                                    <button id="button-basic"  type="button" class=" btn btn-default listBtn2"
                                                      (click)="listDropdown == true ? false : true" *ngIf="listIndex > 0 && 0 == listArrayIndex;">
                                                      <span [ngClass]="{'listSymbols':listArray.list_label=='.','listStar':listArray.list_label=='*'}">{{listArray.list_label}}</span>
                                                    </button>
                                                </ng-template>

                                            </div>
                                            <div class="col-md-7">
                                              <div *ngIf="listArray.list_data_format_id == 1" class="listRowDisplay">
                                              <input type="text" autocomplete="off" class="form-control listStmt"  [(ngModel)]= "listArray.list_value"  maxlength="75" placeholder="Enter Text or Insert Element"  [ngClass]="{'alertstmt':listRowErr == listIndex && listArrayErr == listArrayIndex && !pattern1.test(listArray.list_value)}">
                                              <fa class="delete_choiceslist" [name]="'times'" [size]=1 *ngIf="lists.list_elements.length >1" (click)="deleteListChoices(i,listIndex,listArrayIndex)"></fa>
                                              </div>
                                              <!-- image -->
                                              <div *ngIf="listArray.list_data_format_id == 6" class="listRowDisplay listImg">
                                                <fancy-image-uploader  [options]="imageoptionsList" *ngIf="listArray.list_value == ''" (onUpload)="onImageUploadList($event,i,listIndex,listArrayIndex)" style="margin-bottom: 0px;margin-left: 26%;margin-right: 22%;" class="imageUploaderCss"  [ngClass]="{'alertstmt':listRowErr == listIndex && listArrayErr == listArrayIndex && !pattern1.test(listArray.list_value)}"></fancy-image-uploader>
                                                <img src="{{listArray.list_value}}"  class="editImageList" *ngIf="listArray.list_value!=''" style="margin-right: 18%;">
                                                <span *ngIf="listArray.list_value!=''" class="deleteImageList"  (click)="deleteImageList(i,listIndex,listArrayIndex)"><i class="fa fa-times"></i></span>
                                                <fa class="delete_choiceslist" [name]="'times'" [size]=1 *ngIf="lists.list_elements.length >1" (click)="deleteListChoices(i,listIndex,listArrayIndex)"></fa>
                                              </div>
                                                <!-- audio -->
                                              <div *ngIf="listArray.list_data_format_id == 10 " class="AVMargin listRowDisplay">
                                                <div class="audioBlockList" [ngClass]="{'button_width':showErrorAudio!='' && showErrorAudio != undefined,'alertstmt':listRowErr == listIndex && listArrayErr == listArrayIndex && !pattern1.test(listArray.list_value)}" *ngIf=" listArray.list_value == ''">
                                                  <p class="AVIconList"><i class="fa fa-volume-off" aria-hidden="true"></i></p>
                                                  <div class="fileUploadQueBlock btn btn-primary" >
                                                      <span>Browse Audio</span>
                                                    <input type="file" (change)="UploadAudioList($event,i,listIndex,listArrayIndex)" placeholder="Upload file" accept=".mp3" name="file" class="upload">
                                                    <i class="fa fa-circle-o-notch fa-spin spinAV" *ngIf="spinAudioQBList"></i>
                                                  </div>

                                                </div>
                                                <!-- <p *ngIf="audioTag && item.value != undefined" class="uploadNameQueBlk">{{item.file_name}}</p> -->
                                                <audio width="400" height = "200" controls controlsList="nodownload" *ngIf=" listArray.list_value != ''" style="margin-right: 10px;width:100%;">
                                                  <source src="{{listArray.list_value}}" type="audio/mp3">
                                                </audio>
                                                <!-- <span *ngIf="lists.listTypeArray.length >1" class="deleteAudioElement"  (click)="deleteImageList(i,listIndex,listArrayIndex)"><i class="fa fa-times"></i></span> -->
                                                <fa class="delete_choiceslist" [name]="'times'" [size]=1 *ngIf="lists.list_elements.length >1" (click)="deleteListChoices(i,listIndex,listArrayIndex)"></fa>
                                                  <!-- <div class="alertdangerQueBlk" *ngIf="(showErrorAudio != '' || showErrorAudio != undefined) && checkIndex == i && item.data_format_value == ''">{{showErrorAudio}}</div> -->
                                              </div>
                                              <!-- video -->
                                              <div *ngIf="listArray.list_data_format_id == 11"  class="AVMargin listRowDisplay">
                                                  <div class="audioBlockList" *ngIf="listArray.list_value==''" [ngClass]="{'button_width':showErrorVideo!='' && showErrorVideo != undefined,'alertstmt':listRowErr == listIndex && listArrayErr == listArrayIndex && !pattern1.test(listArray.list_value)}" >
                                                    <p class="AVIconList"><i class="fa fa-play playMargin" aria-hidden="true"></i></p>
                                                  <div class="fileUploadQueBlock btn btn-primary">
                                                      <span>Browse Video</span>
                                                      <input type="file" (change)="uploadVideoList($event,i,listIndex,listArrayIndex)" placeholder="Upload file" accept=".mp4,.avi" name="file" class="upload">
                                                      <i class="fa fa-circle-o-notch fa-spin spinAV" *ngIf="spinVideoQBList"></i>
                                                  </div>
                                                  </div><br>
                                                  <!-- <p *ngIf="videoTag && item.value != undefined" class="uploadNameQueBlk">{{item.file_name}}</p> -->
                                                  <video width="400" height = "200" controls controlsList="nodownload" *ngIf="listArray.list_value != ''"  width="97%" style="margin-right: 10px;">
                                                  <source src="{{listArray.list_value}}" type="video/mp4">

                                                  </video>
                                                  <!-- <span *ngIf="lists.listTypeArray.length >1" class="deleteVideoElementlIST"  (click)="deleteImageList(i,listIndex,listArrayIndex)"><i class="fa fa-times"></i></span> -->
                                                  <fa class="delete_choiceslist" [name]="'times'" [size]=1 *ngIf="lists.list_elements.length >1" (click)="deleteListChoices(i,listIndex,listArrayIndex)"></fa>
                                                  <!-- <div class="alertdangerQueBlk" *ngIf="(showErrorVideo != '' || showErrorVideo != undefined) && checkIndexAns1 == i && item.data_format_value == ''">{{showErrorVideo}}</div> -->
                                              </div>
                                            </div>
                                            <div class="col-md-3" *ngIf="0 == listArrayIndex">
                                                <button *ngIf="item.data_format_value.length <= 4" type="button" (click)="addList(i,listIndex)" class="answer_option_add">+</button>
                                                <button *ngIf="item.data_format_value.length > 1" type="button" (click)="deleteList(i,listIndex)" class="answer_option_add">-</button>
                                            </div>
                                          </div>
                                        </div>

                                    </div>
                                  </div>
                                </div>
                                <!-- Table -->
                                <div *ngIf="item.item_df_id== 7" style="width: 100%;" class="col-md-12">
                                  <div class="row">
                                    <div [ngClass]="{'col-md-11':item.table_format != 5,'col-md-5':item.table_format == 5,'smallTblMargin':item.table_format == 5}" class="tableOVerallDiv">
                                      <table class="table ElttblMargin" (mouseleave)="hideTableBtn()" [ngClass]="{'table-striped' :item.table_format == 3,'table-bordered' : (item.table_format == 2 || item.table_format == 4 || item.table_format == 5)}" >

                                        <tbody>
                                            <tr *ngFor="let row of item.data_format_value;let j=index" >
                                                <td *ngFor="let col of row;let showBtn = index" [hidden]="j!=0"  [ngClass]="{'hideTblBtns' : (HoveredColIndex != showBtn || hideTblColBtn != i) || (showBtn ==0 && col.header==1 && item.available_headers != 'column')}" style="border: 0 !important;background:#fff">
                                                  <p class="columnAddBtn"><span (click)="addTableColumn(i,showBtn)"><i class="fa fa-plus-square"></i></span><span style="float:right" (click)="DeleteTableColumn(i,showBtn)" *ngIf="row.length>2"><i class="fa fa-minus-square"></i></span></p>
                                                </td>
                                            </tr>
                                          <tr *ngFor="let row of item.data_format_value;let rowindex =index">

                                            <td *ngFor="let col of row;let colIndex = index" [ngStyle]="{'border-color':item.table_color}" (mouseenter)="ShowTableBtn(colIndex,rowindex,i)" [ngClass]="{'tableHeadType':(item.available_headers =='column' || item.available_headers =='all') && col.header == 1 && (item.table_format == 2  || item.table_format == 5),'tableDataErr':tblColumnDataErr == colIndex && !pattern1.test(col.table_value)}"><input type="text" autocomplete="off" class="form-control tblField tableAlign" [(ngModel)]="col.table_value" [disabled]="col.table_value =='#'" [placeholder]="col.header==1?'Enter Header':'Enter Data'" [ngClass]="{'tableHeadType':(item.available_headers =='column' || item.available_headers =='all') && col.header == 1 && (item.table_format == 2 || item.table_format == 5),'tableHeadHighlight': col.header == 1}"></td>
                                          </tr>

                                        </tbody>
                                      </table>
                                    </div>
                                    <div class="col-md-1 btnSplitDiv">
                                      <div class="TblBtnsDiv" *ngFor="let row of item.data_format_value;let btnindex=index" [ngClass]="{'hideTblBtns': item.available_headers == 'column' && btnindex == 0 || (item.available_headers == 'all' && btnindex == 0)}">
                                          <button  type="button" (click)="addTableRow(i,btnindex)" class="TblBtns" >+</button>
                                          <button  type="button" (click)="deleteTableRow(i,btnindex)" class="TblBtns" *ngIf="item.data_format_value.length > 2" >-</button>
                                      </div>
                                    </div>
                                  </div>

                                </div>
                              </div>

                            </div>
                    </div>
                </fieldset>
              </split-area>
              <split-area size="100" style="overflow-y:hidden !important;z-index:1 !important">
                <fieldset >
                    <legend>Answer Block</legend>
                    <div class="">
                      <div class="">
                        <form class="form-inline alignScore">
                            <div class="form-group">
                                <label for="score" class="textClr">Score</label> &nbsp; &nbsp;
                              <input type="text" autocomplete="off" name="" class="scoreTF form-control" [(ngModel)]="score" [ngModelOptions]="{standalone: true}" maxlength="5" style="text-align:center;" (keypress)="onlyNumberKey($event)" [ngClass]="{'alertstmt' : scoreIndex == 1}">
                              <!-- <span tooltip="Equations" placement="top" (click)="openEquationAB == false ? openEquationAB = true:openEquationAB = false" class="ansBlkEqSymbol"><b>∑</b></span> -->
                            </div>
                        </form>
                      </div>

                      <div class="answer_block_container">
                        <p style="margin-left:20px;margin-top: 42px;color: #00aed9;">Correct Options</p>
                        <div *ngFor='let input of attributes?.answer_choices; let i = index;' class="answer">
                            <div class="correct_options_block">
                                <div class="correct_radio_button">
                                    <!-- <input name="input.correct_answer" type="radio" [checked]="input.correct_answer == true" value={{input.correct_answer}} (change)="correct_answer_function1(i, input.correct_answer, input.option_df_sequence)"/> -->
                                    <label class="TFcontainer">
                                        <input name="radio{{i}}" name="input.correct_answer" type="radio" [checked]="input.correct_answer == true" value={{input.correct_answer}} (change)="correct_answer_function1(i, input.correct_answer, input.option_df_sequence)">
                                        <!-- <button (click)="add_description(i,answer_InsightPopup, input)" class="desc_btn">
                                          <fa style="color: #eaeaea;" [name]="'paste'" class="faIcons"  tooltip="Add Insight" placement="top"></fa>&nbsp;</button> -->
                                        <span class="TFcheckmark"></span>
                                    </label>
                                </div>
                            </div>
                            <div class="answer_block">
                                <div class="row answer_input">
                                    <input name="input.data_format_value" class="form-control" maxlength="150" [(ngModel)]="input.data_format_value" maxlength="75" placeholder="Enter your answer option" [ngClass]="{'alertstmt' : ansIndex == i && !pattern1.test(input.data_format_value)}" style="height: 28px !important;">
                                    <button (click)="add_description(i,answer_InsightPopup, input)" class="desc_btn_true_false">
                                      <fa style="color: #eaeaea;" [name]="'paste'" class="faIcons"  tooltip="Add Insight" placement="top"></fa>&nbsp;</button>
                                </div>
                            </div>
                        </div>
                      </div>

                    </div>

                </fieldset>
              </split-area>
            </split>
        </div>
      </div>

      <!-- chose match type popup -->
      <ng-template #visible>
        <div class="modal-header">
            <p class="modalHead">Choose a Match Type</p>
          <button type="button" class="" style="background: transparent;border: none;color: white;padding: 5px 10px;font-size: 16px;cursor:pointer;" aria-label="Close" (click)="closeMatchPopup()">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
            <div class="col-md-12" >
                <div class="row">
                  <div class="list-group col-md-5" style="padding:10px 14px;padding-right: 0!important;border-radius: 0px;">
                      <p class="list-group-item matchListPrev" *ngFor="let data of matchTypes;let i=index" (click)="matchTypeImage(i)" [ngClass]="{'clicked' : activeMatchState == i}">
                        <span>{{data.match_type}}</span>
                         <!-- <span style="position: absolute;right: 10px;"><i class="fa fa-info-circle" aria-hidden="true" (click)="showMatchDesc(data)"></i></span> -->
                      </p>
                  </div>
                  <div class="col-md-7" style="padding-left:0!important; padding-bottom: 10px;">
                    <p class="text-center match-preview" tooltip="Preview">Preview</p>
                    <div  *ngFor="let data of matchTypes;let i=index">
                    <img src="{{data.match_type_image}}" style="width:220px;height:184px;margin-top: -18px;margin-left: 38px;margin-bottom: 15px;" *ngIf="activeMatchState == i">

                  </div>
                  <p class="matchHint" *ngIf="activeMatchState <= 2"><fa [name]="'lightbulb-o'" [size]=1 class="textClr" ></fa>&nbsp;Enter Correct Answer Against Each Options</p>
                  <div class="matchHint" *ngIf="activeMatchState > 2"><fa [name]="'lightbulb-o'" [size]=1 class="textClr" ></fa>&nbsp;<div>Enter Correct or Incorrect Answer Against Each Options</div></div>
                    <div class="match-select-btn"><button class="btn btn-primary selectBtnPrev" (click)="close(activeMatchState,2)" [disabled]="disableMatchSelect">Select</button></div>
                  </div>

                </div>
            </div>
        </div>
      </ng-template>


      <!-- alert to show when match type is changed -->
      <div *ngIf="matchAlert" class="dialogAlert">
        <p class="modalHeadMatch">Alert!!</p>
        <p class="text-center" style="margin: 16px;">The Present Content Will Change According to New Match Type Selected</p>
        <p class="text-center">Do You Want to Proceed ?</p>
        <div class="text-center"><button class="btn btn-primary selectBtnPrev" (click)="yes(activeMatchState)">Yes</button>
        <button class="btn btn-default selectBtnPrev" (click)="exit(activeMatchState)">No</button></div>

      </div>

      <!-- popup to show match list of first 3 type -->
      <ng-template #toggleMatchType>
          <div class="modal-header">
              <p class="modalHead">Choose a Match Type</p>
            <button type="button" class="" style="background: transparent;border: none;color: white;padding: 5px 10px;font-size: 16px;cursor:pointer;" aria-label="Close" (click)="modalRef.hide()">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
              <div class="col-md-12">
                  <div class="row">
                    <div class="list-group col-md-5" style="padding:10px 23px;padding-right: 0!important;border-radius: 0px;">
                        <p class="list-group-item" *ngFor="let data of matchTypes;let i=index" (click)="matchTypeImage(i)" [ngClass]="{'clicked' : activeMatchState == i}" [hidden]=" i >=3 " style="border-radius: 0px;">{{data.match_type}}</p>

                    </div>
                    <div class="col-md-7" style="padding-left:0!important; padding-bottom: 10px;">
                      <p class="text-center match-preview" tooltip="Preview">Preview</p>
                      <div  *ngFor="let data of matchTypes;let i=index">
                      <img src="{{data.match_type_image}}" style="width:230px;height:184px;margin-top: -18px;margin-left: 38px;margin-bottom: 15px;" *ngIf="activeMatchState == i">
                    </div>

                    <div class="match-select-btn" style="margin-left:6px;"><button class="btn btn-default selectBtnPrev" (click)="exit(activeMatchState,toggleMatchType)">Close</button></div>
                      <div class="match-select-btn"><button class="btn btn-primary selectBtnPrev" (click)="select()">Select</button></div>

                    </div>

                  </div>
                </div>
          </div>
      </ng-template>

      <!-- <div *ngIf="visible" class="overlay"></div> -->

      <!-- match block -->
      <div *ngIf="matchAlert" class="overlay"></div>
      <div *ngIf="matchBlk">
        <div style="width: 100%; height: 800px;">
          <split direction="vertical">
            <split-area size="70">
              <fieldset  style="min-height:500% !important;max-height:500%;">
                  <legend>Item Block</legend>
                  <div class="multiAnsmcq" droppable (onDrop)="onItemDrop($event)">
                    <div class='container1' [dragula]='"bag-one"'  [dragulaModel]='attributes?.item'>

                      <div  class="list-group-item stmtElement listPadd" *ngFor="let input of attributes?.item; let i=index;" [ngClass]="{'alertstmt' : errIndex == i &&  (!pattern1.test(input.data_format_value) || input.data_format_value == null)}">
                        <div class="drag">
                            <!-- <input  type="text" autocomplete="off" value="{{input.data_format_value}}" class="form-control element" [(ngModel)]="input.data_format_value" *ngIf="input.item_df_id=='1'" placeholder="Enter Statements Here" >   -->
                            <!-- <textarea class="form-control directiveArea element" rows="2" cols="5" value="{{input.data_format_value}}" [(ngModel)]="input.data_format_value" *ngIf="input.item_df_id== 1" placeholder="Enter Statements Here" maxlength="200"></textarea> -->
                            <quill-editor [(ngModel)]="input.data_format_value" *ngIf="input.item_df_id== 1" (keydown)="removeSpcQue($event, input.data_format_value,i)" #desc1QE id="description1-qe-item{{i}}" [style]="{'height': '100px'}"
                            [options]="editorOptions"
                          ></quill-editor>
                            <div class="custom-btn" [hidden]= "matchtypeSelected > 3 && input.item_df_id=='9'">
                              <div (click)="displayRightIcon(i)" [hidden]="!showIcon" class="rightIcon" [ngClass]="{'setting_right_icon' : activeIcon === i}">
                                <fa [name]="'caret-left'" [size]="1" ></fa>
                              </div>
                              <div (click)="displayLeftIcon()" class="setting_right_icon" [ngClass]="{'showSettingIcon' : activeIcon === i}">
                                  <span tooltip="Equations" placement="top" (click)="openEquation == false ? openEquation = true:openEquation = false"><b>∑</b></span>
                                <fa [name]="'files-o'" (click)="copyElement(i,input)" *ngIf="input.item_df_id!='9'"></fa> &nbsp;
                                <fa [name]="'trash'" (click)="removeElement(i)" *ngIf="input.item_df_id!='9'" [ngClass]=" {deleteIcon:(input.item_df_sequence== 1 && input.item_df_id == 1)}"></fa>&nbsp;
                                <fa [name]="'cog'" (click)="changeMatchType(toggleMatchType)" *ngIf="input.item_df_id=='9' && matchtypeSelected <= 3"></fa>&nbsp;
                                <fa [name]="'caret-right'" [size]="1"  class="rightIcon"></fa>
                              </div>
                            </div>
                        </div>
                        <div  *ngIf="input.item_df_id=='6'">
                          <div class="drag" >
                            <fancy-image-uploader *ngIf="input.data_format_value =='' || input.data_format_value =='Image_Path'" [options]="options" (onUpload)="onImageUpload($event,i)" style="margin-left: 215px;margin-top: 6px;margin-bottom: 6px;" class="imageUploaderCss"></fancy-image-uploader>
                            <img [src]="input.data_format_value"  class="editImage" *ngIf="input.data_format_value!=''  && input.data_format_value !='Image_Path'">
                            <span *ngIf="input.data_format_value!=''  && input.data_format_value !='Image_Path'" class="deleteImage"  (click)="deleteImageQueBlk(i)"><i class="fa fa-times"></i></span>
                          </div>
                        </div>
                          <div *ngIf="input.item_df_id=='10'" class="col-md-12">
                            <div class="audioBlock" *ngIf=" input.data_format_value == '' || input.data_format_value== 'Audio Path'" [ngClass]="{'button_width':showErrorAudio!='' && showErrorAudio != undefined}">
                                <p class="AVIcon"><i class="fa fa-volume-off" aria-hidden="true"></i></p>
                              <div class="fileUploadQueBlock btn btn-primary" >
                                  <span>Browse Audio</span>
                                <input type="file" (change)="fileChange($event,i)" placeholder="Upload file" accept=".mp3" name="file" class="upload">
                                <i class="fa fa-circle-o-notch fa-spin spinAV" *ngIf="spinAudioQB"></i>
                              </div>
                            </div><br>
                            <!-- <p *ngIf="audioTag && input.data_format_value != ''" class="uploadNameQueBlk">{{input.file_name}}</p> -->
                            <audio width="400" height = "200" controls controlsList="nodownload" *ngIf="input.data_format_value != '' && input.data_format_value != 'Audio Path'"  class="audio-margin">
                              <source [src]="input.data_format_value" type="audio/mp3">
                            </audio>
                            <span *ngIf=" input.data_format_value != '' && input.data_format_value != 'Audio Path'" class="deleteAudioElement"  (click)="deleteImageQueBlk(i)"><i class="fa fa-times"></i></span>

                              <!-- <div class="alertdangerQueBlk" *ngIf="(showErrorAudio != '' || showErrorAudio != undefined) && checkIndex == i && input.data_format_value == ''">{{showErrorAudio}}</div> -->
                          </div>
                          <div *ngIf="input.item_df_id=='11'" class="col-md-12">
                              <div class="audioBlock" *ngIf="input.data_format_value == '' || input.data_format_value== 'Video Path'" [ngClass]="{'button_width':showErrorVideo!='' && showErrorVideo != undefined}">
                                  <p class="AVIcon"><i class="fa fa-play playMargin" aria-hidden="true"></i></p>
                                <div class="fileUploadQueBlock btn btn-primary">
                                  <span>Browse Video</span>
                                  <input type="file" (change)="fileChangeVideo($event,i)" placeholder="Upload file" accept=".mp4,.avi" name="file" class="upload">
                                  <i class="fa fa-circle-o-notch fa-spin spinAV" *ngIf="spinVideoQB"></i>
                              </div>
                              </div><br>
                              <!-- <p *ngIf="videoTag && input.data_format_value != ''" class="uploadNameQueBlk">{{input.file_name}}</p> -->
                              <video width="400" height = "200" controls controlsList="nodownload"  *ngIf="input.data_format_value != '' && input.data_format_value != 'Video Path'" class="audio-margin">
                              <source [src]="input.data_format_value" type="video/mp4">

                              </video>
                              <span *ngIf=" input.data_format_value != '' && input.data_format_value != 'Video Path'" class="deleteVideoElement"  (click)="deleteImageQueBlk(i)"><i class="fa fa-times"></i></span>

                              <!-- <div class="alertdangerQueBlk" *ngIf="(showErrorVideo != '' || showErrorVideo != undefined) && checkIndexAns1 == i && input.data_format_value ==''">{{showErrorVideo}}</div> -->
                          </div>
                            <!-- list -->
                            <div *ngIf="input.item_df_id== 8" style="width:100%;padding:10px;">
                            <div [dragula]='"bag-one"'  [dragulaModel]='input.data_format_value'>
                              <div *ngFor="let lists of input.data_format_value;let listIndex = index" class="col-md-12 listrow" [dragula]='"bag-one"'  [dragulaModel]='lists.list_elements'>

                                  <div *ngFor="let listArray of lists.list_elements;let listArrayIndex = index" class="listrow ">
                                    <div class="row">
                                      <div class="col-md-2">
                                          <div class="btn-group" dropdown  *ngIf="listIndex == 0 && 0 == listArrayIndex;else staticContent">
                                              <button id="button-basic" dropdownToggle type="button" class=" dropdown-toggle btn btn-default listBtn"
                                                      aria-controls="dropdown-basic" (click)="listDropdown == true ? false : true">
                                                <span [ngClass]="{'listSymbols':listArray.list_label=='.','listStar':listArray.list_label=='*'}">{{listArray.list_label}}</span> &nbsp;<fa class="listdropIcon" [name]="'sort-down'" [size]=1 ></fa>
                                              </button>
                                              <ul id="dropdown-basic"  class="dropdown-menu listdropdown-menu" *ngIf="listDropdown"
                                                  role="menu" aria-labelledby="button-basic">
                                                <li role="menuitem"><a class="dropdown-item listdropdown-item" (click)="getListLabel(i,listIndex,'A')">A</a></li>
                                                <li role="menuitem"><a class="dropdown-item" (click)="getListLabel(i,listIndex,'a')">a</a></li>
                                                <li role="menuitem"><a class="dropdown-item" (click)="getListLabel(i,listIndex,'1')">1</a></li>
                                                <li role="menuitem"><a class="dropdown-item" (click)="getListLabel(i,listIndex,'I')">I</a></li>
                                                <li role="menuitem"><a class="dropdown-item" style="font-size: 20px;" (click)="getListLabel(i,listIndex,'*')">*</a></li>
                                                <li role="menuitem"><a class="dropdown-item dropdownIcons" (click)="getListLabel(i,listIndex,'.')"><fa [name]="'circle'" [size]=1 style="color:black !important"></fa></a></li>


                                              </ul>
                                          </div>
                                          <ng-template #staticContent >
                                              <button id="button-basic"  type="button" class=" btn btn-default listBtn2"
                                                (click)="listDropdown == true ? false : true" *ngIf="listIndex > 0 && 0 == listArrayIndex;">
                                                <span [ngClass]="{'listSymbols':listArray.list_label=='.','listStar':listArray.list_label=='*'}">{{listArray.list_label}}</span>
                                              </button>
                                          </ng-template>

                                      </div>
                                      <div class="col-md-7">
                                        <div *ngIf="listArray.list_data_format_id == 1" class="listRowDisplay">
                                        <input type="text" autocomplete="off" class="form-control listStmt"  [(ngModel)]= "listArray.list_value"  maxlength="75" placeholder="Enter Text or Insert Element"  [ngClass]="{'alertstmt':listRowErr == listIndex && listArrayErr == listArrayIndex && !pattern1.test(listArray.list_value)}">
                                        <fa class="delete_choiceslist" [name]="'times'" [size]=1 *ngIf="lists.list_elements.length >1" (click)="deleteListChoices(i,listIndex,listArrayIndex)"></fa>
                                        </div>
                                        <!-- image -->
                                        <div *ngIf="listArray.list_data_format_id == 6" class="listRowDisplay listImg">
                                          <fancy-image-uploader  [options]="imageoptionsList" *ngIf="listArray.list_value == ''" (onUpload)="onImageUploadList($event,i,listIndex,listArrayIndex)" style="margin-bottom: 0px;margin-left: 26%;margin-right: 22%;" class="imageUploaderCss"  [ngClass]="{'alertstmt':listRowErr == listIndex && listArrayErr == listArrayIndex && !pattern1.test(listArray.list_value)}"></fancy-image-uploader>
                                          <img src="{{listArray.list_value}}"  class="editImageList" *ngIf="listArray.list_value!=''" style="margin-right: 18%;">
                                          <span *ngIf="listArray.list_value!=''" class="deleteImageList"  (click)="deleteImageList(i,listIndex,listArrayIndex)"><i class="fa fa-times"></i></span>
                                          <fa class="delete_choiceslist" [name]="'times'" [size]=1 *ngIf="lists.list_elements.length >1" (click)="deleteListChoices(i,listIndex,listArrayIndex)"></fa>
                                        </div>
                                          <!-- audio -->
                                        <div *ngIf="listArray.list_data_format_id == 10 " class="AVMargin listRowDisplay">
                                          <div class="audioBlockList" [ngClass]="{'button_width':showErrorAudio!='' && showErrorAudio != undefined,'alertstmt':listRowErr == listIndex && listArrayErr == listArrayIndex && !pattern1.test(listArray.list_value)}" *ngIf=" listArray.list_value == ''">
                                            <p class="AVIconList"><i class="fa fa-volume-off" aria-hidden="true"></i></p>
                                            <div class="fileUploadQueBlock btn btn-primary" >
                                                <span>Browse Audio</span>
                                              <input type="file" (change)="UploadAudioList($event,i,listIndex,listArrayIndex)" placeholder="Upload file" accept=".mp3" name="file" class="upload">
                                              <i class="fa fa-circle-o-notch fa-spin spinAV" *ngIf="spinAudioQBList"></i>
                                            </div>

                                          </div>
                                          <!-- <p *ngIf="audioTag && item.value != undefined" class="uploadNameQueBlk">{{item.file_name}}</p> -->
                                          <audio width="400" height = "200" controls controlsList="nodownload" *ngIf=" listArray.list_value != ''" style="margin-right: 10px;width:100%;">
                                            <source src="{{listArray.list_value}}" type="audio/mp3">
                                          </audio>
                                          <!-- <span *ngIf="lists.listTypeArray.length >1" class="deleteAudioElement"  (click)="deleteImageList(i,listIndex,listArrayIndex)"><i class="fa fa-times"></i></span> -->
                                          <fa class="delete_choiceslist" [name]="'times'" [size]=1 *ngIf="lists.list_elements.length >1" (click)="deleteListChoices(i,listIndex,listArrayIndex)"></fa>
                                            <!-- <div class="alertdangerQueBlk" *ngIf="(showErrorAudio != '' || showErrorAudio != undefined) && checkIndex == i && item.data_format_value == ''">{{showErrorAudio}}</div> -->
                                        </div>
                                        <!-- video -->
                                        <div *ngIf="listArray.list_data_format_id == 11"  class="AVMargin listRowDisplay">
                                            <div class="audioBlockList" *ngIf="listArray.list_value==''" [ngClass]="{'button_width':showErrorVideo!='' && showErrorVideo != undefined,'alertstmt':listRowErr == listIndex && listArrayErr == listArrayIndex && !pattern1.test(listArray.list_value)}" >
                                              <p class="AVIconList"><i class="fa fa-play playMargin" aria-hidden="true"></i></p>
                                            <div class="fileUploadQueBlock btn btn-primary">
                                                <span>Browse Video</span>
                                                <input type="file" (change)="uploadVideoList($event,i,listIndex,listArrayIndex)" placeholder="Upload file" accept=".mp4,.avi" name="file" class="upload">
                                                <i class="fa fa-circle-o-notch fa-spin spinAV" *ngIf="spinVideoQBList"></i>
                                            </div>
                                            </div><br>
                                            <!-- <p *ngIf="videoTag && item.value != undefined" class="uploadNameQueBlk">{{item.file_name}}</p> -->
                                            <video width="400" height = "200" controls controlsList="nodownload" *ngIf="listArray.list_value != ''"  width="97%" style="margin-right: 10px;">
                                            <source src="{{listArray.list_value}}" type="video/mp4">

                                            </video>
                                            <!-- <span *ngIf="lists.listTypeArray.length >1" class="deleteVideoElementlIST"  (click)="deleteImageList(i,listIndex,listArrayIndex)"><i class="fa fa-times"></i></span> -->
                                            <fa class="delete_choiceslist" [name]="'times'" [size]=1 *ngIf="lists.list_elements.length >1" (click)="deleteListChoices(i,listIndex,listArrayIndex)"></fa>
                                            <!-- <div class="alertdangerQueBlk" *ngIf="(showErrorVideo != '' || showErrorVideo != undefined) && checkIndexAns1 == i && item.data_format_value == ''">{{showErrorVideo}}</div> -->
                                        </div>
                                      </div>
                                      <div class="col-md-3" *ngIf="0 == listArrayIndex">
                                          <button *ngIf="input.data_format_value.length <= 4" type="button" (click)="addList(i,listIndex)" class="answer_option_add">+</button>
                                          <button *ngIf="input.data_format_value.length > 1" type="button" (click)="deleteList(i,listIndex)" class="answer_option_add">-</button>
                                      </div>
                                    </div>
                                  </div>

                              </div>
                            </div>
                          </div>
                          <!-- Table -->
                          <div *ngIf="input.item_df_id== 7" style="width: 100%;" class="col-md-12">
                            <div class="row">
                              <div [ngClass]="{'col-md-11':input.table_format != 5,'col-md-5':input.table_format == 5,'smallTblMargin':input.table_format == 5}" class="tableOVerallDiv">
                                <table class="table ElttblMargin" (mouseleave)="hideTableBtn()" [ngClass]="{'table-striped' :input.table_format == 3,'table-bordered' : (input.table_format == 2 || input.table_format == 4 || input.table_format == 5)}" >

                                  <tbody>
                                      <tr *ngFor="let row of input.data_format_value;let j=index" >
                                          <td *ngFor="let col of row;let showBtn = index" [hidden]="j!=0"  [ngClass]="{'hideTblBtns' : (HoveredColIndex != showBtn || hideTblColBtn != i) || (showBtn ==0 && col.header==1 && input.available_headers != 'column')}" style="border: 0 !important;background:#fff">
                                            <p class="columnAddBtn"><span (click)="addTableColumn(i,showBtn)"><i class="fa fa-plus-square"></i></span><span style="float:right" (click)="DeleteTableColumn(i,showBtn)" *ngIf="row.length>2"><i class="fa fa-minus-square"></i></span></p>
                                          </td>
                                      </tr>
                                    <tr *ngFor="let row of input.data_format_value;let rowindex =index">

                                      <td *ngFor="let col of row;let colIndex = index" [ngStyle]="{'border-color':input.table_color}" (mouseenter)="ShowTableBtn(colIndex,rowindex,i)" [ngClass]="{'tableHeadType':(input.available_headers =='column' || input.available_headers =='all') && col.header == 1 && (input.table_format == 2  || input.table_format == 5),'tableDataErr':tblColumnDataErr == colIndex && !pattern1.test(col.table_value)}"><input type="text" autocomplete="off" class="form-control tblField tableAlign" [(ngModel)]="col.table_value" [disabled]="col.table_value =='#'" [placeholder]="col.header==1?'Enter Header':'Enter Data'" [ngClass]="{'tableHeadType':(input.available_headers =='column' || input.available_headers =='all') && col.header == 1 && (input.table_format == 2 || input.table_format == 5),'tableHeadHighlight': col.header == 1}"></td>
                                    </tr>

                                  </tbody>
                                </table>
                              </div>
                              <div class="col-md-1 btnSplitDiv">
                                <div class="TblBtnsDiv" *ngFor="let row of input.data_format_value;let btnindex=index" [ngClass]="{'hideTblBtns': input.available_headers == 'column' && btnindex == 0 || (input.available_headers == 'all' && btnindex == 0)}">
                                    <button  type="button" (click)="addTableRow(i,btnindex)" class="TblBtns" >+</button>
                                    <button  type="button" (click)="deleteTableRow(i,btnindex)" class="TblBtns" *ngIf="input.data_format_value.length > 2" >-</button>
                                </div>
                              </div>
                            </div>

                          </div>

                        <!-- Match Block -->
                        <div *ngIf="input.item_df_id=='9'" class="matchBlockOtherDevices">
                          <form class="form-inline" style="margin-bottom: 15px;float:right;margin-top: 10px;">
                            <div class="form-group" *ngIf="matchtypeSelected <= 3">

                                <label for="score"  class="textClr">Score</label> &nbsp;
                                <input type="text" autocomplete="off" name="" class="scoreMatchQue" [(ngModel)]="input.score" [ngModelOptions]="{standalone: true}" maxlength="5"  style="text-align:center;" (keypress)="onlyNumberKey($event)" [ngClass]="{'alertstmt' : scoreIndexMatch == 1}">
                                <!-- <ui-switch size="small" (change)="onChangeToggle1($event)" [checked]="enableToggleMatch" color="white" switchColor="#00aed9"></ui-switch> &nbsp;<span class="textClr">Graded Score  (In %, Eg-20,45.25)</span> -->
                                <label class="switch">
                                  <input type="checkbox" (change)="onChangeToggle1(enableToggleMatch)" [checked]="enableToggleMatch">
                                  <span class="slider"></span>
                                </label> &nbsp;<span class="textClr">Graded Score (In %, Eg - 20 , 45.25)</span>
                            </div>
                          </form>
                          <div class="answer_block_container1" >
                              <div *ngFor='let input1 of input?.data_format_value;let idn = index;' class="MatchInputMArgin">
                                <div class="col-md-12" *ngIf="input1.match_data[0].matchValueArray[0].header == 1">
                                  <div class="row">

                                    <div class="col-md-4 " *ngFor='let data1 of input1?.match_data;let in=index'  [ngClass]="{'header_margin1' : in == 1,'header_margin' : in == 0}" droppable (onDrop)="onDropMatch($event,data,i,idn,in)">
                                      <div *ngFor="let data of data1?.matchValueArray">
                                        <div style="margin-top:5px;" class="input-group" *ngIf="data.header == 1">
                                            <span class=" match_label" style="visibility:hidden">1</span>&nbsp;
                                            <input name="data.match_value" id="{{idn}}{{in}}" title="{{data.match_value}}" [(ngModel)]= "data.match_value" class="form-control matchInputHeight matchBorderRadius" maxlength="500" placeholder="Enter Header" *ngIf="data.match_data_format_id == 1" [ngClass]="{'alertstmt' : matchIndex == in &&  !pattern1.test(data.match_value)}">
                                            <fancy-image-uploader [options]="match" (onUpload)="onImageUploadmatch($event,i,idn,in)" *ngIf="data.match_data_format_id == 6 && data.match_value ==''" [ngClass]="{'alertstmt1' : matchIndex == in  && !pattern1.test(data.match_value)}"></fancy-image-uploader>
                                            <img [src]="data.match_value"  class="editImage" *ngIf="data.match_value !='' && data.match_data_format_id == 6">
                                            <span *ngIf="data.match_value !='' && data.match_data_format_id == 6  && input.data_format_value !='Image_Path'" class="deleteImageMatchBlk"  (click)="deleteImageMatchBlk(i,idn,in)"><i class="fa fa-times"></i></span>
                                            <!-- audio -->
                                            <div *ngIf="data.match_data_format_id=='10'">
                                            <div class="fileUploadMatch btn btn-primary" style="margin: 2px;" *ngIf="data.match_value =='' " [ngClass]="{'alertstmt1' : matchIndex == in  && !pattern1.test(data.match_value)}">
                                                <span style="padding: 23px;">Browse Audio</span>
                                              <input type="file" (change)="fileChangeAudioMatch($event,i,idn,in)" placeholder="Upload file" accept=".mp3" name="file" class="upload">
                                              <i class="fa fa-circle-o-notch fa-spin spinAVMatch" *ngIf="spinAudioMatch"></i>
                                            </div><br>
                                            <div *ngIf="data.match_value!=''" class="audioIcon" (click)="showAudioElement(data.match_value,data.file_name)"><i class="fa fa-volume-up"></i></div><br>
                                            <span *ngIf="data.match_value!=''" class="deleteAudio"  (click)="deleteAudio(i,idn,in)"><i class="fa fa-times"></i></span>
                                            <div *ngIf="showAudio" class="dialogAudio">
                                                <p class="uploadName">{{audioNameMatch}}</p>
                                              <audio width="400" height = "200" controls style="width: 94%;margin-top: 8px;">
                                                <source [src]="sourceNameMatch" type="audio/mp3">
                                              </audio>
                                              <button *ngIf="closable" (click)="closeAudio()" aria-label="Close" class="dialog__close-btn-audio">X</button>
                                            </div>

                                            <div *ngIf="showAudio" class="overlayAudio" ></div>
                                            <!-- <div  class="alertdanger3" *ngIf="(showErrorAudioMatch != '' || showErrorAudioMatch != undefined) && checkIndexMatch == in && data.match_value == ''">{{showErrorAudioMatch}}</div> -->
                                          </div>
                                          <!-- video -->
                                          <div *ngIf="data.match_data_format_id=='11'">
                                            <div class="fileUploadMatch btn btn-primary" style="margin: 2px;" *ngIf="data.match_value =='' " [ngClass]="{'alertstmt1' : matchIndex == in  && !pattern1.test(data.match_value)}">
                                                <span style="padding: 23px;">Browse Video </span>
                                              <input type="file" (change)="fileChangeVideoMatch($event,i,idn,in)" placeholder="Upload file" accept=".mp4,.avi" name="file" class="upload">
                                              <i class="fa fa-circle-o-notch fa-spin spinAVMatch" *ngIf="spinVideoMatch"></i>
                                            </div><br>
                                            <div *ngIf="data.match_value!=''" class="audioIcon" (click)="showVideoElement(data.match_value,data.file_name)"><i class="fa fa-play-circle"></i></div><br>
                                            <span *ngIf="data.match_value!=''" class="deleteAudio"  (click)="deleteVideo(i,idn,in)"><i class="fa fa-times"></i></span>
                                            <div *ngIf="showVideo" class="dialogVideo">
                                                <p class="uploadName">{{videoNameMatch}}</p>
                                            <video width="400" height = "200" controls style="width: 100%;height:100%">
                                              <source [src]="sourceNameMatch" type="audio/mp3">
                                            </video>
                                            <button *ngIf="closable" (click)="closeVideo()" aria-label="Close" class="dialog__close-btn-audio">X</button>
                                            </div>

                                            <div *ngIf="showVideo" class="overlayAudio" ></div>
                                            <!-- <div  class="alertdanger3" *ngIf="(showErrorVideoMatch != '' || showErrorVideoMatch != undefined) && checkIndexMatchVideo == in && data.match_value == ''">{{showErrorVideoMatch}}</div> -->
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                      <!-- <div class="match_setting">
                                        <button  type="button" (click)="deleteLocationMatch(idn)" class="answer_option_add">-</button>
                                      </div> -->
                                  </div>
                                </div>
                              </div>
                            <div  class="" >

                                <div class="" *ngFor='let input1 of input?.data_format_value;let idn = index;' class='MatchInputMArgin' >
                                  <div class="" >

                                    <div class="col-md-12" *ngIf="input1.match_data[0].matchValueArray[0].header != 1" >
                                      <div class="row">
                                        <div class="col-md-4 matchStmtPadding" *ngFor='let data1 of input1?.match_data;let in=index'  [dragula]='"bag-one"'  [dragulaModel]='data1?.matchValueArray'>
                                          <div *ngFor="let data of data1?.matchValueArray" [attr.id]="data.match_data_format_id"  droppable (onDrop)="onDropMatch($event,data,i,idn,in)" [ngClass]="{'hideInput' :(data.hiddenObj == true && in==1)  || (input1?.match_data[0].match_value == 'abc')}" [hidden]="(data.hiddenObj == true && in==0 || data.match_value == 'abc')">
                                            <div style="margin-top:5px;" class="input-group" >
                                                <span class=" match_label">{{data.label}}.</span>&nbsp;
                                              <input name="data.match_value" id="{{idn}}{{in}}"  class="form-control matchInputHeight matchBorderRadius" title="{{data.match_value}}"  [(ngModel)]= "data.match_value"  maxlength="500" [placeholder]="in==0 ? 'Enter Match Option' : data.hiddenObj == false?'Enter Answer Option':'Enter Tricky Option if any'" *ngIf="data.match_data_format_id == 1" [ngClass]="{'alertstmt' : matchIndex == in && !pattern1.test(data.match_value)}">
                                              <fancy-image-uploader [options]="match" (onUpload)="onImageUploadmatch($event,i,idn,in)" *ngIf="data.match_data_format_id == 6 && data.match_value ==''" [ngClass]="{'alertstmt1' : matchIndex == in  && !pattern1.test(data.match_value)}"></fancy-image-uploader>
                                              <img [src]="data.match_value"  class="editImageMatch" *ngIf="data.match_value !='' && data.match_data_format_id == 6">
                                              <span *ngIf="data.match_value !='' && data.match_data_format_id == 6  && input.data_format_value !='Image_Path'" class="deleteImageMatchBlk"  (click)="deleteImageMatchBlk(i,idn,in)"><i class="fa fa-times"></i></span>
                                              <!-- audio -->
                                              <div *ngIf="data.match_data_format_id=='10'">
                                                <div class="fileUploadMatch btn btn-primary" style="margin: 2px;" *ngIf="data.match_value =='' " [ngClass]="{'alertstmt1' : matchIndex == in && !pattern1.test(data.match_value)}">
                                                    <span style="padding: 23px;">Browse Audio </span>
                                                  <input type="file" (change)="fileChangeAudioMatch($event,i,idn,in)" placeholder="Upload file" accept=".mp3" name="file" class="upload">
                                                  <i class="fa fa-circle-o-notch fa-spin spinAVMatch" *ngIf="spinAudioMatch"></i>
                                                </div><br>
                                                <div *ngIf="data.match_value!=''" class="audioIcon" (click)="showAudioElement(data.match_value,data.file_name)"><i class="fa fa-volume-up"></i></div><br>
                                                <span *ngIf="data.match_value!=''" class="deleteAudio"  (click)="deleteAudio(i,idn,in)"><i class="fa fa-times"></i></span>
                                                <div *ngIf="showAudio" class="dialogAudio">
                                                    <!-- <p class="uploadName">{{audioNameMatch}}</p> -->
                                                  <audio width="400" height = "200" controlsList="nodownload" controls style="width: 94%;margin-top: 8px;">
                                                    <source [src]="sourceNameMatch" type="audio/mp3">
                                                  </audio>
                                                  <button *ngIf="closable" (click)="closeAudio()" aria-label="Close" class="dialog__close-btn-audio">X</button>
                                                </div>
                                                <div *ngIf="showAudio" class="overlayAudio" ></div>
                                                <div  class="alertdanger3" *ngIf="(showErrorAudioMatch != '' || showErrorAudioMatch != undefined) && checkIndexMatch == in && data.match_value == ''">{{showErrorAudioMatch}}</div>
                                              </div>
                                              <!-- video -->
                                              <div *ngIf="data.match_data_format_id=='11'">
                                                <div class="fileUploadMatch btn btn-primary" style="margin: 2px;" *ngIf="data.match_value =='' " [ngClass]="{'alertstmt1' : matchIndex == in && !pattern1.test(data.match_value)}">
                                                    <span style="padding: 23px;">Browse Video </span>
                                                  <input type="file" (change)="fileChangeVideoMatch($event,i,idn,in)" placeholder="Upload file" accept=".mp4,.avi" name="file" class="upload">
                                                  <i class="fa fa-circle-o-notch fa-spin spinAVMatch" *ngIf="spinVideoMatch"></i>
                                                </div><br>
                                                <div *ngIf="data.match_value!=''" class="audioIcon" (click)="showVideoElement(data.match_value,data.file_name)"><i class="fa fa-play-circle"></i></div><br>
                                                <span *ngIf="data.match_value!=''" class="deleteAudio"  (click)="deleteVideo(i,idn,in)"><i class="fa fa-times"></i></span>
                                                <div *ngIf="showVideo" class="dialogVideo">
                                                    <!-- <p class="uploadName">{{videoNameMatch}}</p> -->
                                                <video width="400" height = "200" controls controlsList="nodownload" style="width: 100%;height:100%">
                                                  <source [src]="sourceNameMatch" type="audio/mp3">
                                                </video>
                                                <button *ngIf="closable" (click)="closeVideo()" aria-label="Close" class="dialog__close-btn-audio">X</button>
                                                </div>
                                                <div *ngIf="showVideo" class="overlayAudio" ></div>
                                                <div  class="alertdanger3" *ngIf="(showErrorVideoMatch != '' || showErrorVideoMatch != undefined) && checkIndexMatchVideo == in && data.match_value == ''">{{showErrorVideoMatch}}</div>
                                              </div>
                                            </div>
                                            <button  type="button" (click)="addOptionLast(i,idn,1,data.label)" class="answer_option_add last_option" *ngIf="input?.data_format_value.length-1 == idn && in==1 && matchtypeSelected <= 3 && extraOptionLength <5" >+</button>
                                          </div>
                                        </div>

                                        <div class="match_setting" [hidden]="input1?.match_data[0].matchValueArray[0].hiddenObj == true">
                                            <button *ngIf="matchLength >= 2 && matchLength < 8" type="button" (click)="addLocationMatch(idn)" class="answer_option_add">+</button>
                                            <button *ngIf="matchLength >= 5 && input1.match_data[0].matchValueArray[0].header != 1" type="button" (click)="deleteLocationMatch(idn)" class="answer_option_add" style="padding: 0px 6px;">-</button>
                                            <!-- lastOption delete -->

                                            <input type="text" autocomplete="off" name="" class="score" [(ngModel)]="input1.score" [ngModelOptions]="{standalone: true}" maxlength="5" *ngIf="showGradedScore1 == false && matchtypeSelected <=3" style="margin-left:4px;text-align:center;" (keypress)="onlyNumberKey($event)" [ngClass]="{'alertstmt' : matchGradedScore == idn}"><span *ngIf="showGradedScore1 == false && matchtypeSelected <=3" class="gradedPercent">%</span>
                                        </div>
                                        <div class="match_setting" *ngIf="input1?.match_data[0].matchValueArray[0].hiddenObj == true">
                                          <button  type="button" (click)="deleteOptionLast(i,idn,1)" class="answer_option_add last_option" *ngIf=" matchtypeSelected <= 3 " style="padding: 0px 6px;">-</button>
                                        </div>

                                      </div>
                                    </div>
                                  </div>
                                </div>
                                <div class="clearfix"></div>
                            </div>

                          </div>
                        </div>
                      </div>


                    </div>
                  </div>


              </fieldset>
            </split-area>

            <split-area size="100" *ngIf="matchtypeSelected == 5"  style="z-index: 1 !important;">
              <fieldset style="height:auto !important;">
                  <legend>Answer Block</legend>
                  <div class="">
                    <div class="answer_block_container">

                      <form class="form-inline" style="margin-bottom: 15px;float:right;margin-right: 10px;">
                        <div class="form-group" >

                          <label for="score"  class="textClr">Score</label> &nbsp;
                          <input type="text" autocomplete="off" name="" class="scoreMatchQue form-control" [(ngModel)]="score" [ngModelOptions]="{standalone: true}" maxlength="5"  style="text-align:center;" (keypress)="onlyNumberKey($event)" [ngClass]="{'alertstmt' : scoreIndex == 1}">
                          <!-- <ui-switch size="small" (change)="onChangeToggle($event)" [checked]="enableToggle" color="white" switchColor="#00aed9"></ui-switch> &nbsp;<span class="textClr">Graded Score (In %, Eg-20,45.25)</span> -->
                          <label class="switch" tooltip="Graded Score allows you to assign different scores for each selected answer option.">
                            <input type="checkbox" (change)="onChangeToggle(enableToggle)" [checked]="enableToggle">
                            <span class="slider"></span>
                          </label> &nbsp;<span class="textClr">Graded Score</span>
                          <span tooltip="Equations" placement="top" (click)="openEquationAB == false ? openEquationAB = true:openEquationAB = false" class="ansBlkEqSymbol"><b>∑</b></span>
                        </div>
                      </form>
                      <div class="clearfix"></div>
                      <div class="col-md-12" style="display: inline-block;">
                        <div class="row">
                          <select  class="textClr correct_answer_dropdown" [(ngModel)]="selectType" [ngModelOptions]="{standalone: true}" (ngModelChange)="getSelectType(selectType)" >
                              <!-- <option [value]="0" disabled="true">Select Taxonomy</option>  -->
                              <option  value="Single Correct Answer" selected >Radio Button</option>
                              <option  value="Multiple Correct Answers" >Checkbox</option>

                          </select>
                          <p class="textClr" style="margin-left: 38%;font-size: 12px;">Correct Options</p>
                          <p class="textClr" style="margin-left:11px;font-size: 12px;" [hidden]="showGradedScore">Graded Score (Eg : 20 , 45.25)</p>
                        </div>
                      </div>
                      <div class='ansBlkMargin' [dragula]='"bag"'  [dragulaModel]='attributes?.answer_choices'>
                          <div *ngFor='let input1 of attributes?.answer_choices; let i = index;' class=" row1" >
                              <div class="">
                                  <div class="correct_radio_button">
                                      <input name="" type="radio" [hidden]="selectedType" [checked]="true" value="" disabled/>
                                      <input name="" type="checkbox" [hidden]="!selectedType" [checked]="true" value="" disabled />
                                  </div>
                              </div>
                              <div class="col-md-12" [dragula]='"bag-one"'  [dragulaModel]='input1?.choiceElement'>
                                  <div class="" droppable (onDrop)="onElementDrop($event,i,input)" *ngFor="let input of input1?.choiceElement;let ch = index">
                                    <div class="row">
                                      <div class="col-md-7">
                                        <div *ngIf="input.answer_df_id== 1" [ngClass]="{'alertstmtAns' : ansIndex == i &&  input.data_format_value == null}">
                                          <quill-editor [(ngModel)]="input.data_format_value" maxlength="150" (keydown)="removeSpcAnsMatch($event, input.data_format_value,i,ch)" #desc1QE id="description1-qe-ans{{i}}" [style]="{'height': '100px'}"
                                          [options]="editorOptionsAns"></quill-editor>
                                          <!-- <input name="input.data_format_value" [(ngModel)]="input.data_format_value" maxlength="150" placeholder="Enter your answer option" [ngClass]="{'alertstmt' : ansIndex == i && !pattern1.test(input.data_format_value),'input-width4' : showGradedScore == false}" class="input-width3 form-control"  style="height: 28px !important;"> -->
                                        </div>
                                        <div *ngIf="input.answer_df_id== 6 && input.data_id == null" ><fancy-image-uploader [options]="ansoptions" (onUpload)="onImageUploadAns($event,i)"  [ngClass]="{'alertstmt1' : ansIndex == i && !pattern1.test(input.data_format_value)}"></fancy-image-uploader></div>
                                        <img [src]="input.data_format_value"  class="editImage" *ngIf="input.data_id != null && input.answer_df_id == 6">
                                        <!-- audio -->
                                        <div *ngIf="input.answer_df_id == 10" >

                                          <div class="fileUpload1 btn btn-primary uploadAudioAnsWidth" *ngIf="input.data_format_value == ''" [ngClass]="{'alertstmt1' : ansIndex == i && !pattern1.test(input.data_format_value)}">
                                              <span style="padding: 27px;">Browse Audio</span>
                                            <input type="file" (change)="fileChangeAns($event,i)" placeholder="Upload file" accept=".mp3" name="file" class="upload">
                                            <i class="fa fa-circle-o-notch fa-spin spinAVMatch" *ngIf="spinAudioAB"></i>
                                          </div><br>
                                          <audio  controls  controlsList="nodownload" *ngIf="audioTagAns && input.data_format_value != ''" [hidden]="input.data_format_value == ''" style="width: 292px; margin-top: -23px;" class="audiotag">
                                            <source [src]="input.data_format_value" type="audio/mp3">
                                          </audio>
                                          <!-- <div class="alertdanger2" *ngIf="(showErrorAudioAns != '' || showErrorAudioAns != undefined) && checkIndexAnsAudio == i && input.data_format_value == ''">{{showErrorAudioAns}}</div> -->

                                        </div>
                                        <!-- video -->
                                        <div *ngIf="input.answer_df_id == 11" >

                                            <div class="fileUpload1 btn btn-primary uploadAudioAnsWidth" *ngIf="input.data_format_value == ''" [ngClass]="{'alertstmt1' : ansIndex == i && !pattern1.test(input.data_format_value)}">
                                                <span style="padding: 27px;">Browse Video</span>
                                                <input type="file" (change)="fileChangeVideoAns($event,i)" placeholder="Upload file" accept=".mp4,.avi" name="file" class="upload">
                                                <i class="fa fa-circle-o-notch fa-spin spinAVMatch" *ngIf="spinVideoAB"></i>
                                            </div>
                                            <br>
                                            <video controls *ngIf="videoTagAns && input.data_format_value != ''" controlsList="nodownload" [hidden]="input.data_format_value == ''" style="width: 295px;margin-top: -23px;" class="audiotag1">
                                            <source [src]="input.data_format_value" type="video/mp4">
                                            </video>
                                            <!-- <div class="alertdanger2" *ngIf="(showErrorVideoAns != '' || showErrorVideoAns != undefined) && checkIndexAns == i && input.data_format_value == ''">{{showErrorVideoAns}}</div> -->

                                        </div>
                                      </div>

                                      <div class="col-md-5" style="padding: 10px 0px 0px 10px">
                                        <input name="input.correct_answer" class="" type="checkbox" [checked]="input.correct_answer" value={{input.correct_answer}} (change)="correct_answer_function2(i, input.correct_answer, input.option_df_sequence,input.score)"/>
                                        <button *ngIf="attributes?.answer_choices.length >= 4 && attributes?.answer_choices.length <= 7" type="button" (click)="addLocation1(i)" class="answer_option_add">+</button>
                                        <button *ngIf="attributes?.answer_choices.length > 4" type="button" (click)="deleteLocation1(i)" class="answer_option_add">-</button>
                                        <input type="text" autocomplete="off" name="" class="score " [(ngModel)]="input.score" [ngModelOptions]="{standalone: true}" maxlength="5" [hidden]="showGradedScore" style="text-align:center;" (keypress)="onlyNumberKey($event)"><span [hidden]="showGradedScore" class="gradedPercent">%</span>
                                      </div>
                                    </div>
                                  </div>

                            </div>
                              <div class="clearfix"></div>
                          </div>
                      </div>
                    </div>

                  </div>
              </fieldset>
            </split-area>

          <split-area size="100" *ngIf="matchtypeSelected == 4"  style="z-index: 1 !important;">
            <fieldset>
                <legend>Answer Block</legend>
                <div class="multiAnsMatrix">


                  <div class="answer_block_container2">

                      <form class="form-inline" style="margin-bottom: 15px;margin-left: 27%;">
                      <div class="form-group" >

                          <label for="score"  class="textClr">Score</label> &nbsp;
                          <input type="text" autocomplete="off" name="" class="scoreMatchQue form-control" [(ngModel)]="score" [ngModelOptions]="{standalone: true}" maxlength="5"  style="text-align:center;" (keypress)="onlyNumberKey($event)" [ngClass]="{'alertstmt' : scoreIndex == 1}">
                          <!-- <ui-switch size="small" (change)="onChangeToggle($event)" [checked]="enableToggle" color="white" switchColor="#00aed9"></ui-switch> &nbsp;<span class="textClr">Graded Score (In %, Eg-20,45.25)</span> -->
                          <label class="switch" tooltip="Graded Score allows you to assign different scores for each selected answer option.">
                            <input type="checkbox" (change)="onChangeToggle(enableToggle)" [checked]="enableToggle">
                            <span class="slider"></span>
                          </label> &nbsp;<span class="textClr">Graded Score</span>
                          <!-- <span tooltip="Equations" placement="top" (click)="openEquationAB == false ? openEquationAB = true:openEquationAB = false" class="ansBlkEqSymbol"><b>∑</b></span> -->
                      </div>
                      </form>
                    <div class="col-md-12" style="display: inline-block;">
                      <div class="row ">
                        <select  class="textClr correct_answer_dropdown matrix-drop-align" [(ngModel)]="selectType" [ngModelOptions]="{standalone: true}" (ngModelChange)="getSelectType(selectType)" >
                            <!-- <option [value]="0" disabled="true">Select Taxonomy</option>  -->
                            <option  value="Single Correct Answer" selected >Radio Button</option>
                            <option  value="Multiple Correct Answers" >Checkbox </option>
                        </select>
                        <div *ngFor='let input of matrixAnsBlock; let i = index;' [ngClass]="{'matrix-label': i==0}">
                          <div *ngFor='let lbl of input?.answer_choices'>
                              <p *ngIf="i==0">{{lbl.label}}</p>
                          </div>
                        </div>
                        <p class="textClr" style="margin-left: 0%;font-size: 12px;">Correct Options</p>
                        <p class="textClr" style="margin-left:31px;font-size: 12px;" [hidden]="showGradedScore">Graded Score (Eg : 20 , 45.25)</p>
                      </div>
                    </div>
                    <div class='ans_matrix' >
                        <div *ngFor='let input of matrixAnsBlock; let idn = index;'>
                            <div class="" style="display: inline-flex;">
                                <div class="">
                                    <input name="" type="radio" [hidden]="selectedType" [checked]="true" value="" disabled/>
                                    <input name="" type="checkbox" [hidden]="!selectedType" [checked]="true" value="" disabled />
                                </div>
                            </div>

                            <div class="answer-block" style="display :inline-flex;margin-left: 92px; margin-bottom: 12px;">
                                <!-- <p style="margin-right: 3px;">{{idn+1}}</p>&nbsp; -->
                                <div *ngFor='let i of input?.answer_choices;let in = index;'>
                                    <div>
                                      <input name="i.data_format_value" class="scoreMatrix form-control" [(ngModel)]="i.data_format_value" maxlength="1"  (keypress)="numberValidation($event)"  [ngClass]="{'alertstmt' : ansIndex == in  && rowIndex==idn}" >
                                    </div>
                                </div>

                                <div >
                                  <input name="input.correct_answer" class="selectValue" type="checkbox" maxlength="5" [checked]="input.correct_answer" value={{input.correct_answer}} (change)="correct_answer_function2(idn, input.correct_answer, input.option_df_sequence,input.score)"/>
                                  <button *ngIf="matrixAnsBlock.length >= 4 && matrixAnsBlock.length <= 7" type="button" (click)="addLocation1(idn)" class="answer_option_add">+</button>
                                  <button *ngIf="matrixAnsBlock.length > 4" type="button" (click)="deleteLocation1(idn)" class="answer_option_add">-</button>
                                  <input type="text" autocomplete="off" name="" class="score" [(ngModel)]="input.score" [ngModelOptions]="{standalone: true}" maxlength="5" [hidden]="showGradedScore" style="margin-left:50px;text-align:center;" (keypress)="onlyNumberKey($event)"><span [hidden]="showGradedScore" class="gradedPercent">%</span>
                                </div>


                          </div>
                            <div class="clearfix"></div>
                        </div>
                    </div>
                  </div>

                </div>
            </fieldset>
          </split-area>
          </split>
        </div>
      </div>
      <!-- Directive -->
      <div *ngIf="directiveBlk">
          <button type="button" class="btn btn-primary addItemBtn" [hidden]="directive_id == 0 || directive_id == undefined" (click)="addItemDirective()" id="addDirecItem">Add Item</button>
          <button type="button" class="btn btn-primary addItemBtn1" [hidden]="itemCount == 0 || itemCount == undefined" (click)="viewItemDirective(directive_id)">View Items</button>
          <div style="width: 100%; height: 800px;">
            <split direction="vertical">
              <split-area size="70">
                <fieldset  style="min-height:500% !important;max-height:200%;width:97%;">

                    <legend>Directive Block</legend>

                    <div class="multiAnsmcq" droppable (onDrop)="onItemDrop($event)">
                      <p class="placeHolder" *ngIf="attributes?.directive<1">Drag and Drop additional elements if required</p>

                            <div class='container1' [dragula]='"bag-one"'  [dragulaModel]='attributes?.directive'>

                              <div  class="list-group-item stmtElement listPadd" *ngFor="let item of attributes?.directive; let i=index" [ngClass]="{'alertstmt' : directiveErr == i && (!pattern1.test(item.data_format_value) || item.data_format_value == null)}">
                                <div class="drag">
                                    <!-- <input  type="text" autocomplete="off" value="{{item.value}}" class="form-control element" [(ngModel)]="item.value" *ngIf="item.element=='Statement'" placeholder="Enter Statements Here"> -->
                                    <!-- <textarea class="form-control directiveArea element" rows="5" cols="5" value="{{item.data_format_value}}" [(ngModel)]="item.data_format_value" *ngIf="item.item_df_id== 1" placeholder="Enter Statements Here" maxlength="3000"></textarea> -->
                                    <quill-editor [(ngModel)]="item.data_format_value" *ngIf="item.item_df_id== 1"  (keydown)="removeSpcQueDir($event, item.data_format_value,i)" #desc1QE id="description1-qe-item{{i}}" [style]="{'height': '100px'}"
                                    [options]="editorOptions"
                                  ></quill-editor>

                                    <div class="custom-btn">
                                      <div (click)="displayRightIcon(i)" [hidden]="!showIcon" class="rightIcon" [ngClass]="{'setting_right_icon' : activeIcon === i}">
                                        <fa [name]="'caret-left'" [size]="1" ></fa>
                                      </div>
                                      <div (click)="displayLeftIcon()" class="setting_right_icon" [ngClass]="{'showSettingIcon' : activeIcon === i}">
                                          <span tooltip="Equations" placement="top" (click)="openEquation == false ? openEquation = true:openEquation = false"><b>∑</b></span> &nbsp;
                                        <fa [name]="'files-o'" (click)="copyElement(i,item)" ></fa> &nbsp;
                                        <fa [name]="'trash'" (click)="removeElement(i)" [ngClass]=" {deleteIcon: (item.item_df_id == 1 && item.item_df_sequence== 1)}"></fa>&nbsp;
                                        <fa [name]="'caret-right'" [size]="1"  class="rightIcon"></fa>
                                      </div>
                                  </div>
                                </div>
                                <!-- image -->
                                <div  *ngIf="item.item_df_id== 6">
                                  <div class="drag" >
                                    <!-- <input type="file"> -->

                                    <fancy-image-uploader *ngIf="item.data_format_value =='' || item.data_format_value =='Image_Path'" [options]="options" (onUpload)="onImageUpload($event,i)" style="margin-left: 215px;margin-top: 6px;margin-bottom: 6px;" class="imageUploaderCss"></fancy-image-uploader>
                                      <img [src]="item.data_format_value"  class="editImage" *ngIf="item.data_format_value!=''  && item.data_format_value !='Image_Path'">
                                      <span *ngIf="item.data_format_value!=''  && item.data_format_value !='Image_Path'" class="deleteImage"  (click)="deleteImageQueBlkDirective(i)"><i class="fa fa-times"></i></span>
                                  </div>
                                  <!-- <i class="fa fa-circle-o-notch fa-spin spinImage" *ngIf="ImageLoader"></i> -->
                                </div>
                                <!-- audio -->
                                <div *ngIf="item.item_df_id== 10" class="col-md-12">
                                  <div class="audioBlock" *ngIf=" item.data_format_value=='' || item.data_format_value== 'Audio Path'" [ngClass]="{'button_width':showErrorAudio!='' && showErrorAudio != undefined}">
                                      <p class="AVIcon"><i class="fa fa-volume-off" aria-hidden="true"></i></p>
                                    <div class="fileUploadQueBlock btn btn-primary" >
                                        <span>Browse Audio</span>
                                      <input type="file" (change)="fileChange($event,i)" placeholder="Upload file" accept=".mp3" name="file" class="upload">
                                      <i class="fa fa-circle-o-notch fa-spin spinAV" *ngIf="spinAudioQB"></i>
                                    </div>
                                    <!-- <i class="fa fa-circle-o-notch fa-spin spinImage" ></i> -->
                                  </div><br>
                                  <!-- <p *ngIf="audioTag && item.value != undefined" class="uploadNameQueBlk">{{item.file_name}}</p> -->
                                  <audio width="400" height = "200" controls controlsList="nodownload" *ngIf=" item.data_format_value != '' && item.data_format_value != 'Audio Path'"  class="audio-margin">
                                    <source [src]="item.data_format_value" type="audio/mp3">
                                  </audio>
                                  <span *ngIf=" item.data_format_value != '' && item.data_format_value != 'Audio Path'" class="deleteAudioElement"  (click)="deleteImageQueBlkDirective(i)"><i class="fa fa-times"></i></span>

                                    <!-- <div class="alertdangerQueBlk" *ngIf="(showErrorAudio != '' || showErrorAudio != undefined) && checkIndex == item.id && item.data_format_value == ''">{{showErrorAudio}}</div> -->
                                </div>
                                <!-- video -->
                                <div *ngIf="item.item_df_id== 11" class="col-md-12">
                                    <div class="audioBlock" *ngIf=" item.data_format_value=='' || item.data_format_value== 'Video Path'" [ngClass]="{'button_width':showErrorVideo!='' && showErrorVideo != undefined}">
                                        <p class="AVIcon"><i class="fa fa-play playMargin" aria-hidden="true"></i></p>
                                      <div class="fileUploadQueBlock btn btn-primary">
                                        <span>Browse Video</span>
                                        <input type="file" (change)="fileChangeVideo($event,i)" placeholder="Upload file" accept=".mp4,.avi" name="file" class="upload">
                                        <i class="fa fa-circle-o-notch fa-spin spinAV" *ngIf="spinVideoQB"></i>
                                    </div>
                                    </div><br>
                                    <!-- <p *ngIf="videoTag && item.value != undefined" class="uploadNameQueBlk">{{item.file_name}}</p> -->
                                    <video width="400" height = "200" controls controlsList="nodownload" *ngIf="item.data_format_value != ''  && item.data_format_value != 'Video Path'" class="audio-margin">
                                    <source [src]="item.data_format_value" type="video/mp4">

                                    </video>
                                    <span *ngIf=" item.data_format_value != '' && item.data_format_value != 'Video Path'" class="deleteVideoElement"  (click)="deleteImageQueBlkDirective(i)"><i class="fa fa-times"></i></span>

                                    <!-- <div class="alertdangerQueBlk" *ngIf="(showErrorVideo != '' || showErrorVideo != undefined) && checkIndexAns1 == item.id && item.data_format_value == ''">{{showErrorVideo}}</div> -->
                                </div>
                                  <!-- list -->
                                  <div *ngIf="item.item_df_id== 8" style="width:100%;padding:10px;">
                                    <div [dragula]='"bag-one"'  [dragulaModel]='item.data_format_value'>
                                      <div *ngFor="let lists of item.data_format_value;let listIndex = index" class="col-md-12 listrow" [dragula]='"bag-one"'  [dragulaModel]='lists.list_elements'>

                                          <div *ngFor="let listArray of lists.list_elements;let listArrayIndex = index" class="listrow ">
                                            <div class="row">
                                              <div class="col-md-2">
                                                  <div class="btn-group" dropdown  *ngIf="listIndex == 0 && 0 == listArrayIndex;else staticContent">
                                                      <button id="button-basic" dropdownToggle type="button" class=" dropdown-toggle btn btn-default listBtn"
                                                              aria-controls="dropdown-basic" (click)="listDropdown == true ? false : true">
                                                        <span [ngClass]="{'listSymbols':listArray.list_label=='.','listStar':listArray.list_label=='*'}">{{listArray.list_label}}</span> &nbsp;<fa class="listdropIcon" [name]="'sort-down'" [size]=1 ></fa>
                                                      </button>
                                                      <ul id="dropdown-basic"  class="dropdown-menu listdropdown-menu" *ngIf="listDropdown"
                                                          role="menu" aria-labelledby="button-basic">
                                                        <li role="menuitem"><a class="dropdown-item listdropdown-item" (click)="getListLabel(i,listIndex,'A')">A</a></li>
                                                        <li role="menuitem"><a class="dropdown-item" (click)="getListLabel(i,listIndex,'a')">a</a></li>
                                                        <li role="menuitem"><a class="dropdown-item" (click)="getListLabel(i,listIndex,'1')">1</a></li>
                                                        <li role="menuitem"><a class="dropdown-item" (click)="getListLabel(i,listIndex,'I')">I</a></li>
                                                        <li role="menuitem"><a class="dropdown-item" style="font-size: 20px;" (click)="getListLabel(i,listIndex,'*')">*</a></li>
                                                        <li role="menuitem"><a class="dropdown-item dropdownIcons" (click)="getListLabel(i,listIndex,'.')"><fa [name]="'circle'" [size]=1 style="color:black !important"></fa></a></li>


                                                      </ul>
                                                  </div>
                                                  <ng-template #staticContent >
                                                      <button id="button-basic"  type="button" class=" btn btn-default listBtn2"
                                                        (click)="listDropdown == true ? false : true" *ngIf="listIndex > 0 && 0 == listArrayIndex;">
                                                        <span [ngClass]="{'listSymbols':listArray.list_label=='.','listStar':listArray.list_label=='*'}">{{listArray.list_label}}</span>
                                                      </button>
                                                  </ng-template>

                                              </div>
                                              <div class="col-md-7">
                                                <div *ngIf="listArray.list_data_format_id == 1" class="listRowDisplay">
                                                <input type="text" autocomplete="off" class="form-control listStmt"  [(ngModel)]= "listArray.list_value"  maxlength="75" placeholder="Enter Text or Insert Element"  [ngClass]="{'alertstmt':listRowErr == listIndex && listArrayErr == listArrayIndex && !pattern1.test(listArray.list_value)}">
                                                <fa class="delete_choiceslist" [name]="'times'" [size]=1 *ngIf="lists.list_elements.length >1" (click)="deleteListChoices(i,listIndex,listArrayIndex)"></fa>
                                                </div>
                                                <!-- image -->
                                                <div *ngIf="listArray.list_data_format_id == 6" class="listRowDisplay listImg">
                                                  <fancy-image-uploader  [options]="imageoptionsList" *ngIf="listArray.list_value == ''" (onUpload)="onImageUploadList($event,i,listIndex,listArrayIndex)" style="margin-bottom: 0px;margin-left: 26%;margin-right: 22%;" class="imageUploaderCss"  [ngClass]="{'alertstmt':listRowErr == listIndex && listArrayErr == listArrayIndex && !pattern1.test(listArray.list_value)}"></fancy-image-uploader>
                                                  <img src="{{listArray.list_value}}"  class="editImageList" *ngIf="listArray.list_value!=''" style="margin-right: 18%;">
                                                  <span *ngIf="listArray.list_value!=''" class="deleteImageList"  (click)="deleteImageList(i,listIndex,listArrayIndex)"><i class="fa fa-times"></i></span>
                                                  <fa class="delete_choiceslist" [name]="'times'" [size]=1 *ngIf="lists.list_elements.length >1" (click)="deleteListChoices(i,listIndex,listArrayIndex)"></fa>
                                                </div>
                                                  <!-- audio -->
                                                <div *ngIf="listArray.list_data_format_id == 10 " class="AVMargin listRowDisplay">
                                                  <div class="audioBlockList" [ngClass]="{'button_width':showErrorAudio!='' && showErrorAudio != undefined,'alertstmt':listRowErr == listIndex && listArrayErr == listArrayIndex && !pattern1.test(listArray.list_value)}" *ngIf=" listArray.list_value == ''">
                                                    <p class="AVIconList"><i class="fa fa-volume-off" aria-hidden="true"></i></p>
                                                    <div class="fileUploadQueBlock btn btn-primary" >
                                                        <span>Browse Audio</span>
                                                      <input type="file" (change)="UploadAudioList($event,i,listIndex,listArrayIndex)" placeholder="Upload file" accept=".mp3" name="file" class="upload">
                                                      <i class="fa fa-circle-o-notch fa-spin spinAV" *ngIf="spinAudioQBList"></i>
                                                    </div>

                                                  </div>
                                                  <!-- <p *ngIf="audioTag && item.value != undefined" class="uploadNameQueBlk">{{item.file_name}}</p> -->
                                                  <audio width="400" height = "200" controls controlsList="nodownload" *ngIf=" listArray.list_value != ''" style="margin-right: 10px;width:100%;">
                                                    <source src="{{listArray.list_value}}" type="audio/mp3">
                                                  </audio>
                                                  <!-- <span *ngIf="lists.listTypeArray.length >1" class="deleteAudioElement"  (click)="deleteImageList(i,listIndex,listArrayIndex)"><i class="fa fa-times"></i></span> -->
                                                  <fa class="delete_choiceslist" [name]="'times'" [size]=1 *ngIf="lists.list_elements.length >1" (click)="deleteListChoices(i,listIndex,listArrayIndex)"></fa>
                                                    <!-- <div class="alertdangerQueBlk" *ngIf="(showErrorAudio != '' || showErrorAudio != undefined) && checkIndex == i && item.data_format_value == ''">{{showErrorAudio}}</div> -->
                                                </div>
                                                <!-- video -->
                                                <div *ngIf="listArray.list_data_format_id == 11"  class="AVMargin listRowDisplay">
                                                    <div class="audioBlockList" *ngIf="listArray.list_value==''" [ngClass]="{'button_width':showErrorVideo!='' && showErrorVideo != undefined,'alertstmt':listRowErr == listIndex && listArrayErr == listArrayIndex && !pattern1.test(listArray.list_value)}" >
                                                      <p class="AVIconList"><i class="fa fa-play playMargin" aria-hidden="true"></i></p>
                                                    <div class="fileUploadQueBlock btn btn-primary">
                                                        <span>Browse Video</span>
                                                        <input type="file" (change)="uploadVideoList($event,i,listIndex,listArrayIndex)" placeholder="Upload file" accept=".mp4,.avi" name="file" class="upload">
                                                        <i class="fa fa-circle-o-notch fa-spin spinAV" *ngIf="spinVideoQBList"></i>
                                                    </div>
                                                    </div><br>
                                                    <!-- <p *ngIf="videoTag && item.value != undefined" class="uploadNameQueBlk">{{item.file_name}}</p> -->
                                                    <video width="400" height = "200" controls controlsList="nodownload" *ngIf="listArray.list_value != ''"  width="97%" style="margin-right: 10px;">
                                                    <source src="{{listArray.list_value}}" type="video/mp4">

                                                    </video>
                                                    <!-- <span *ngIf="lists.listTypeArray.length >1" class="deleteVideoElementlIST"  (click)="deleteImageList(i,listIndex,listArrayIndex)"><i class="fa fa-times"></i></span> -->
                                                    <fa class="delete_choiceslist" [name]="'times'" [size]=1 *ngIf="lists.list_elements.length >1" (click)="deleteListChoices(i,listIndex,listArrayIndex)"></fa>
                                                    <!-- <div class="alertdangerQueBlk" *ngIf="(showErrorVideo != '' || showErrorVideo != undefined) && checkIndexAns1 == i && item.data_format_value == ''">{{showErrorVideo}}</div> -->
                                                </div>
                                              </div>
                                              <div class="col-md-3" *ngIf="0 == listArrayIndex">
                                                  <button *ngIf="item.data_format_value.length <= 4" type="button" (click)="addList(i,listIndex)" class="answer_option_add">+</button>
                                                  <button *ngIf="item.data_format_value.length > 1" type="button" (click)="deleteList(i,listIndex)" class="answer_option_add">-</button>
                                              </div>
                                            </div>
                                          </div>

                                      </div>
                                    </div>
                                  </div>
                                    <!-- Table -->
                                    <div *ngIf="item.item_df_id== 7" style="width: 100%;" class="col-md-12">
                                    <div class="row">
                                      <div [ngClass]="{'col-md-11':item.table_format != 5,'col-md-5':item.table_format == 5,'smallTblMargin':item.table_format == 5}" class="tableOVerallDiv">
                                        <table class="table ElttblMargin" (mouseleave)="hideTableBtn()" [ngClass]="{'table-striped' :item.table_format == 3,'table-bordered' : (item.table_format == 2 || item.table_format == 4 || item.table_format == 5)}" >

                                          <tbody>
                                              <tr *ngFor="let row of item.data_format_value;let j=index" >
                                                  <td *ngFor="let col of row;let showBtn = index" [hidden]="j!=0"  [ngClass]="{'hideTblBtns' : (HoveredColIndex != showBtn || hideTblColBtn != i) || (showBtn ==0 && col.header==1 && item.available_headers != 'column')}" style="border: 0 !important;background:#fff">
                                                    <p class="columnAddBtn"><span (click)="addTableColumn(i,showBtn)"><i class="fa fa-plus-square"></i></span><span style="float:right" (click)="DeleteTableColumn(i,showBtn)" *ngIf="row.length>2"><i class="fa fa-minus-square"></i></span></p>
                                                  </td>
                                              </tr>
                                            <tr *ngFor="let row of item.data_format_value;let rowindex =index">

                                              <td *ngFor="let col of row;let colIndex = index" [ngStyle]="{'border-color':item.table_color}" (mouseenter)="ShowTableBtn(colIndex,rowindex,i)" [ngClass]="{'tableHeadType':(item.available_headers =='column' || item.available_headers =='all') && col.header == 1 && (item.table_format == 2  || item.table_format == 5),'tableDataErr':tblColumnDataErr == colIndex && !pattern1.test(col.table_value)}"><input type="text" autocomplete="off" class="form-control tblField tableAlign" [(ngModel)]="col.table_value" [disabled]="col.table_value =='#'" [placeholder]="col.header==1?'Enter Header':'Enter Data'" [ngClass]="{'tableHeadType':(item.available_headers =='column' || item.available_headers =='all') && col.header == 1 && (item.table_format == 2 || item.table_format == 5),'tableHeadHighlight': col.header == 1}"></td>
                                            </tr>

                                          </tbody>
                                        </table>
                                      </div>
                                      <div class="col-md-1 btnSplitDiv">
                                        <div class="TblBtnsDiv" *ngFor="let row of item.data_format_value;let btnindex=index" [ngClass]="{'hideTblBtns': item.available_headers == 'column' && btnindex == 0 || (item.available_headers == 'all' && btnindex == 0)}">
                                            <button  type="button" (click)="addTableRow(i,btnindex)" class="TblBtns" >+</button>
                                            <button  type="button" (click)="deleteTableRow(i,btnindex)" class="TblBtns" *ngIf="item.data_format_value.length > 2" >-</button>
                                        </div>
                                      </div>
                                    </div>

                                  </div>
                              </div>

                            </div>
                    </div>
                </fieldset>
              </split-area>
            </split>
          </div>
      </div>

      <!-- free text -->
      <div *ngIf="freeTextBlk">
        <div style="width: 100%; height: 800px;">
            <split direction="vertical">
              <split-area size="70">
                <fieldset style="min-height:500% !important;max-height:500%;">
                    <legend>Item Block</legend>
                    <div class="multiAnsmcq" droppable (onDrop)="onItemDrop($event)">
                      <p class="placeHolder"  *ngIf="attributes?.item.length <=1">Drag and Drop additional elements if required</p>

                            <div class='container1' [dragula]='"bag-one"'  [dragulaModel]='attributes?.item'>

                              <div  class="list-group-item stmtElement listPadd" *ngFor="let item of attributes?.item; let i=index" [ngClass]="{'alertstmt' : errIndex == i && !(pattern1.test(item.data_format_value) || item.data_format_value == null)}">
                                <div class="drag">
                                    <!-- <input  type="text" autocomplete="off" value="{{item.data_format_value}}" class="form-control element" [(ngModel)]="item.data_format_value" *ngIf="item.item_df_id== 1" placeholder="Enter Statements Here"> -->
                                    <!-- <textarea class="form-control directiveArea element" rows="2" cols="5" value="{{item.data_format_value}}" [(ngModel)]="item.data_format_value" *ngIf="item.item_df_id== 1" placeholder="Enter Statements Here" maxlength="200"></textarea> -->
                                    <quill-editor [(ngModel)]="item.data_format_value" *ngIf="item.item_df_id== 1" (keydown)="removeSpcQue($event, item.data_format_value,i)" #desc1QE id="description1-qe-item{{i}}" [style]="{'height': '100px'}"
                                    [options]="editorOptions"
                                  ></quill-editor>
                                    <div class="custom-btn">
                                      <div (click)="displayRightIcon(i)" [hidden]="!showIcon" class="rightIcon" [ngClass]="{'setting_right_icon' : activeIcon === i}">
                                        <fa [name]="'caret-left'" [size]="1" ></fa>
                                      </div>
                                      <div (click)="displayLeftIcon()" class="setting_right_icon" [ngClass]="{'showSettingIcon' : activeIcon === i}">
                                          <span tooltip="Equations" placement="top" (click)="openEquation == false ? openEquation = true:openEquation = false"><b>∑</b></span> &nbsp;
                                        <fa [name]="'files-o'" (click)="copyElement(i,item)" ></fa> &nbsp;
                                        <fa [name]="'trash'" (click)="removeElement(i)" [ngClass]=" {deleteIcon: (item.item_df_sequence== 1 && item.item_df_id ==  1)}"></fa>&nbsp;
                                        <fa [name]="'caret-right'" [size]="1"  class="rightIcon"></fa>
                                      </div>
                                  </div>
                                </div>
                                <!-- image   -->
                                <div  *ngIf="item.item_df_id== 6">
                                  <div class="drag" >
                                    <!-- <input type="file"> -->

                                    <fancy-image-uploader *ngIf="item.data_format_value =='' || item.data_format_value =='Image_Path'" [options]="options" (onUpload)="onImageUpload($event,i)" style="margin-left: 215px;margin-top: 6px;margin-bottom: 6px;" class="imageUploaderCss"></fancy-image-uploader>
                                      <img src="{{item.data_format_value}}"  class="editImage" *ngIf="item.data_format_value!=''  && item.data_format_value !='Image_Path'">
                                      <span *ngIf="item.data_format_value!=''  && item.data_format_value !='Image_Path'" class="deleteImage"  (click)="deleteImageQueBlk(i)"><i class="fa fa-times"></i></span>
                                  </div>
                                </div>
                                <!-- audio -->
                                <div *ngIf="item.item_df_id== 10" class="col-md-12">
                                  <div class="audioBlock"  *ngIf=" item.data_format_value== '' || item.data_format_value== 'Audio Path'" [ngClass]="{'button_width':showErrorAudio!='' && showErrorAudio != undefined}">
                                      <p class="AVIcon"><i class="fa fa-volume-off" aria-hidden="true"></i></p>
                                    <div class="fileUploadQueBlock btn btn-primary" >
                                        <span>Browse Audio</span>
                                      <input type="file" (change)="fileChange($event,i)" placeholder="Upload file" accept=".mp3" name="file" class="upload">
                                      <i class="fa fa-circle-o-notch fa-spin spinAV" *ngIf="spinAudioQB"></i>
                                    </div>
                                  </div><br>
                                  <!-- <p *ngIf="audioTag && item.value != undefined" class="uploadNameQueBlk">{{item.file_name}}</p> -->
                                  <audio width="400" height = "200" controls controlsList="nodownload" *ngIf=" item.data_format_value != '' && item.data_format_value != 'Audio Path'"  class="audio-margin">
                                    <source src="{{item.data_format_value}}" type="audio/mp3">
                                  </audio>
                                  <span *ngIf=" item.data_format_value != '' && item.data_format_value != 'Audio Path'" class="deleteAudioElement"  (click)="deleteImageQueBlk(i)"><i class="fa fa-times"></i></span>

                                    <!-- <div class="alertdangerQueBlk" *ngIf="(showErrorAudio != '' || showErrorAudio != undefined) && checkIndex == i && item.data_format_value == ''">{{showErrorAudio}}</div> -->
                                </div>
                                <!-- video -->
                                <div *ngIf="item.item_df_id== 11" class="col-md-12">
                                    <div class="audioBlock"  *ngIf=" item.data_format_value=='' || item.data_format_value== 'Video Path'" [ngClass]="{'button_width':showErrorVideo!='' && showErrorVideo != undefined}">
                                      <p class="AVIcon"><i class="fa fa-play playMargin" aria-hidden="true"></i></p>
                                      <div class="fileUploadQueBlock btn btn-primary">
                                        <span>Browse Video</span>
                                        <input type="file" (change)="fileChangeVideo($event,i)" placeholder="Upload file" accept=".mp4,.avi" name="file" class="upload">
                                        <i class="fa fa-circle-o-notch fa-spin spinAV" *ngIf="spinVideoQB"></i>
                                    </div>
                                    </div><br>
                                    <!-- <p *ngIf="videoTag && item.value != undefined" class="uploadNameQueBlk">{{item.file_name}}</p> -->
                                    <video width="400" height = "200" controls controlsList="nodownload" *ngIf="item.data_format_value != ''  && item.data_format_value != 'Video Path'" class="audio-margin">
                                    <source src="{{item.data_format_value}}" type="video/mp4">
                                    </video>
                                    <span *ngIf=" item.data_format_value != '' && item.data_format_value != 'Video Path'" class="deleteVideoElement"  (click)="deleteImageQueBlk(i)"><i class="fa fa-times"></i></span>

                                    <!-- <div class="alertdangerQueBlk" *ngIf="(showErrorVideo != '' || showErrorVideo != undefined) && checkIndexAns1 == i && item.data_format_value == ''">{{showErrorVideo}}</div> -->
                                </div>
                                  <!-- list -->
                                <div *ngIf="item.item_df_id== 8" style="width:100%;padding:10px;">
                                  <div [dragula]='"bag-one"'  [dragulaModel]='item.data_format_value'>
                                    <div *ngFor="let lists of item.data_format_value;let listIndex = index" class="col-md-12 listrow" [dragula]='"bag-one"'  [dragulaModel]='lists.list_elements'>

                                        <div *ngFor="let listArray of lists.list_elements;let listArrayIndex = index" class="listrow ">
                                          <div class="row">
                                            <div class="col-md-2">
                                                <div class="btn-group" dropdown  *ngIf="listIndex == 0 && 0 == listArrayIndex;else staticContent">
                                                    <button id="button-basic" dropdownToggle type="button" class=" dropdown-toggle btn btn-default listBtn"
                                                            aria-controls="dropdown-basic" (click)="listDropdown == true ? false : true">
                                                      <span [ngClass]="{'listSymbols':listArray.list_label=='.','listStar':listArray.list_label=='*'}">{{listArray.list_label}}</span> &nbsp;<fa class="listdropIcon" [name]="'sort-down'" [size]=1 ></fa>
                                                    </button>
                                                    <ul id="dropdown-basic"  class="dropdown-menu listdropdown-menu" *ngIf="listDropdown"
                                                        role="menu" aria-labelledby="button-basic">
                                                      <li role="menuitem"><a class="dropdown-item listdropdown-item" (click)="getListLabel(i,listIndex,'A')">A</a></li>
                                                      <li role="menuitem"><a class="dropdown-item" (click)="getListLabel(i,listIndex,'a')">a</a></li>
                                                      <li role="menuitem"><a class="dropdown-item" (click)="getListLabel(i,listIndex,'1')">1</a></li>
                                                      <li role="menuitem"><a class="dropdown-item" (click)="getListLabel(i,listIndex,'I')">I</a></li>
                                                      <li role="menuitem"><a class="dropdown-item" style="font-size: 20px;" (click)="getListLabel(i,listIndex,'*')">*</a></li>
                                                      <li role="menuitem"><a class="dropdown-item dropdownIcons" (click)="getListLabel(i,listIndex,'.')"><fa [name]="'circle'" [size]=1 style="color:black !important"></fa></a></li>


                                                    </ul>
                                                </div>
                                                <ng-template #staticContent >
                                                    <button id="button-basic"  type="button" class=" btn btn-default listBtn2"
                                                      (click)="listDropdown == true ? false : true" *ngIf="listIndex > 0 && 0 == listArrayIndex;">
                                                      <span [ngClass]="{'listSymbols':listArray.list_label=='.','listStar':listArray.list_label=='*'}">{{listArray.list_label}}</span>
                                                    </button>
                                                </ng-template>

                                            </div>
                                            <div class="col-md-7">
                                              <div *ngIf="listArray.list_data_format_id == 1" class="listRowDisplay">
                                              <input type="text" autocomplete="off" class="form-control listStmt"  [(ngModel)]= "listArray.list_value"  maxlength="75" placeholder="Enter Text or Insert Element"  [ngClass]="{'alertstmt':listRowErr == listIndex && listArrayErr == listArrayIndex && !pattern1.test(listArray.list_value)}">
                                              <fa class="delete_choiceslist" [name]="'times'" [size]=1 *ngIf="lists.list_elements.length >1" (click)="deleteListChoices(i,listIndex,listArrayIndex)"></fa>
                                              </div>
                                              <!-- image -->
                                              <div *ngIf="listArray.list_data_format_id == 6" class="listRowDisplay listImg">
                                                <fancy-image-uploader  [options]="imageoptionsList" *ngIf="listArray.list_value == ''" (onUpload)="onImageUploadList($event,i,listIndex,listArrayIndex)" style="margin-bottom: 0px;margin-left: 26%;margin-right: 22%;" class="imageUploaderCss"  [ngClass]="{'alertstmt':listRowErr == listIndex && listArrayErr == listArrayIndex && !pattern1.test(listArray.list_value)}"></fancy-image-uploader>
                                                <img src="{{listArray.list_value}}"  class="editImageList" *ngIf="listArray.list_value!=''" style="margin-right: 18%;">
                                                <span *ngIf="listArray.list_value!=''" class="deleteImageList"  (click)="deleteImageList(i,listIndex,listArrayIndex)"><i class="fa fa-times"></i></span>
                                                <fa class="delete_choiceslist" [name]="'times'" [size]=1 *ngIf="lists.list_elements.length >1" (click)="deleteListChoices(i,listIndex,listArrayIndex)"></fa>
                                              </div>
                                                <!-- audio -->
                                              <div *ngIf="listArray.list_data_format_id == 10 " class="AVMargin listRowDisplay">
                                                <div class="audioBlockList" [ngClass]="{'button_width':showErrorAudio!='' && showErrorAudio != undefined,'alertstmt':listRowErr == listIndex && listArrayErr == listArrayIndex && !pattern1.test(listArray.list_value)}" *ngIf=" listArray.list_value == ''">
                                                  <p class="AVIconList"><i class="fa fa-volume-off" aria-hidden="true"></i></p>
                                                  <div class="fileUploadQueBlock btn btn-primary" >
                                                      <span>Browse Audio</span>
                                                    <input type="file" (change)="UploadAudioList($event,i,listIndex,listArrayIndex)" placeholder="Upload file" accept=".mp3" name="file" class="upload">
                                                    <i class="fa fa-circle-o-notch fa-spin spinAV" *ngIf="spinAudioQBList"></i>
                                                  </div>

                                                </div>
                                                <!-- <p *ngIf="audioTag && item.value != undefined" class="uploadNameQueBlk">{{item.file_name}}</p> -->
                                                <audio width="400" height = "200" controls controlsList="nodownload" *ngIf=" listArray.list_value != ''" style="margin-right: 10px;width:100%;">
                                                  <source src="{{listArray.list_value}}" type="audio/mp3">
                                                </audio>
                                                <!-- <span *ngIf="lists.listTypeArray.length >1" class="deleteAudioElement"  (click)="deleteImageList(i,listIndex,listArrayIndex)"><i class="fa fa-times"></i></span> -->
                                                <fa class="delete_choiceslist" [name]="'times'" [size]=1 *ngIf="lists.list_elements.length >1" (click)="deleteListChoices(i,listIndex,listArrayIndex)"></fa>
                                                  <!-- <div class="alertdangerQueBlk" *ngIf="(showErrorAudio != '' || showErrorAudio != undefined) && checkIndex == i && item.data_format_value == ''">{{showErrorAudio}}</div> -->
                                              </div>
                                              <!-- video -->
                                              <div *ngIf="listArray.list_data_format_id == 11"  class="AVMargin listRowDisplay">
                                                  <div class="audioBlockList" *ngIf="listArray.list_value==''" [ngClass]="{'button_width':showErrorVideo!='' && showErrorVideo != undefined,'alertstmt':listRowErr == listIndex && listArrayErr == listArrayIndex && !pattern1.test(listArray.list_value)}" >
                                                    <p class="AVIconList"><i class="fa fa-play playMargin" aria-hidden="true"></i></p>
                                                  <div class="fileUploadQueBlock btn btn-primary">
                                                      <span>Browse Video</span>
                                                      <input type="file" (change)="uploadVideoList($event,i,listIndex,listArrayIndex)" placeholder="Upload file" accept=".mp4,.avi" name="file" class="upload">
                                                      <i class="fa fa-circle-o-notch fa-spin spinAV" *ngIf="spinVideoQBList"></i>
                                                  </div>
                                                  </div><br>
                                                  <!-- <p *ngIf="videoTag && item.value != undefined" class="uploadNameQueBlk">{{item.file_name}}</p> -->
                                                  <video width="400" height = "200" controls controlsList="nodownload" *ngIf="listArray.list_value != ''"  width="97%" style="margin-right: 10px;">
                                                  <source src="{{listArray.list_value}}" type="video/mp4">

                                                  </video>
                                                  <!-- <span *ngIf="lists.listTypeArray.length >1" class="deleteVideoElementlIST"  (click)="deleteImageList(i,listIndex,listArrayIndex)"><i class="fa fa-times"></i></span> -->
                                                  <fa class="delete_choiceslist" [name]="'times'" [size]=1 *ngIf="lists.list_elements.length >1" (click)="deleteListChoices(i,listIndex,listArrayIndex)"></fa>
                                                  <!-- <div class="alertdangerQueBlk" *ngIf="(showErrorVideo != '' || showErrorVideo != undefined) && checkIndexAns1 == i && item.data_format_value == ''">{{showErrorVideo}}</div> -->
                                              </div>
                                            </div>
                                            <div class="col-md-3" *ngIf="0 == listArrayIndex">
                                                <button *ngIf="item.data_format_value.length <= 4" type="button" (click)="addList(i,listIndex)" class="answer_option_add">+</button>
                                                <button *ngIf="item.data_format_value.length > 1" type="button" (click)="deleteList(i,listIndex)" class="answer_option_add">-</button>
                                            </div>
                                          </div>
                                        </div>

                                    </div>
                                  </div>
                                </div>
                                <!-- Table -->
                                <div *ngIf="item.item_df_id== 7" style="width: 100%;" class="col-md-12">
                                  <div class="row">
                                    <div [ngClass]="{'col-md-11':item.table_format != 5,'col-md-5':item.table_format == 5,'smallTblMargin':item.table_format == 5}" class="tableOVerallDiv">
                                      <table class="table ElttblMargin" (mouseleave)="hideTableBtn()" [ngClass]="{'table-striped' :item.table_format == 3,'table-bordered' : (item.table_format == 2 || item.table_format == 4 || item.table_format == 5)}" >

                                        <tbody>
                                            <tr *ngFor="let row of item.data_format_value;let j=index" >
                                                <td *ngFor="let col of row;let showBtn = index" [hidden]="j!=0"  [ngClass]="{'hideTblBtns' : (HoveredColIndex != showBtn || hideTblColBtn != i) || (showBtn ==0 && col.header==1 && item.available_headers != 'column')}" style="border: 0 !important;background:#fff">
                                                  <p class="columnAddBtn"><span (click)="addTableColumn(i,showBtn)"><i class="fa fa-plus-square"></i></span><span style="float:right" (click)="DeleteTableColumn(i,showBtn)" *ngIf="row.length>2"><i class="fa fa-minus-square"></i></span></p>
                                                </td>
                                            </tr>
                                          <tr *ngFor="let row of item.data_format_value;let rowindex =index">

                                            <td *ngFor="let col of row;let colIndex = index" [ngStyle]="{'border-color':item.table_color}" (mouseenter)="ShowTableBtn(colIndex,rowindex,i)" [ngClass]="{'tableHeadType':(item.available_headers =='column' || item.available_headers =='all') && col.header == 1 && (item.table_format == 2  || item.table_format == 5),'tableDataErr':tblColumnDataErr == colIndex && !pattern1.test(col.table_value)}"><input type="text" autocomplete="off" class="form-control tblField tableAlign" [(ngModel)]="col.table_value" [disabled]="col.table_value =='#'" [placeholder]="col.header==1?'Enter Header':'Enter Data'" [ngClass]="{'tableHeadType':(item.available_headers =='column' || item.available_headers =='all') && col.header == 1 && (item.table_format == 2 || item.table_format == 5),'tableHeadHighlight': col.header == 1}"></td>
                                          </tr>

                                        </tbody>
                                      </table>
                                    </div>
                                    <div class="col-md-1 btnSplitDiv">
                                      <div class="TblBtnsDiv" *ngFor="let row of item.data_format_value;let btnindex=index" [ngClass]="{'hideTblBtns': item.available_headers == 'column' && btnindex == 0 || (item.available_headers == 'all' && btnindex == 0)}">
                                          <button  type="button" (click)="addTableRow(i,btnindex)" class="TblBtns" >+</button>
                                          <button  type="button" (click)="deleteTableRow(i,btnindex)" class="TblBtns" *ngIf="item.data_format_value.length > 2" >-</button>
                                      </div>
                                    </div>
                                  </div>

                                </div>
                              </div>

                            </div>
                    </div>
                </fieldset>
              </split-area>
              <split-area size="100" style="overflow-y:hidden !important;z-index:1 !important">
                <fieldset >
                    <legend>Answer Block</legend>
                    <div class="">
                      <div class="">
                        <form class="form-inline" style="margin-bottom: 15px;float:right">
                          <div class="form-group" >
                            <label for="score" [ngClass]="{disable1 : showGradedScore != true}" class="textClr">Score</label> &nbsp;
                            <input type="text" autocomplete="off" name="" class="score form-control" [(ngModel)]="score" [ngModelOptions]="{standalone: true}" maxlength="5" [disabled]="!showGradedScore" style="text-align:center;" (keypress)="onlyNumberKey($event)" [ngClass]="{'alertstmt' : scoreIndex == 1}">
                            <!-- <ui-switch size="small" (change)="onChangeToggle($event)" [checked]="enableToggle" color="white" switchColor="#00aed9"></ui-switch> &nbsp;<span class="textClr">Graded Score (In %, Eg-20,45.25)</span> -->
                            <label class="switch">
                              <input type="checkbox" [checked]="enableToggle" (change)="onChangeToggle(enableToggle)">
                              <span class="slider"></span>
                            </label> &nbsp;<span class="textClr">Graded Score   ( Eg : 20 , 45.25)</span>
                            <span tooltip="Equations" placement="top" (click)="openEquationAB == false ? openEquationAB = true:openEquationAB = false" class="ansBlkEqSymbol"><b>∑</b></span>
                          </div>
                        </form>
                      </div>

                      <div class="answer_block_container_freetext">
                        <div *ngFor='let input of attributes?.answer_choices; let i = index;' class="answer">
                            <div class="answer_block_freetext col-md-12">
                              <div class="answer_input_freetext row">
                                  <input name="input.data_format_value" class="form-control col-md-5" id="key{{i}}" maxlength="150" [(ngModel)]="input.answer_data" maxlength="75" placeholder="Enter Answer Keyword" [ngClass]="{'alertstmt' : ansIndex == i && !pattern1.test(input.answer_data)}" style="height: 28px !important;">&nbsp;<span *ngIf="i <=1" class="freeTextAnsCond col-md-3">Mandatory *</span><span *ngIf="i >1" class="freeTextAnsCond2 col-md-3">Optional</span>

                                  <input type="text" autocomplete="off" name="" class="score" [(ngModel)]="input.score" [ngModelOptions]="{standalone: true}" maxlength="5" [hidden]="showGradedScore" style="text-align:center;" (keypress)="onlyNumberKey($event)" [ngClass]="{'alertstmt' : freeTextGradedScoreErr == i && (input.score == 0 || !scorepattern.test(input.score))}"><span [hidden]="showGradedScore" class="gradedPercent">%</span>
                              </div>
                            </div>
                        </div>
                        <p class="freeTxtAddBtn col-md-5" ><span (click)="AddFreeTextKey()" *ngIf="attributes?.answer_choices.length <10"><i class="fa fa-plus-square"></i></span><span (click)="DeleteFreeTextKey()" *ngIf="attributes?.answer_choices.length >3"><i class="fa fa-minus-square"></i></span></p>
                      </div>

                    </div>

                </fieldset>
              </split-area>
            </split>
        </div>
      </div>

       <!--file upload  -->
       <div *ngIf="fileUploadBlk">
        <div style="width: 100%; height: 800px;">
            <split direction="vertical">
              <split-area size="70">
                <fieldset style="min-height:500% !important;max-height:500%;">
                    <legend>Item Block</legend>
                    <div class="multiAnsmcq" droppable (onDrop)="onItemDrop($event)">
                      <p class="placeHolder"  *ngIf="attributes?.item.length <=1">Drag and Drop additional elements if required</p>

                            <div class='container1' [dragula]='"bag-one"'  [dragulaModel]='attributes?.item'>

                              <div  class="list-group-item stmtElement listPadd" *ngFor="let item of attributes?.item; let i=index" [ngClass]="{'alertstmt' : errIndex == i && (!pattern1.test(item.data_format_value) || item.data_format_value == null)}">
                                <div class="drag">
                                    <!-- <input  type="text" autocomplete="off" value="{{item.data_format_value}}" class="form-control element" [(ngModel)]="item.data_format_value" *ngIf="item.item_df_id== 1" placeholder="Enter Statements Here"> -->
                                    <!-- <textarea class="form-control directiveArea element" rows="2" cols="5" value="{{item.data_format_value}}" [(ngModel)]="item.data_format_value" *ngIf="item.item_df_id== 1" placeholder="Enter Statements Here" maxlength="200"></textarea> -->
                                    <quill-editor [(ngModel)]="item.data_format_value" *ngIf="item.item_df_id== 1" (keydown)="removeSpcQue($event, item.data_format_value,i)" #desc1QE id="description1-qe-item{{i}}" [style]="{'height': '100px'}"
                                    [options]="editorOptions"
                                  ></quill-editor>
                                    <div class="custom-btn">
                                      <div (click)="displayRightIcon(i)" [hidden]="!showIcon" class="rightIcon" [ngClass]="{'setting_right_icon' : activeIcon === i}">
                                        <fa [name]="'caret-left'" [size]="1" ></fa>
                                      </div>
                                      <div (click)="displayLeftIcon()" class="setting_right_icon" [ngClass]="{'showSettingIcon' : activeIcon === i}">
                                          <span tooltip="Equations" placement="top" (click)="openEquation == false ? openEquation = true:openEquation = false"><b>∑</b></span> &nbsp;
                                        <fa [name]="'files-o'" (click)="copyElement(i,item)" ></fa> &nbsp;
                                        <fa [name]="'trash'" (click)="removeElement(i)" [ngClass]=" {deleteIcon: (item.item_df_sequence== 1 && item.item_df_id ==  1)}"></fa>&nbsp;
                                        <fa [name]="'caret-right'" [size]="1"  class="rightIcon"></fa>
                                      </div>
                                  </div>
                                </div>
                                <!-- image   -->
                                <div  *ngIf="item.item_df_id== 6">
                                  <div class="drag" >
                                    <!-- <input type="file"> -->

                                    <fancy-image-uploader *ngIf="item.data_format_value =='' || item.data_format_value =='Image_Path'" [options]="options" (onUpload)="onImageUpload($event,i)" style="margin-left: 215px;margin-top: 6px;margin-bottom: 6px;" class="imageUploaderCss"></fancy-image-uploader>
                                      <img [src]="item.data_format_value"  class="editImage" *ngIf="item.data_format_value!=''  && item.data_format_value !='Image_Path'">
                                      <span *ngIf="item.data_format_value!=''  && item.data_format_value !='Image_Path'" class="deleteImage"  (click)="deleteImageQueBlk(i)"><i class="fa fa-times"></i></span>
                                  </div>
                                </div>
                                <!-- audio -->
                                <div *ngIf="item.item_df_id== 10" class="col-md-12">
                                  <div class="audioBlock"  *ngIf=" item.data_format_value== '' || item.data_format_value== 'Audio Path'" [ngClass]="{'button_width':showErrorAudio!='' && showErrorAudio != undefined}">
                                      <p class="AVIcon"><i class="fa fa-volume-off" aria-hidden="true"></i></p>
                                    <div class="fileUploadQueBlock btn btn-primary" >
                                        <span>Browse Audio</span>
                                      <input type="file" (change)="fileChange($event,i)" placeholder="Upload file" accept=".mp3" name="file" class="upload">
                                      <i class="fa fa-circle-o-notch fa-spin spinAV" *ngIf="spinAudioQB"></i>
                                    </div>
                                  </div><br>
                                  <!-- <p *ngIf="audioTag && item.value != undefined" class="uploadNameQueBlk">{{item.file_name}}</p> -->
                                  <audio width="400" height = "200" controls controlsList="nodownload" *ngIf=" item.data_format_value != '' && item.data_format_value != 'Audio Path'"  class="audio-margin">
                                    <source [src]="item.data_format_value" type="audio/mp3">
                                  </audio>
                                  <span *ngIf=" item.data_format_value != '' && item.data_format_value != 'Audio Path'" class="deleteAudioElement"  (click)="deleteImageQueBlk(i)"><i class="fa fa-times"></i></span>

                                    <!-- <div class="alertdangerQueBlk" *ngIf="(showErrorAudio != '' || showErrorAudio != undefined) && checkIndex == i && item.data_format_value == ''">{{showErrorAudio}}</div> -->
                                </div>
                                <!-- video -->
                                <div *ngIf="item.item_df_id== 11" class="col-md-12">
                                    <div class="audioBlock"  *ngIf=" item.data_format_value=='' || item.data_format_value== 'Video Path'" [ngClass]="{'button_width':showErrorVideo!='' && showErrorVideo != undefined}">
                                      <p class="AVIcon"><i class="fa fa-play playMargin" aria-hidden="true"></i></p>
                                      <div class="fileUploadQueBlock btn btn-primary">
                                        <span>Browse Video</span>
                                        <input type="file" (change)="fileChangeVideo($event,i)" placeholder="Upload file" accept=".mp4,.avi" name="file" class="upload">
                                        <i class="fa fa-circle-o-notch fa-spin spinAV" *ngIf="spinVideoQB"></i>
                                    </div>
                                    </div><br>
                                    <!-- <p *ngIf="videoTag && item.value != undefined" class="uploadNameQueBlk">{{item.file_name}}</p> -->
                                    <video width="400" height = "200" controls controlsList="nodownload" *ngIf="item.data_format_value != ''  && item.data_format_value != 'Video Path'" class="audio-margin">
                                    <source [src]="item.data_format_value" type="video/mp4">
                                    </video>
                                    <span *ngIf=" item.data_format_value != '' && item.data_format_value != 'Video Path'" class="deleteVideoElement"  (click)="deleteImageQueBlk(i)"><i class="fa fa-times"></i></span>

                                    <!-- <div class="alertdangerQueBlk" *ngIf="(showErrorVideo != '' || showErrorVideo != undefined) && checkIndexAns1 == i && item.data_format_value == ''">{{showErrorVideo}}</div> -->
                                </div>
                                  <!-- list -->
                                <div *ngIf="item.item_df_id== 8" style="width:100%;padding:10px;">
                                  <div [dragula]='"bag-one"'  [dragulaModel]='item.data_format_value'>
                                    <div *ngFor="let lists of item.data_format_value;let listIndex = index" class="col-md-12 listrow" [dragula]='"bag-one"'  [dragulaModel]='lists.list_elements'>

                                        <div *ngFor="let listArray of lists.list_elements;let listArrayIndex = index" class="listrow ">
                                          <div class="row">
                                            <div class="col-md-2">
                                                <div class="btn-group" dropdown  *ngIf="listIndex == 0 && 0 == listArrayIndex;else staticContent">
                                                    <button id="button-basic" dropdownToggle type="button" class=" dropdown-toggle btn btn-default listBtn"
                                                            aria-controls="dropdown-basic" (click)="listDropdown == true ? false : true">
                                                      <span [ngClass]="{'listSymbols':listArray.list_label=='.','listStar':listArray.list_label=='*'}">{{listArray.list_label}}</span> &nbsp;<fa class="listdropIcon" [name]="'sort-down'" [size]=1 ></fa>
                                                    </button>
                                                    <ul id="dropdown-basic"  class="dropdown-menu listdropdown-menu" *ngIf="listDropdown"
                                                        role="menu" aria-labelledby="button-basic">
                                                      <li role="menuitem"><a class="dropdown-item listdropdown-item" (click)="getListLabel(i,listIndex,'A')">A</a></li>
                                                      <li role="menuitem"><a class="dropdown-item" (click)="getListLabel(i,listIndex,'a')">a</a></li>
                                                      <li role="menuitem"><a class="dropdown-item" (click)="getListLabel(i,listIndex,'1')">1</a></li>
                                                      <li role="menuitem"><a class="dropdown-item" (click)="getListLabel(i,listIndex,'I')">I</a></li>
                                                      <li role="menuitem"><a class="dropdown-item" style="font-size: 20px;" (click)="getListLabel(i,listIndex,'*')">*</a></li>
                                                      <li role="menuitem"><a class="dropdown-item dropdownIcons" (click)="getListLabel(i,listIndex,'.')"><fa [name]="'circle'" [size]=1 style="color:black !important"></fa></a></li>


                                                    </ul>
                                                </div>
                                                <ng-template #staticContent >
                                                    <button id="button-basic"  type="button" class=" btn btn-default listBtn2"
                                                      (click)="listDropdown == true ? false : true" *ngIf="listIndex > 0 && 0 == listArrayIndex;">
                                                      <span [ngClass]="{'listSymbols':listArray.list_label=='.','listStar':listArray.list_label=='*'}">{{listArray.list_label}}</span>
                                                    </button>
                                                </ng-template>

                                            </div>
                                            <div class="col-md-7">
                                              <div *ngIf="listArray.list_data_format_id == 1" class="listRowDisplay">
                                              <input type="text" autocomplete="off" class="form-control listStmt"  [(ngModel)]= "listArray.list_value"  maxlength="75" placeholder="Enter Text or Insert Element"  [ngClass]="{'alertstmt':listRowErr == listIndex && listArrayErr == listArrayIndex && !pattern1.test(listArray.list_value)}">
                                              <fa class="delete_choiceslist" [name]="'times'" [size]=1 *ngIf="lists.list_elements.length >1" (click)="deleteListChoices(i,listIndex,listArrayIndex)"></fa>
                                              </div>
                                              <!-- image -->
                                              <div *ngIf="listArray.list_data_format_id == 6" class="listRowDisplay listImg">
                                                <fancy-image-uploader  [options]="imageoptionsList" *ngIf="listArray.list_value == ''" (onUpload)="onImageUploadList($event,i,listIndex,listArrayIndex)" style="margin-bottom: 0px;margin-left: 26%;margin-right: 22%;" class="imageUploaderCss"  [ngClass]="{'alertstmt':listRowErr == listIndex && listArrayErr == listArrayIndex && !pattern1.test(listArray.list_value)}"></fancy-image-uploader>
                                                <img src="{{listArray.list_value}}"  class="editImageList" *ngIf="listArray.list_value!=''" style="margin-right: 18%;">
                                                <span *ngIf="listArray.list_value!=''" class="deleteImageList"  (click)="deleteImageList(i,listIndex,listArrayIndex)"><i class="fa fa-times"></i></span>
                                                <fa class="delete_choiceslist" [name]="'times'" [size]=1 *ngIf="lists.list_elements.length >1" (click)="deleteListChoices(i,listIndex,listArrayIndex)"></fa>
                                              </div>
                                                <!-- audio -->
                                              <div *ngIf="listArray.list_data_format_id == 10 " class="AVMargin listRowDisplay">
                                                <div class="audioBlockList" [ngClass]="{'button_width':showErrorAudio!='' && showErrorAudio != undefined,'alertstmt':listRowErr == listIndex && listArrayErr == listArrayIndex && !pattern1.test(listArray.list_value)}" *ngIf=" listArray.list_value == ''">
                                                  <p class="AVIconList"><i class="fa fa-volume-off" aria-hidden="true"></i></p>
                                                  <div class="fileUploadQueBlock btn btn-primary" >
                                                      <span>Browse Audio</span>
                                                    <input type="file" (change)="UploadAudioList($event,i,listIndex,listArrayIndex)" placeholder="Upload file" accept=".mp3" name="file" class="upload">
                                                    <i class="fa fa-circle-o-notch fa-spin spinAV" *ngIf="spinAudioQBList"></i>
                                                  </div>

                                                </div>
                                                <!-- <p *ngIf="audioTag && item.value != undefined" class="uploadNameQueBlk">{{item.file_name}}</p> -->
                                                <audio width="400" height = "200" controls controlsList="nodownload" *ngIf=" listArray.list_value != ''" style="margin-right: 10px;width:100%;">
                                                  <source src="{{listArray.list_value}}" type="audio/mp3">
                                                </audio>
                                                <!-- <span *ngIf="lists.listTypeArray.length >1" class="deleteAudioElement"  (click)="deleteImageList(i,listIndex,listArrayIndex)"><i class="fa fa-times"></i></span> -->
                                                <fa class="delete_choiceslist" [name]="'times'" [size]=1 *ngIf="lists.list_elements.length >1" (click)="deleteListChoices(i,listIndex,listArrayIndex)"></fa>
                                                  <!-- <div class="alertdangerQueBlk" *ngIf="(showErrorAudio != '' || showErrorAudio != undefined) && checkIndex == i && item.data_format_value == ''">{{showErrorAudio}}</div> -->
                                              </div>
                                              <!-- video -->
                                              <div *ngIf="listArray.list_data_format_id == 11"  class="AVMargin listRowDisplay">
                                                  <div class="audioBlockList" *ngIf="listArray.list_value==''" [ngClass]="{'button_width':showErrorVideo!='' && showErrorVideo != undefined,'alertstmt':listRowErr == listIndex && listArrayErr == listArrayIndex && !pattern1.test(listArray.list_value)}" >
                                                    <p class="AVIconList"><i class="fa fa-play playMargin" aria-hidden="true"></i></p>
                                                  <div class="fileUploadQueBlock btn btn-primary">
                                                      <span>Browse Video</span>
                                                      <input type="file" (change)="uploadVideoList($event,i,listIndex,listArrayIndex)" placeholder="Upload file" accept=".mp4,.avi" name="file" class="upload">
                                                      <i class="fa fa-circle-o-notch fa-spin spinAV" *ngIf="spinVideoQBList"></i>
                                                  </div>
                                                  </div><br>
                                                  <!-- <p *ngIf="videoTag && item.value != undefined" class="uploadNameQueBlk">{{item.file_name}}</p> -->
                                                  <video width="400" height = "200" controls controlsList="nodownload" *ngIf="listArray.list_value != ''"  width="97%" style="margin-right: 10px;">
                                                  <source src="{{listArray.list_value}}" type="video/mp4">

                                                  </video>
                                                  <!-- <span *ngIf="lists.listTypeArray.length >1" class="deleteVideoElementlIST"  (click)="deleteImageList(i,listIndex,listArrayIndex)"><i class="fa fa-times"></i></span> -->
                                                  <fa class="delete_choiceslist" [name]="'times'" [size]=1 *ngIf="lists.list_elements.length >1" (click)="deleteListChoices(i,listIndex,listArrayIndex)"></fa>
                                                  <!-- <div class="alertdangerQueBlk" *ngIf="(showErrorVideo != '' || showErrorVideo != undefined) && checkIndexAns1 == i && item.data_format_value == ''">{{showErrorVideo}}</div> -->
                                              </div>
                                            </div>
                                            <div class="col-md-3" *ngIf="0 == listArrayIndex">
                                                <button *ngIf="item.data_format_value.length <= 4" type="button" (click)="addList(i,listIndex)" class="answer_option_add">+</button>
                                                <button *ngIf="item.data_format_value.length > 1" type="button" (click)="deleteList(i,listIndex)" class="answer_option_add">-</button>
                                            </div>
                                          </div>
                                        </div>

                                    </div>
                                  </div>
                                </div>
                                <!-- Table -->
                                <div *ngIf="item.item_df_id== 7" style="width: 100%;" class="col-md-12">
                                  <div class="row">
                                    <div [ngClass]="{'col-md-11':item.table_format != 5,'col-md-5':item.table_format == 5,'smallTblMargin':item.table_format == 5}" class="tableOVerallDiv">
                                      <table class="table ElttblMargin" (mouseleave)="hideTableBtn()" [ngClass]="{'table-striped' :item.table_format == 3,'table-bordered' : (item.table_format == 2 || item.table_format == 4 || item.table_format == 5)}" >

                                        <tbody>
                                            <tr *ngFor="let row of item.data_format_value;let j=index" >
                                                <td *ngFor="let col of row;let showBtn = index" [hidden]="j!=0"  [ngClass]="{'hideTblBtns' : (HoveredColIndex != showBtn || hideTblColBtn != i) || (showBtn ==0 && col.header==1 && item.available_headers != 'column')}" style="border: 0 !important;background:#fff">
                                                  <p class="columnAddBtn"><span (click)="addTableColumn(i,showBtn)"><i class="fa fa-plus-square"></i></span><span style="float:right" (click)="DeleteTableColumn(i,showBtn)" *ngIf="row.length>2"><i class="fa fa-minus-square"></i></span></p>
                                                </td>
                                            </tr>
                                          <tr *ngFor="let row of item.data_format_value;let rowindex =index">

                                            <td *ngFor="let col of row;let colIndex = index" [ngStyle]="{'border-color':item.table_color}" (mouseenter)="ShowTableBtn(colIndex,rowindex,i)" [ngClass]="{'tableHeadType':(item.available_headers =='column' || item.available_headers =='all') && col.header == 1 && (item.table_format == 2  || item.table_format == 5),'tableDataErr':tblColumnDataErr == colIndex && !pattern1.test(col.table_value)}"><input type="text" autocomplete="off" class="form-control tblField tableAlign" [(ngModel)]="col.table_value" [disabled]="col.table_value =='#'" [placeholder]="col.header==1?'Enter Header':'Enter Data'" [ngClass]="{'tableHeadType':(item.available_headers =='column' || item.available_headers =='all') && col.header == 1 && (item.table_format == 2 || item.table_format == 5),'tableHeadHighlight': col.header == 1}"></td>
                                          </tr>

                                        </tbody>
                                      </table>
                                    </div>
                                    <div class="col-md-1 btnSplitDiv">
                                      <div class="TblBtnsDiv" *ngFor="let row of item.data_format_value;let btnindex=index" [ngClass]="{'hideTblBtns': item.available_headers == 'column' && btnindex == 0 || (item.available_headers == 'all' && btnindex == 0)}">
                                          <button  type="button" (click)="addTableRow(i,btnindex)" class="TblBtns" >+</button>
                                          <button  type="button" (click)="deleteTableRow(i,btnindex)" class="TblBtns" *ngIf="item.data_format_value.length > 2" >-</button>
                                      </div>
                                    </div>
                                  </div>

                                </div>
                              </div>

                            </div>
                    </div>
                </fieldset>
              </split-area>
              <split-area size="100" style="overflow-y:hidden !important;z-index:1 !important">
                <fieldset style="min-height: 95%;">
                    <legend>Answer Block</legend>
                    <div class="">
                      <div class="fileUploadAnsBlkScore">
                        <form class="form-inline">
                            <div class="form-group">
                              <label for="score" class="textClr">Score</label> &nbsp; &nbsp;
                              <input type="text" autocomplete="off" name="" class="scoreTF form-control" [(ngModel)]="score" [ngModelOptions]="{standalone: true}" maxlength="5" style="text-align:center;" (keypress)="onlyNumberKey($event)" [ngClass]="{'alertstmt' : scoreIndex == 1}">&nbsp;&nbsp;
                              <label class="switch">
                                <input type="checkbox" [checked]="enableToggle" (change)="onChangeToggle(enableToggle)">
                                <span class="slider"></span>
                              </label> &nbsp;<span class="textClr">Graded Score ( Eg : 20 , 45.25)</span>
                              <!-- <span tooltip="Equations" placement="top" (click)="openEquationAB == false ? openEquationAB = true:openEquationAB = false" class="ansBlkEqSymbol"><b>∑</b></span> -->
                            </div>
                        </form>
                      </div>
                      <div class="clearfix"></div>
                      <div class="" style="margin-top: 8%;width: 900px;">
                        <div >
                          <div *ngFor='let input of attributes?.answer_choices; let i = index;'  class="row" style="padding: 5px;">
                              <p class="uploadNumberCount">{{i+1}}.</p>
                            <div class="desTxtbox">
                              <textarea name="input.description" id="desc{{i}}" class="form-control" maxlength="200" rows="3" [(ngModel)]="input.description"  placeholder="Enter description" [ngClass]="{'alertstmt' : ansIndex == i && !pattern1.test(input.description)}"></textarea>
                            </div>
                            <div class="multiselectbox">
                              <angular2-multiselect style="font-size:12px" [data]="FileFormatList"  (ngModelChange)="getFileFormat($event,i)"
                              [(ngModel)]="input.fileFormatLits" [ngModelOptions]="{standalone: true}"
                                  [settings]="fileTypesettings1" id="format{{i}}" #format="ngModel" required [selected]="input.fileFormatLits == FileFormatList">

                              </angular2-multiselect>
                              <p class="file_Upload" *ngIf="fileFormatErr == true && listRowErr == i" style="font-size: 11px;">All fields marked '*' are mandatory. Please complete to proceed.</p>
                            </div>
                            <div class="multiselectbox">
                              <angular2-multiselect style="font-size:12px" [data]="input.fileTypeList"
                              [(ngModel)]="input.data_format_type" [ngModelOptions]="{standalone: true}"
                                  [settings]="fileTypesettings2" id="type{{i}}" #type="ngModel" required [selected]="input.data_format_type == input.fileTypeList">

                              </angular2-multiselect>
                              <p class="file_Upload" *ngIf="fileTypeErr == true && listRowErr == i" style="font-size: 11px;">All fields marked '*' are mandatory. Please complete to proceed.</p>
                            </div>
                            <div class="lineHeight">
                              <button *ngIf="attributes?.answer_choices.length >= 1 && attributes?.answer_choices.length < 5" type="button" (click)="addfileUploadOption(i)" class="answer_option_add">+</button>
                              <button *ngIf="attributes?.answer_choices.length > 2" type="button" (click)="deletefileUploadOption(i)" class="answer_option_add">-</button>
                              <input type="text" autocomplete="off" name="" class="score" [ngClass]="{'alertstmt' : freeTextGradedScoreErr == i && !scorepattern.test(input.score)}" [(ngModel)]="input.score" [ngModelOptions]="{standalone: true}" maxlength="5" [hidden]="showGradedScore" style="text-align:center;" (keypress)="onlyNumberKey($event)"><span [hidden]="showGradedScore" class="gradedPercentUpload">%</span>
                            </div>

                          </div>
                        </div>
                      </div>

                    </div>

                </fieldset>
              </split-area>
            </split>
        </div>
      </div>



      <!-- view Directive based Item -->
      <div *ngIf="viewItemBlk">
          <button type="button" class="btn btn-primary addItemBtn"  (click)="addItemDirective()">Add Item</button>
        <fieldset style="width: 97%;">
          <legend class="listLegend">ItemList</legend>
            <div class="multiAnsView">
              <div *ngFor="let itemtype of viewItemQuestions;let seq=index;"  style="background: #fff;margin-bottom: 12px;border: 1px solid rgba(0,174,271,0.2);" [ngClass]="{'shadow':showItem == seq}" class="eachItem">
                <!-- MCQ -->
                <div *ngIf="itemtype.item_type==1" class="eachSection" (click)="showQues(seq)" [ngClass]="{'class4':showItem == seq ,'imageShowHeight':itemtype?.item[0].item_df_id ==6,'showAudioHeight':itemtype?.item[0].item_df_id ==10,'showVideoHeight':itemtype?.item[0].item_df_id ==11}">

                  <div  class="quesMargin"  *ngFor="let value of itemtype?.item; let i=index" >

                    <span *ngIf="i==0 && value.item_df_id == 1" class="questionNumberAlign">{{seq+1}}.&nbsp;</span><p *ngIf="value.item_df_id == 1" [innerHTML]="value.data_format_value">{{value.data_format_value}}</p>
                    <p *ngIf="i==0 && value.item_df_id == 6" class="questionNumberAlign">{{seq+1}}.&nbsp;</p><img [src]="value.data_format_value" *ngIf="value.item_df_id == 6" style="width: 200px;height: 123px;margin-left: 16px;margin-bottom: 6px;"  onError="this.onerror=null;this.src='../../../assets/img/no_image_available.jpeg';">
                    <p *ngIf="i==0 && value.item_df_id == 10" class="questionNumberAlign">{{seq+1}}.&nbsp;</p><audio [src]="value.data_format_value" controlsList="nodownload"  *ngIf="value.item_df_id == 10" width="400" height = "200" controls></audio>
                    <p *ngIf="i==0 && value.item_df_id == 11" class="questionNumberAlign">{{seq+1}}.&nbsp;</p><video [src]="value.data_format_value" controlsList="nodownload"  *ngIf="value.item_df_id == 11" width="400" height = "200" controls style="height: 128px;width: 256px;"></video>
                    <!-- list -->
                    <div *ngIf="value.item_df_id == 8">
                      <div *ngFor="let listArray of value.data_format_value">
                        <div class="col-md-12" *ngFor="let listElements of listArray?.list_elements;let eltIndex = index">
                          <div class="row">
                            <div class="col-md-1 listLablePreview1">
                              <p class="listEltTxt" [ngClass]="{'listLabelDotPrev':listElements.list_label =='.'}" *ngIf="eltIndex == 0">{{listElements.list_label}}</p>
                            </div>
                            <div class="col-md-7">
                              <p class="listEltTxt" *ngIf="listElements.list_data_format_id == 1">{{listElements.list_value}}</p>
                              <img src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 6" class="ListImageSizePrev">
                              <audio src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 10"  controlsList="nodownload" controls width="400" height = "200" controls class="ListAudioSizePrev"></audio>
                              <video src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 11"  controlsList="nodownload" controls width="400" height = "200" controls class="ListVideoSizePrev"></video>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <p *ngIf="i==0 && value.item_df_id == 7" class="questionNumberAlign">{{seq+1}}.&nbsp;</p>
                    <!-- Table -->
                    <div *ngIf="value.item_df_id== 7" style="width: 100%;margin: 20px 0px;" class="col-md-12">
                      <div class="row">
                        <div  style="padding-left: 4px;">
                          <table class="table"  [style.width.%]="value.table_format == 5 ? '50':100"  (mouseleave)="hideTableBtn()" [ngClass]="{'table-striped' :value.table_format == 3,'table-bordered' : (value.table_format == 2 || value.table_format == 4 || value.table_format == 5)}" >

                            <tbody>

                              <tr *ngFor="let row of value.data_format_value;let rowindex =index">

                                <td *ngFor="let col of row;let colIndex = index" [ngStyle]="{'border-color':value.table_color}" (mouseenter)="ShowTableBtn(colIndex,rowindex,col.header)" [ngClass]="{'tableHeadType':(value.available_headers =='column' || value.available_headers =='all') && col.header == 1 && (value.table_format == 2  || value.table_format == 5)}"><input type="text" autocomplete="off" class="form-control tblField" [(ngModel)]="col.table_value" [disabled]="col.table_value =='#'"  [ngClass]="{'tableHeadType':(value.available_headers =='column' || value.available_headers =='all') && col.header == 1 && (value.table_format == 2 || value.table_format == 5),'tableHeadHighlight': col.header == 1}" style="pointer-events:none;"></td>
                              </tr>

                            </tbody>
                          </table>
                        </div>
                      </div>
                    </div>
                  </div>

                  <!-- answer block -->
                  <div class='hideAnswer' [ngClass]="{'class4':showItem == seq}">
                      <div *ngFor='let input of itemtype?.answer_choices; let i = index;'>
                        <div class="">
                          <div *ngFor="let data of input?.choice_elements; let id=index;">
                            <div *ngIf="data.answer_df_id== 1" style="margin-left: 3px;margin-bottom: 10px;display:inline-flex;" [ngClass]="{'textClr':input.correct_answer == true}"><span *ngIf="id==0">{{input.label}}.&nbsp;</span><span [innerHTML]="data.data_format_value">{{data.data_format_value}}</span></div>
                            <div *ngIf="data.answer_df_id== 6" style="margin-top: 9px;margin-bottom: 10px;margin-left: 2px;" [ngClass]="{'textClr':input.correct_answer == true}"><span *ngIf="id==0">{{input.label}}.&nbsp;</span>&nbsp;<img [src]="data.data_format_value" style="width: 84px;" onError="this.onerror=null;this.src='../../../assets/img/no_image_available.jpeg';"></div>
                            <!-- audio -->
                            <div *ngIf="data.answer_df_id == 10" style="margin-top: 34px;margin-left: 35px;margin-bottom: 8px;" [ngClass]="{'textClr':input.correct_answer == true}">
                              <span *ngIf="id==0" class="quesNumAlignAnsBlk">{{input.label}}.&nbsp;</span><audio  controls  controlsList="nodownload"  style="width: 200px;margin-left: -18px; margin-top: -23px;" class="audiotag">
                                <source [src]="data.data_format_value" type="audio/mp3">
                              </audio>
                            </div>
                            <!-- video -->
                            <div *ngIf="data.answer_df_id == 11" style="margin-top: 34px;margin-left: 34px;margin-bottom: 8px;" [ngClass]="{'textClr':input.correct_answer == true}">
                              <span *ngIf="id==0" class="quesNumAlignAnsBlk">{{input.label}}.&nbsp;</span>&nbsp;<video controls controlsList="nodownload"  style="width: 173px;margin-top: -23px;" class="audiotag1">
                                <source [src]="data.data_format_value" type="video/mp4">
                                </video>
                            </div>
                          </div>
                        </div>
                      </div>
                  </div>
                  <span class="textClr"><a class="editItemBtn  backToDirective"  (click)="editItemDirective(seq,'DirectiveRenderedItems')"> Edit</a></span>
                </div>
                <!-- Tf -->
                <div *ngIf="itemtype.item_type==2" class="eachSection" (click)="showQues(seq)" [ngClass]="{'class4':showItem == seq,'imageShowHeight':itemtype?.item[0].item_df_id ==6,'showAudioHeight':itemtype?.item[0].item_df_id ==10,'showVideoHeight':itemtype?.item[0].item_df_id ==11}">
                  <div  class="quesMargin" *ngFor="let value of itemtype?.item; let i=index" >
                    <span *ngIf="i==0 && value.item_df_id == 1" class="questionNumberAlign">{{seq+1}}.&nbsp;</span><p *ngIf="value.item_df_id == 1" [innerHTML]="value.data_format_value" > {{value.data_format_value}}</p>
                    <p *ngIf="i==0 && value.item_df_id == 6" class="questionNumberAlign">{{seq+1}}.&nbsp;</p><img [src]="value.data_format_value" *ngIf="value.item_df_id == 6" style="width: 200px;height: 151px;">
                    <p *ngIf="i==0 && value.item_df_id == 10" class="questionNumberAlign">{{seq+1}}.&nbsp;</p><audio [src]="value.data_format_value" controlsList="nodownload"  *ngIf="value.item_df_id == 10" width="400" height = "200" controls></audio>
                    <p *ngIf="i==0 && value.item_df_id == 11" class="questionNumberAlign">{{seq+1}}.&nbsp;</p><video [src]="value.data_format_value" controlsList="nodownload"  *ngIf="value.item_df_id == 11" width="400" height = "200" controls style="height: 128px;width: 256px;"></video>
                      <!-- list -->
                    <div *ngIf="value.item_df_id == 8">
                      <div *ngFor="let listArray of value.data_format_value">
                        <div class="col-md-12" *ngFor="let listElements of listArray?.list_elements;let eltIndex = index">
                          <div class="row">
                            <div class="col-md-1 listLablePreview1">
                              <p class="listEltTxt" [ngClass]="{'listLabelDotPrev':listElements.list_label =='.'}" *ngIf="eltIndex == 0">{{listElements.list_label}}</p>
                            </div>
                            <div class="col-md-7">
                              <p class="listEltTxt" *ngIf="listElements.list_data_format_id == 1">{{listElements.list_value}}</p>
                              <img src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 6" class="ListImageSizePrev">
                              <audio src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 10"  controlsList="nodownload" controls width="400" height = "200" controls class="ListAudioSizePrev"></audio>
                              <video src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 11"  controlsList="nodownload" controls width="400" height = "200" controls class="ListVideoSizePrev"></video>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <p *ngIf="i==0 && value.item_df_id == 7" class="questionNumberAlign">{{seq+1}}.&nbsp;</p>
                    <!-- Table -->
                    <div *ngIf="value.item_df_id== 7" style="width: 100%;margin: 20px 0px;" class="col-md-12">
                      <div class="row">
                        <div  style="padding-left: 4px;">
                          <table class="table"  [style.width.%]="value.table_format == 5 ? '50':100"  (mouseleave)="hideTableBtn()" [ngClass]="{'table-striped' :value.table_format == 3,'table-bordered' : (value.table_format == 2 || value.table_format == 4 || value.table_format == 5)}" >

                            <tbody>

                              <tr *ngFor="let row of value.data_format_value;let rowindex =index">

                                <td *ngFor="let col of row;let colIndex = index" [ngStyle]="{'border-color':value.table_color}" (mouseenter)="ShowTableBtn(colIndex,rowindex,col.header)" [ngClass]="{'tableHeadType':(value.available_headers =='column' || value.available_headers =='all') && col.header == 1 && (value.table_format == 2  || value.table_format == 5)}"><input type="text" autocomplete="off" class="form-control tblField" [(ngModel)]="col.table_value" [disabled]="col.table_value =='#'"  [ngClass]="{'tableHeadType':(value.available_headers =='column' || value.available_headers =='all') && col.header == 1 && (value.table_format == 2 || value.table_format == 5),'tableHeadHighlight': col.header == 1}" style="pointer-events:none;"></td>
                              </tr>

                            </tbody>
                          </table>
                        </div>
                      </div>
                    </div>
                  </div>
                    <!-- answer block -->
                  <div class='hideAnswer' [ngClass]="{'class4':showItem == seq}">
                      <div *ngFor='let input of itemtype?.answer_choices; let i = index;'>
                          <div class="correct_options_block_TF_viewItem">
                              <div class="correct_radio_button_TF">
                                  <p *ngIf="input.answer_df_id == 1" [ngClass]="{'textClr':input.correct_answer == true}">{{input.label}}.&nbsp;{{input.data_format_value}}</p>
                              </div>
                          </div>

                      </div>
                  </div>
                  <span class="textClr editItemBtn  backToDirective"><a class=""  (click)="editItemDirective(seq,'DirectiveRenderedItems')"> Edit</a></span>
                </div>
                  <!-- match -->
                <div  *ngIf="itemtype.item_type == 3" class="eachSection" (click)="showQues(seq)" [ngClass]="{'class4':showItem == seq,'imageShowHeight':itemtype?.item[0].item_df_id ==6,'showAudioHeight':itemtype?.item[0].item_df_id ==10,'showVideoHeight':itemtype?.item[0].item_df_id ==11}">
                    <div *ngFor="let data1 of itemtype?.item; let i = index;" class="display_margin1">
                      <span *ngIf="i==0 && data1.item_df_id == 1" class="questionNumberAlign">{{seq+1}}.&nbsp;</span><p *ngIf="data1.item_df_id == 1" [innerHTML]="data1.data_format_value">{{data1.data_format_value}}</p>
                      <p *ngIf="i==0 && data1.item_df_id == 6" class="questionNumberAlign">{{seq+1}}.&nbsp;</p><img [src]="data1.data_format_value" *ngIf="data1.item_df_id == 6" style="width: 200px;height: 123px;margin-left: 16px;margin-bottom: 6px;"  onError="this.onerror=null;this.src='../../../assets/img/no_image_available.jpeg';">
                      <p *ngIf="i==0 && data1.item_df_id == 10" class="questionNumberAlign">{{seq+1}}.&nbsp;</p><audio [src]="data1.data_format_value" *ngIf="data1.item_df_id == 10" width="400" height = "200" controls></audio>
                      <p *ngIf="i==0 && data1.item_df_id == 11" class="questionNumberAlign">{{seq+1}}.&nbsp;</p><video [src]="data1.data_format_value" *ngIf="data1.item_df_id == 11" width="400" height = "200" controls style="height: 128px;width: 256px;"></video>
                        <!-- list -->
                        <div *ngIf="data1.item_df_id == 8">
                          <div *ngFor="let listArray of data1.data_format_value">
                            <div class="col-md-12" *ngFor="let listElements of listArray?.list_elements;let eltIndex = index">
                              <div class="row">
                                <div class="col-md-1 listLablePreview1">
                                  <p class="listEltTxt" [ngClass]="{'listLabelDotPrev':listElements.list_label =='.'}" *ngIf="eltIndex == 0">{{listElements.list_label}}</p>
                                </div>
                                <div class="col-md-7">
                                  <p class="listEltTxt" *ngIf="listElements.list_data_format_id == 1">{{listElements.list_value}}</p>
                                  <img src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 6" class="ListImageSizePrev">
                                  <audio src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 10"  controlsList="nodownload" controls width="400" height = "200" controls class="ListAudioSizePrev"></audio>
                                  <video src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 11"  controlsList="nodownload" controls width="400" height = "200" controls class="ListVideoSizePrev"></video>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <p *ngIf="i==0 && data1.item_df_id == 7" class="questionNumberAlign">{{seq+1}}.&nbsp;</p>
                        <!-- Table -->
                        <div *ngIf="data1.item_df_id== 7" style="width: 100%;margin: 20px 0px;" class="col-md-12">
                          <div class="row">
                            <div  style="padding-left: 4px;">
                              <table class="table"  [style.width.%]="data1.table_format == 5 ? '50':100"  (mouseleave)="hideTableBtn()" [ngClass]="{'table-striped' :data1.table_format == 3,'table-bordered' : (data1.table_format == 2 || data1.table_format == 4 || data1.table_format == 5)}" >

                                <tbody>

                                  <tr *ngFor="let row of data1.data_format_value;let rowindex =index">

                                    <td *ngFor="let col of row;let colIndex = index" [ngStyle]="{'border-color':data1.table_color}" (mouseenter)="ShowTableBtn(colIndex,rowindex,col.header)" [ngClass]="{'tableHeadType':(data1.available_headers =='column' || data1.available_headers =='all') && col.header == 1 && (data1.table_format == 2  || data1.table_format == 5)}"><input type="text" autocomplete="off" class="form-control tblField" [(ngModel)]="col.table_value" [disabled]="col.table_value =='#'"  [ngClass]="{'tableHeadType':(data1.available_headers =='column' || data1.available_headers =='all') && col.header == 1 && (data1.table_format == 2 || data1.table_format == 5),'tableHeadHighlight': col.header == 1}" style="pointer-events:none;"></td>
                                  </tr>

                                </tbody>
                              </table>
                            </div>
                          </div>
                        </div>

                      <div *ngIf="data1.item_df_id == 9">
                            <div *ngFor='let input1 of data1?.data_format_value;let idn = index;'>
                              <div class="col-md-12" *ngIf="input1.match_data[0].header == 1">
                                <div class="row">
                                  <div class="" *ngFor='let data of input1?.match_data;let in=index' style="margin-right: 19px;margin-left: 29px;" [ngClass]="{'header-margin': in==1}">
                                      <div style="margin-top:5px;" class="input-group" >
                                        <b><p *ngIf="data.match_data_format_id == 1" class="previewMatchStmt">{{data.match_value}}</p></b>
                                        <img [src]="data.match_value" *ngIf="data.match_data_format_id == 6 " style="width: 197px;height: 135px;">
                                        <audio width="400" height = "200" controls controlsList="nodownload" *ngIf="data.match_data_format_id == 10 " style="width: 202px;">
                                          <source [src]="data.match_value" type="audio/mp3">
                                        </audio>
                                        <video width="400" height = "200" controls controlsList="nodownload" *ngIf="data.match_data_format_id == 11 " style="width: 196px;height: 100px;">
                                          <source [src]="data.match_value" type="video/mp4">
                                        </video>
                                      </div>
                                  </div>

                                </div>
                              </div>
                              <div class="col-md-12" *ngIf="input1.match_data[0].header != 1">
                                  <div class="row">

                                    <div class="" *ngFor='let data of input1?.match_data;let in=index' style="margin-right: 19px;margin-left: 29px;" >
                                        <div style="margin-top:5px;margin-bottom: 7px;" class="input-group" [ngClass]="{'extraOption' : input1?.match_data[0].match_value == 'abc'}">
                                            <p *ngIf="data.match_data_format_id == 1 && data.match_value != 'abc'" class="previewMatchStmt"><span *ngIf="data.match_data_format_id == 1 && (itemtype.match_type == 4 || itemtype.match_type == 5)">{{data.label}}.</span>{{data.match_value}}</p>
                                            <span *ngIf="data.match_data_format_id == 6 && (itemtype.match_type == 4 || itemtype.match_type == 5)">{{data.label}}.</span><img [src]="data.match_value" *ngIf="data.match_data_format_id == 6 && data.match_value != 'abc'" style="width: 197px;height: 135px;">
                                            <span *ngIf="data.match_data_format_id == 10 && (itemtype.match_type == 4 || itemtype.match_type == 5)">{{data.label}}.</span><audio width="400" height = "200" controls controlsList="nodownload" *ngIf="data.match_data_format_id == 10 && data.match_value != 'abc'" style="width: 202px;">
                                              <source [src]="data.match_value" type="audio/mp3">
                                            </audio>
                                            <span *ngIf="data.match_data_format_id == 11 && (itemtype.match_type == 4 || itemtype.match_type == 5)">{{data.label}}.</span><video width="400" height = "200" controls controlsList="nodownload" *ngIf="data.match_data_format_id == 11 && data.match_value != 'abc'" style="width: 196px;height: 100px;">
                                              <source [src]="data.match_value" type="video/mp4">
                                            </video>
                                        </div>
                                    </div>

                                  </div>
                                </div>
                            </div>
                      </div>
                    </div>
                    <!-- answer block -->
                      <div class='' *ngIf="itemtype.matchlist_type == 5" style="margin-left: -50px;margin-top: 34px;">
                        <div *ngFor='let input of itemtype?.answer_choices; let i = index;' style="margin-left: 29px;">
                          <div class="" style="margin-bottom: 13px;">
                            <div *ngIf="input.answer_df_id== 1" style="margin-top: 4px;margin-left: 93px;display:inline-flex;" [ngClass]="{'textClr':input.correct_answer == true}"><span *ngIf="i==0">{{input.label}}.</span>&nbsp;<span [innerHTML]="input.data_format_value">{{input.data_format_value}}</span></div><br>
                            <div *ngIf="input.answer_df_id== 6" style="margin-top: -23px;margin-bottom: 10px;margin-left: 87px;" [ngClass]="{'textClr':input.correct_answer == true}"><span *ngIf="i==0">{{input.label}}.</span><img [src]="input.data_format_value" style="width: 84px;"></div>
                            <!-- audio -->
                            <div *ngIf="input.answer_df_id == 10" style="margin-top: 4px;margin-left: 102px;" [ngClass]="{'textClr':input.correct_answer == true}">
                              <span *ngIf="i==0">{{input.label}}.</span><audio  controls  controlsList="nodownload"  style="width: 200px;margin-left: -18px; margin-top: -23px;" class="audiotag">
                                <source [src]="input.data_format_value" type="audio/mp3">
                              </audio>
                            </div>
                            <!-- video -->
                            <div *ngIf="input.answer_df_id == 11" style="margin-top: 4px;margin-left: 93px;" [ngClass]="{'textClr':input.correct_answer == true}">
                              <span *ngIf="i==0">{{input.label}}.</span><video controls controlsList="nodownload"  style="width: 173px;margin-top: -23px;" class="audiotag1">
                                <source [src]="input.data_format_value" type="video/mp4">
                                </video>
                            </div>
                          </div>
                        </div>
                      </div>

                      <div class='' *ngIf = "itemtype.matchlist_type == 4" style="margin-left: 22px;margin-bottom: 2px;">

                          <div *ngFor='let input of itemtype?.answer_choices; let idn = index;' style="margin-bottom: 6px;">
                              <div *ngIf="input.answer_df_id== 1" [ngClass]="{'textClr':input.correct_answer == true}"><span>{{input.label}}.</span>&nbsp;{{input.data_format_value}}</div>
                          </div>
                      </div>
                      <span class="textClr"><a class="editItemBtn  backToDirective"  (click)="editItemDirective(seq,'DirectiveRenderedItems')"> Edit</a></span>

                </div>
                <!-- free text -->
                <div *ngIf="itemtype.item_type==5" class="eachSection" (click)="showQues(seq)" [ngClass]="{'class4':showItem == seq ,'imageShowHeight':itemtype?.item[0].item_df_id ==6,'showAudioHeight':itemtype?.item[0].item_df_id ==10,'showVideoHeight':itemtype?.item[0].item_df_id ==11}">

                    <div  class="quesMargin"  *ngFor="let value of itemtype?.item; let i=index" >

                      <span *ngIf="i==0 && value.item_df_id == 1" class="questionNumberAlign">{{seq+1}}.&nbsp;</span><p *ngIf="value.item_df_id == 1" [innerHTML]="value.data_format_value">{{value.data_format_value}}</p>
                      <p *ngIf="i==0 && value.item_df_id == 6" class="questionNumberAlign">{{seq+1}}.&nbsp;</p><img [src]="value.data_format_value" *ngIf="value.item_df_id == 6" style="width: 200px;height: 123px;margin-left: 16px;margin-bottom: 6px;"  onError="this.onerror=null;this.src='../../../assets/img/no_image_available.jpeg';">
                      <p *ngIf="i==0 && value.item_df_id == 10" class="questionNumberAlign">{{seq+1}}.&nbsp;</p><audio [src]="value.data_format_value" controlsList="nodownload"  *ngIf="value.item_df_id == 10" width="400" height = "200" controls></audio>
                      <p *ngIf="i==0 && value.item_df_id == 11" class="questionNumberAlign">{{seq+1}}.&nbsp;</p><video [src]="value.data_format_value" controlsList="nodownload"  *ngIf="value.item_df_id == 11" width="400" height = "200" controls style="height: 128px;width: 256px;"></video>
                        <!-- list -->
                      <div *ngIf="value.item_df_id == 8">
                        <div *ngFor="let listArray of value.data_format_value">
                          <div class="col-md-12" *ngFor="let listElements of listArray?.list_elements;let eltIndex = index">
                            <div class="row">
                              <div class="col-md-1 listLablePreview1">
                                <p class="listEltTxt" [ngClass]="{'listLabelDotPrev':listElements.list_label =='.'}" *ngIf="eltIndex == 0">{{listElements.list_label}}</p>
                              </div>
                              <div class="col-md-7">
                                <p class="listEltTxt" *ngIf="listElements.list_data_format_id == 1">{{listElements.list_value}}</p>
                                <img src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 6" class="ListImageSizePrev">
                                <audio src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 10"  controlsList="nodownload" controls width="400" height = "200" controls class="ListAudioSizePrev"></audio>
                                <video src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 11"  controlsList="nodownload" controls width="400" height = "200" controls class="ListVideoSizePrev"></video>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <p *ngIf="i==0 && value.item_df_id == 7" class="questionNumberAlign">{{seq+1}}.&nbsp;</p>
                      <!-- Table -->
                      <div *ngIf="value.item_df_id== 7" style="width: 100%;margin: 20px 0px;" class="col-md-12">
                        <div class="row">
                          <div  style="padding-left: 4px;">
                            <table class="table"  [style.width.%]="value.table_format == 5 ? '50':100"  (mouseleave)="hideTableBtn()" [ngClass]="{'table-striped' :value.table_format == 3,'table-bordered' : (value.table_format == 2 || value.table_format == 4 || value.table_format == 5)}" >

                              <tbody>

                                <tr *ngFor="let row of value.data_format_value;let rowindex =index">

                                  <td *ngFor="let col of row;let colIndex = index" [ngStyle]="{'border-color':value.table_color}" (mouseenter)="ShowTableBtn(colIndex,rowindex,col.header)" [ngClass]="{'tableHeadType':(value.available_headers =='column' || value.available_headers =='all') && col.header == 1 && (value.table_format == 2  || value.table_format == 5)}"><input type="text" autocomplete="off" class="form-control tblField" [(ngModel)]="col.table_value" [disabled]="col.table_value =='#'"  [ngClass]="{'tableHeadType':(value.available_headers =='column' || value.available_headers =='all') && col.header == 1 && (value.table_format == 2 || value.table_format == 5),'tableHeadHighlight': col.header == 1}" style="pointer-events:none;"></td>
                                </tr>

                              </tbody>
                            </table>
                          </div>
                        </div>
                      </div>
                    </div>
                    <!-- <div class="col-md-6">
                        <textarea class="form-control freetextarea" rows="8" cols="7"></textarea>
                    </div> -->

                    <span class="textClr"><a class="editItemBtn  backToDirective"  (click)="editItemDirective(seq,'DirectiveRenderedItems')"> Edit</a></span>
                </div>
                <!-- file upload -->
                <div *ngIf="itemtype.item_type==7" class="eachSection" (click)="showQues(seq)" [ngClass]="{'class4':showItem == seq ,'imageShowHeight':itemtype?.item[0].item_df_id ==6,'showAudioHeight':itemtype?.item[0].item_df_id ==10,'showVideoHeight':itemtype?.item[0].item_df_id ==11}">

                  <div  class="quesMargin"  *ngFor="let value of itemtype?.item; let i=index" >

                    <span *ngIf="i==0 && value.item_df_id == 1" class="questionNumberAlign">{{seq+1}}.&nbsp;</span><p *ngIf="value.item_df_id == 1" [innerHTML]="value.data_format_value">{{value.data_format_value}}</p>
                    <p *ngIf="i==0 && value.item_df_id == 6" class="questionNumberAlign">{{seq+1}}.&nbsp;</p><img [src]="value.data_format_value" *ngIf="value.item_df_id == 6" style="width: 200px;height: 123px;margin-left: 16px;margin-bottom: 6px;"  onError="this.onerror=null;this.src='../../../assets/img/no_image_available.jpeg';">
                    <p *ngIf="i==0 && value.item_df_id == 10" class="questionNumberAlign">{{seq+1}}.&nbsp;</p><audio [src]="value.data_format_value" controlsList="nodownload"  *ngIf="value.item_df_id == 10" width="400" height = "200" controls></audio>
                    <p *ngIf="i==0 && value.item_df_id == 11" class="questionNumberAlign">{{seq+1}}.&nbsp;</p><video [src]="value.data_format_value" controlsList="nodownload"  *ngIf="value.item_df_id == 11" width="400" height = "200" controls style="height: 128px;width: 256px;"></video>
                      <!-- list -->
                    <div *ngIf="value.item_df_id == 8">
                      <div *ngFor="let listArray of value.data_format_value">
                        <div class="col-md-12" *ngFor="let listElements of listArray?.list_elements;let eltIndex = index">
                          <div class="row">
                            <div class="col-md-1 listLablePreview1">
                              <p class="listEltTxt" [ngClass]="{'listLabelDotPrev':listElements.list_label =='.'}" *ngIf="eltIndex == 0">{{listElements.list_label}}</p>
                            </div>
                            <div class="col-md-7">
                              <p class="listEltTxt" *ngIf="listElements.list_data_format_id == 1">{{listElements.list_value}}</p>
                              <img src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 6" class="ListImageSizePrev">
                              <audio src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 10"  controlsList="nodownload" controls width="400" height = "200" controls class="ListAudioSizePrev"></audio>
                              <video src="{{listElements.list_value}}" *ngIf="listElements.list_data_format_id == 11"  controlsList="nodownload" controls width="400" height = "200" controls class="ListVideoSizePrev"></video>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <p *ngIf="i==0 && value.item_df_id == 7" class="questionNumberAlign">{{seq+1}}.&nbsp;</p>
                    <!-- Table -->
                    <div *ngIf="value.item_df_id== 7" style="width: 100%;margin: 20px 0px;" class="col-md-12">
                      <div class="row">
                        <div  style="padding-left: 4px;">
                          <table class="table"  [style.width.%]="value.table_format == 5 ? '50':100"  (mouseleave)="hideTableBtn()" [ngClass]="{'table-striped' :value.table_format == 3,'table-bordered' : (value.table_format == 2 || value.table_format == 4 || value.table_format == 5)}" >

                            <tbody>

                              <tr *ngFor="let row of value.data_format_value;let rowindex =index">

                                <td *ngFor="let col of row;let colIndex = index" [ngStyle]="{'border-color':value.table_color}" (mouseenter)="ShowTableBtn(colIndex,rowindex,col.header)" [ngClass]="{'tableHeadType':(value.available_headers =='column' || value.available_headers =='all') && col.header == 1 && (value.table_format == 2  || value.table_format == 5)}"><input type="text" autocomplete="off" class="form-control tblField" [(ngModel)]="col.table_value" [disabled]="col.table_value =='#'"  [ngClass]="{'tableHeadType':(value.available_headers =='column' || value.available_headers =='all') && col.header == 1 && (value.table_format == 2 || value.table_format == 5),'tableHeadHighlight': col.header == 1}" style="pointer-events:none;"></td>
                              </tr>

                            </tbody>
                          </table>
                        </div>
                      </div>
                    </div>
                  </div>
                  <!-- file upload answer block -->
                  <div class="col-md-12">
                    <div class="row fileuploadPrevRow" *ngFor="let file of itemtype?.answer_choices;let a= index">
                      <div class="col-md-1" style="padding: 0px;">
                        <p class="DescseqMArgin textClr">{{a+1}}.</p>
                      </div>
                      <div class="col-md-4">
                        <p class="DescMArgin"> {{file.description}}</p>
                      </div>
                      <div class="col-md-6" style="display:inline-flex;">
                          (<p style="margin:0px;color:red;" *ngFor="let type of file.data_format_type;let f= index">{{type.itemName}}<span *ngIf= "file.data_format_type.length > f+1">/</span>&nbsp;</p>)
                      </div>
                    </div>

                  </div>

                  <span class="textClr"><a class="editItemBtn  backToDirective"  (click)="editItemDirective(seq,'DirectiveRenderedItems')"> Edit</a></span>
              </div>

              </div>
            </div>
        </fieldset>
      </div>
        <!-- cance alert -->

        <ng-template #cancelItemAlert>

          <div class="">

              <div class="modal-header">
                <p class="modalHead">Alert!</p>
                <button type="button" class="" style="background: transparent;border: none;color: white;padding: 5px 10px;font-size: 16px;cursor:pointer;" aria-label="Close" (click)="modalRef.hide()">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                <div class="formAlign">
                  <p class="text-center">Are you sure you want to exit? All unsaved changes will be lost.</p>

                </div>
                <div class="saveBtnPOPup">
                  <button class="btn btn-primary alertBtnCss" (click)="cancelUnsavedItem()">Yes</button>
                  <button class="btn btn-default alertBtnCss" (click)="modalRef.hide()">No</button>
                </div>
              </div>

          </div>

        </ng-template>

        <ng-template #answer_InsightPopup>

          <div class="">

              <div class="modal-header">
                <p class="modalHead">Answer Insight</p>
                <button type="button" class="" style="background: transparent;border: none;color: white;padding: 5px 10px;font-size: 16px;cursor:pointer;" aria-label="Close" (click)="modalRef.hide()">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
           
                  <div class=" row inside_content">
                    <label for="" class="URL_Label">Answer Insight - {{answer_Option_Index}} </label>&nbsp;&nbsp;<input type="text" [(ngModel)]="answer_Option_data.answer_choice_insight" class="text_Desc" placeholder="Enter Answer Insight">
                  </div>
                  <!-- <div class="inside_content1">
                    <label for="" class="Desc_Label">Description</label>&nbsp;&nbsp;
                    <textarea class="textArea_desc" id="description_for_answer" [(ngModel)]="item_Description" placeholder="Enter The Description" rows="8" cols="7"></textarea>
                  </div>               -->

                
                <div class="saveBtnPOPup">
                  <button class="btn btn-primary yesButton_1" (click)="saveInsightsValues(Insight_Value,answer_InsightPopup,answer_Option_Index)">Ok</button>
                  
                </div>
              </div>

          </div>

        </ng-template>

        <div class="saveBtn col-md-12" [hidden]="viewItemBlk == true">
          <button type="button" class="btn btn-primary cursor saveCancelbtn" (click)="saveItem(sec_attr_0,sec_attr_1,sec_attr_2,sec_attr_3,sec_attr_4,sec_attr_5,sec_attr_6,sec_attr_7,sec_attr_8,sec_attr_9,sec_attr_10,sec_attr_11,sec_attr_12,sec_attr_13,sec_attr_14,sec_attr_15,sec_attr_16,sec_attr_17,sec_attr_18,sec_attr_19)" *ngIf="showSaveASBtnFlag">Save</button>
          <button type="button" class="btn btn-primary cursor saveCancelbtn" (click)="saveAsItem()" *ngIf="pathDirect == 3 || pathDirect == 4 || pathDirect == 20 || this.pathDirect == 19  || pathDirect == 14">Save As</button>
          <!-- <button type="button" class="btn btn-default cursor saveCancelbtn" (click)="cancelItemAlert = true">Cancel</button> -->
          <a class="btnCss" style="color: #00aed9;" (click)="showCancelAlert(cancelItemAlert)">Cancel</a>
        </div>

    </div>


    <!-- attributes -->
    <div class="col-lg-3 col-md-3 itemPadd fontSize">
      <div class="attrAccordion">
          <div  class="attrHead">
            <!-- <button class="attrHEadMargin2" (click)="openAttributesTab(1)">Attributes</button> -->
            <span class="" style="margin-top: 8px;position: absolute;" >Attributes</span>
            <span class="attrHEadMargin clearAttr" (click)="clearAttributes()">Clear</span>
            
          </div>
          <div>
            <!-- <fa [name]="'tags'" class="faIcons" [size]=1  tooltip="Predefined Attributes" placement="top" (click)="openAttributesTab(1)" ></fa>&nbsp;
            <fa [name]="'tags'" class="faIcons" [size]=1  tooltip="Custom Attributes" placement="top" (click)="openAttributesTab(2)" ></fa>&nbsp; -->

            <div class="infoList">
              <p class="infoName" (click)="activeTab = 0" [ngClass]="{'activeTabClass' : activeTab == 0}">
                <fa [name]="'tags'" [size]=1 class="itemsetCommentIcon" tooltip="Predefined Attributes" placement="top"></fa>
              </p>
              <div >
                <!-- (click)="openSecondTab()" -->
                <p class="infoName" (click)="activeTab = 1" [ngClass]="{'activeTabClass' : activeTab == 1}">
                  <fa [name]="'edit'" [size]=1 class="itemsetCommentIcon" tooltip="Custom Attributes" placement="top"></fa>
                <!-- <p class="infoName" (click)="activeTab = 3" [ngClass]="{'activeTabClass' : activeTab == 3}"><fa [name]="'comments'" [size]=1 class="itemsetCommentIcon" tooltip="Comments" placement="top"></fa></p> -->
                </p>
              </div>
              
            </div>

            
          </div>

        <div class="attrAccordionContent" *ngIf="activeTab == 0">
          <form class="form-horizontal">
            <div class="form-group formMargin">
              <div class="row">
                  <label class="control-label col-lg-4 col-md-4 col-sm-4 attrLabel" for="email">{{subLabelName}}<sup>*</sup></label>
                  <div class="col-lg-8 col-md-8 col-sm-4">
                          <p class="form-control-static">
                            <angular2-multiselect style="font-size:12px" [data]="subjectList"  (ngModelChange)="getTopic($event)"
                            [(ngModel)]="selectedSub" [ngModelOptions]="{standalone: true}"
                                [settings]="settings1" id="Subjects" #Subjects="ngModel" required [selected]="selectedSub == subjectList">

                            </angular2-multiselect>

                          </p>
                          <div style="margin-top: -8px;">
                            <div class="alertdanger"  [hidden]="!subErr" style="font-size: 11px;">All fields marked '*' are mandatory. Please complete to proceed.</div>
                          </div>
                  </div>
              </div>

            </div>
            <div class="form-group formMargin">
              <div class="row">
                  <label class="control-label col-lg-4 col-md-4 col-sm-4 attrLabel" for="pwd">{{topLabelName}}<sup>*</sup></label>
                  <div class="col-lg-8 col-md-8 col-sm-4">
                          <p class="form-control-static">
                            <angular2-multiselect  [data]="topicsList"  (ngModelChange)="getSubtopic($event)"
                            [(ngModel)]="selectedTopic" [ngModelOptions]="{standalone: true}"
                                  [settings]="settings2" id="topics" #topics="ngModel" required [selected]="selectedTopic == topicsList">
                                  </angular2-multiselect>
                          </p>
                          <div style="margin-top: -8px;">
                              <div class="alertdanger"  [hidden]="!topErr" style="font-size: 11px;">All fields marked '*' are mandatory. Please complete to proceed.</div>

                          </div>
                  </div>
              </div>
            </div>
            <div class="form-group formMargin">
              <div class="row">
                  <label class="control-label col-lg-4 col-md-4 col-sm-4 attrLabel" for="pwd">{{subTopLabelName}}</label>
                  <div class="col-lg-8 col-md-8 col-sm-4">
                  <p class="form-control-static">
                        <angular2-multiselect [data]="subtopicList"  class="custom-class-example"
                        [(ngModel)]="selectedSubtopic" [ngModelOptions]="{standalone: true}"
                                  [settings]="settings3" [selected]="selectedSubtopic == subtopicList">
                        </angular2-multiselect>
                    </p>
                  </div>
              </div>

            </div>
            <hr>
            <div class="form-group formMargin">
              <div class="row">
                  <label class="control-label col-lg-4 col-md-4 col-sm-4 diffi attrLabel" for="pwd" style="padding-left: 8px;top: 10px;">{{diffLevelLabelName}}<sup>*</sup></label>
                  <div class="col-lg-8 col-md-8 col-sm-4">
                  <p class="form-control-static">
                      <select  class="form-control" [(ngModel)]="difficulty_level" [ngModelOptions]="{standalone: true}" id="difflevel" name="difflevel" #difflevel="ngModel" required [ngClass]="{'dropdownPlaceholder':difflevel.value == undefined}">
                        <option disabled="true" [selected]="difficulty_level == 'undefined' " [value]="undefined" class="dropdownPlaceholder">Select Difficulty Level</option>
                        <option *ngFor="let data of difficultyLevel" [value]="data" >{{data}}</option>
                      </select>
                    </p>
                    <div style="margin-top: -8px;">
                        <div class="alertdanger"  [hidden]="!diffErr" style="font-size: 11px;">All fields marked '*' are mandatory. Please complete to proceed.</div>
                    </div>
                  </div>
              </div>

            </div>
            <div class="form-group formMargin" *ngIf="item_type !=6">
              <div class="row">
                  <label class="control-label col-lg-4 alignChange col-md-4 col-sm-4 attrLabel" for="pwd">{{TaxonomyLabelName}}<sup>*</sup></label>
                  <div class="col-lg-8 col-md-8 col-sm-4">
                    <p class="form-control-static">
                        <select  class="form-control" [(ngModel)]="taxonomy" [ngModelOptions]="{standalone: true}" id="tax"  name="tax" #tax="ngModel" required [ngClass]="{'dropdownPlaceholder':tax.value == undefined}">
                            <option disabled="true" [selected]="taxonomy == 'undefined' " [value]="undefined" class="dropdownPlaceholder">Select Taxonomy</option>
                            <option *ngFor="let data1 of taxonomyList" [value]="data1" >{{data1}}</option>

                        </select>
                    </p>
                    <div style="margin-top: -8px;">
                        <div class="alertdanger"  [hidden]="!taxErr" style="font-size: 11px;">All fields marked '*' are mandatory. Please complete to proceed.</div>
                    </div>
                  </div>
              </div>
            </div>
            <div class="form-group formMargin">
              <div class="row">
                  <!-- <label class="control-label col-lg-4 col-md-4 col-sm-4 attrLabel" for="pwd">{{label}}</label> -->
                  <p class="col-lg-4 col-md-4 col-sm-4 attrLabel" style="margin-bottom: 4px;padding:0;top:12px">{{ContentTypelabelName}}</p>
                  <div class="col-lg-8 col-md-8 col-sm-4">
                    <p class="form-control-static">
                      <angular2-multiselect  [data]="contentType" name="mySelect"
                        [(ngModel)]="content_type" [ngModelOptions]="{standallone: true}"
                        [settings]="settings4" id="contenttype" required [selected]="content_type == contentType">
                      </angular2-multiselect>
                    </p>
                  </div>
              </div>
            </div>
            <hr>
            <div class="form-group formMargin">
              <div class="row">
                <p class="col-lg-4 alignChange col-md-4 col-sm-4 attrLabel" style="margin-bottom: 8px;padding:0px;top:12px;">Language<sup>*</sup></p>
                <div class="col-lg-8 col-md-8 col-sm-4">
                  <p class="form-control-static">
                <select  class="form-control" [(ngModel)]="language" [ngModelOptions]="{standalone: true}" id="lang"  name="lang" #lang="ngModel" required >
					<option disabled="true" [selected]="language == 'undefined' " [value]="undefined" class="dropdownPlaceholder">Select Language</option>
					<option *ngFor="let language of languageList" [value]="language" >{{language}}</option>
                </select>
                </p>
					<div style="margin-top: -8px;">
                        <div class="alertdanger"  [hidden]="!langErr" style="font-size: 11px;">All fields marked '*' are mandatory. Please complete to proceed.</div>
                    </div>
                </div>
              </div>
            </div>
            <div class="form-group formMargin itemMargin">
              <div class="row">
                  <label class="control-label col-lg-4 col-md-4 col-sm-4 attrLabel diffiLevel" for="pwd">Item Validity</label>
                  <div class="col-lg-8 col-md-8 col-sm-4">
                  <p class="form-control-static"> <my-date-picker name="mydate" [options]="myDatePickerOptions" [(ngModel)]="item_valid_till" [placeholder]="placeholder" ></my-date-picker></p>
                  </div>
              </div>

            </div>
            <div  class="itemMargin">
              <p style="margin-bottom: 8px;">Reference Links</p>
              <input type="url" target="_blank" value="" class="form-control" name="link" placeholder="Enter Reference Links" [(ngModel)]="ref_link">
            </div>

            <hr>


            <div class="itemMargin">
              <p style="margin-bottom: 8px;">Keywords<sup>*</sup></p>
              <input type="text" autocomplete="off" value="" class="form-control" name="keyword" placeholder="Enter Search Keywords" maxlength="250" [(ngModel)]="search_keywords" id="key" #key="ngModel" required>
              <div >
                  <div class="alertdanger"  [hidden]="!keyErr" style="font-size: 11px;">All fields marked '*' are mandatory. Please complete to proceed.</div>
              </div>
            </div>
            <div class="itemMargin">
              <p style="margin-bottom: 8px;">Hints</p>
              <textarea rows="5" cols="36" class="form-control" name="hints" placeholder="Enter Hints if Applicable" [(ngModel)]="hint"></textarea>
            </div>
            <div class="itemMargin" *ngIf="item_type !=6">
              <p style="margin-bottom: 8px;">Explanation</p>
              <!-- <textarea rows="5" cols="36" class="form-control" name="exp" placeholder="Enter Detailed Explanation" [(ngModel)]="explanation" id="exp" #exp="ngModel" required maxlength="1000"></textarea> -->
              <div style="background: white;">
              <quill-editor [(ngModel)]="explanation" name="exp" [modules]="quillConfiguration" (keydown)="removeSpcExp($event, explanation)"  #desc1QE id="description1-qe-exp" [style]="{'height': '100px'}"
              [options]="editorOptions"
              ></quill-editor>
              </div>
                <!-- <div>
                    <div class="alertdanger"  [hidden]="!expErr" style="font-size: 11px;">All fields marked '*' are mandatory. Please complete to proceed.</div>
                </div> -->
            </div>
            <hr>

            <!-- <div class="itemMargin formMargin">
            <p class="" style="margin-bottom: 4px;">{{label}}</p>
            <label class="customBtn" *ngFor="let data of contentType;let i = index">{{data.UDF_Tag}}
            <input type="checkbox"  name="data.UDF_Tag_ID"
              (change)="getcontentType(data)" [checked]="data.checked">
            <span class="checkmark"></span>
            </label>
            </div>  -->

          </form>
          <div class="attrSave">
          <button type="button" class="btn btn-primary cursor" (click)="saveAttribute()" *ngIf="viewItemBlk" style="padding: 1px 7px;">Save</button>
          </div>
        </div>
        <div class="attrAccordionContent1"  *ngIf="activeTab == 1">
          
          <div  class="itemMargin" *ngFor="let data of tenenat_attr_label">
            <p style="margin-bottom: 10px;">{{!!data.parameter_name ? data.parameter_name : 'Attribute Name'}}</p>
            <input type="text" class="attr_input" maxlength="150" placeholder="Enter Attribute Value" [(ngModel)]="sec_attr_0">
          </div>

          <div  class="itemMargin" *ngFor="let data of tenenat_attr_label1">
            <p style="margin-bottom: 10px;">{{!!data.parameter_name ? data.parameter_name : 'Attribute Name'}}</p>
            <input type="text" class="attr_input" maxlength="150"  placeholder="Enter Attribute Value" [(ngModel)]="sec_attr_1">
          </div>

          <div  class="itemMargin" *ngFor="let data of tenenat_attr_label2">
            <p style="margin-bottom: 10px;">{{!!data.parameter_name ? data.parameter_name : 'Attribute Name'}}</p>
            <input type="text" class="attr_input" maxlength="150"  placeholder="Enter Attribute Value" [(ngModel)]="sec_attr_2">
          </div>
          
          <div  class="itemMargin" *ngFor="let data of tenenat_attr_label3">
            <p style="margin-bottom: 10px;">{{!!data.parameter_name ? data.parameter_name : 'Attribute Name'}}</p>
            <input type="text" class="attr_input" maxlength="150"  placeholder="Enter Attribute Value" [(ngModel)]="sec_attr_3">
          </div>
          
          <div  class="itemMargin" *ngFor="let data of tenenat_attr_label4">
            <p style="margin-bottom: 10px;">{{!!data.parameter_name ? data.parameter_name : 'Attribute Name'}}</p>
            <input type="text" class="attr_input" maxlength="150"  placeholder="Enter Attribute Value" [(ngModel)]="sec_attr_4">
          </div>
          
          <div  class="itemMargin" *ngFor="let data of tenenat_attr_label5">
            <p style="margin-bottom: 10px;">{{!!data.parameter_name ? data.parameter_name : 'Attribute Name'}}</p>
            <input type="text" class="attr_input" maxlength="150"  placeholder="Enter Attribute Value" [(ngModel)]="sec_attr_5">
          </div>
          
          <div  class="itemMargin" *ngFor="let data of tenenat_attr_label6">
            <p style="margin-bottom: 10px;">{{!!data.parameter_name ? data.parameter_name : 'Attribute Name'}}</p>
            <input type="text" class="attr_input" maxlength="150"  placeholder="Enter Attribute Value" [(ngModel)]="sec_attr_6">
          </div>
          
          <div  class="itemMargin" *ngFor="let data of tenenat_attr_label7">
            <p style="margin-bottom: 10px;">{{!!data.parameter_name ? data.parameter_name : 'Attribute Name'}}</p>
            <input type="text" class="attr_input" maxlength="150"  placeholder="Enter Attribute Value" [(ngModel)]="sec_attr_7">
          </div>
          
          <div  class="itemMargin" *ngFor="let data of tenenat_attr_label8">
            <p style="margin-bottom: 10px;">{{!!data.parameter_name ? data.parameter_name : 'Attribute Name'}}</p>
            <input type="text" class="attr_input" maxlength="150"  placeholder="Enter Attribute Value" [(ngModel)]="sec_attr_8">
          </div>
          
          <div  class="itemMargin" *ngFor="let data of tenenat_attr_label9">
            <p style="margin-bottom: 10px;">{{!!data.parameter_name ? data.parameter_name : 'Attribute Name'}}</p>
            <input type="text" class="attr_input" maxlength="150"  placeholder="Enter Attribute Value" [(ngModel)]="sec_attr_9">
          </div>
          
          <div  class="itemMargin" *ngFor="let data of tenenat_attr_label10">
            <p style="margin-bottom: 10px;">{{!!data.parameter_name ? data.parameter_name : 'Attribute Name'}}</p>
            <input type="text" class="attr_input" maxlength="150"  placeholder="Enter Attribute Value" [(ngModel)]="sec_attr_10">
          </div>
          
          <div  class="itemMargin" *ngFor="let data of tenenat_attr_label11">
            <p style="margin-bottom: 10px;">{{!!data.parameter_name ? data.parameter_name : 'Attribute Name'}}</p>
            <input type="text" class="attr_input" maxlength="150"  placeholder="Enter Attribute Value" [(ngModel)]="sec_attr_11">
          </div>
          
          <div  class="itemMargin" *ngFor="let data of tenenat_attr_label12">
            <p style="margin-bottom: 10px;">{{!!data.parameter_name ? data.parameter_name : 'Attribute Name'}}</p>
            <input type="text" class="attr_input" maxlength="150"  placeholder="Enter Attribute Value" [(ngModel)]="sec_attr_12">
          </div>
          
          <div  class="itemMargin" *ngFor="let data of tenenat_attr_label13">
            <p style="margin-bottom: 10px;">{{!!data.parameter_name ? data.parameter_name : 'Attribute Name'}}</p>
            <input type="text" class="attr_input"  maxlength="150" placeholder="Enter Attribute Value" [(ngModel)]="sec_attr_13">
          </div>
          
          <div  class="itemMargin" *ngFor="let data of tenenat_attr_label14">
            <p style="margin-bottom: 10px;">{{!!data.parameter_name ? data.parameter_name : 'Attribute Name'}}</p>
            <input type="text" class="attr_input" maxlength="150"  placeholder="Enter Attribute Value" [(ngModel)]="sec_attr_14">
          </div>
          
          <div  class="itemMargin" *ngFor="let data of tenenat_attr_label15">
            <p style="margin-bottom: 10px;">{{!!data.parameter_name ? data.parameter_name : 'Attribute Name'}}</p>
            <input type="text" class="attr_input" maxlength="150"  placeholder="Enter Attribute Value" [(ngModel)]="sec_attr_15">
          </div>
          
          <div  class="itemMargin" *ngFor="let data of tenenat_attr_label16">
            <p style="margin-bottom: 10px;">{{!!data.parameter_name ? data.parameter_name : 'Attribute Name'}}</p>
            <input type="text" class="attr_input" maxlength="150"  placeholder="Enter Attribute Value" [(ngModel)]="sec_attr_16">
          </div>
          
          <div  class="itemMargin" *ngFor="let data of tenenat_attr_label17">
            <p style="margin-bottom: 10px;">{{!!data.parameter_name ? data.parameter_name : 'Attribute Name'}}</p>
            <input type="text" class="attr_input"  maxlength="150" placeholder="Enter Attribute Value" [(ngModel)]="sec_attr_17">
          </div>
          
          <div  class="itemMargin" *ngFor="let data of tenenat_attr_label18">
            <p style="margin-bottom: 10px;">{{!!data.parameter_name ? data.parameter_name : 'Attribute Name'}}</p>
            <input type="text" class="attr_input" maxlength="150"  placeholder="Enter Attribute Value" [(ngModel)]="sec_attr_18">
          </div>
          
          <div  class="itemMargin" *ngFor="let data of tenenat_attr_label19">
            <p style="margin-bottom: 10px;">{{!!data.parameter_name ? data.parameter_name : 'Attribute Name'}}</p>
            <input type="text" class="attr_input" maxlength="150"  placeholder="Enter Attribute Value" [(ngModel)]="sec_attr_19">
          </div>

        </div>

      </div>
    </div>


    <!-- <div  *ngIf="visible" class="dialog">
      <h1>Hello World</h1>
      <button *ngIf="closable" (click)="close()" aria-label="Close" class="dialog__close-btn">X</button>
    </div>
    <div *ngIf="visible" class="overlay" (click)="close()"></div> -->

  </div>
</div>


<!-- itemtype change alert -->

<ng-template #changeItemTypeAlert>

    <div class="">

        <div class="modal-header">
          <p class="modalHead">Alert!</p>
          <button type="button" style="background: transparent;border: none;padding: 6px 10px;" class="pull-right" aria-label="Close" (click)="modalRef.hide()">
            <span class="fa fa-times"></span>
          </button>
        </div>
        <div class="modal-body">
          <div class="formAlign">
            <p class="text-center" style="margin-top: 15px;">Do you want to change the item type? If yes, all unsaved changes will be lost.</p>
            <div class="checkbox">
              <label><input type="checkbox" (click)="retainAttr = true"> Retain Attributes Entered</label>
            </div>
          </div>
          <div class="saveBtnPOPup" style="margin-top: 0px;">
            <button class="btn btn-primary alertBtnCss" (click)="changeItemType(retainAttr,visible)">Yes</button>
            <button class="btn btn-default alertBtnCss" (click)="modalRef.hide()">No</button>
          </div>
        </div>

    </div>

</ng-template>

<!-- match item instruction popup start -->

<div *ngIf="showMatchDescription === true" class="bg-modal">
  <div class="modal-content">
    <div (click)="showMatchDescription = false" class="close">+</div>
    <div class="headerofpopup">
      Item Description
    </div>
    <div class="content">
      <p>
        {{showMatchItemDescription}}
      </p>
    </div>
    <button class="okbtn" id="okbutton" (click)="showMatchDescription = false" >Ok</button>
  </div>
</div>

<!-- match item instruction popup end -->

<!-- Table Modal popup -->
<div *ngIf="ShowTableModal" class="TableModal">
  <p class="modalHeadMatch">Table Configuration</p>
  <div class="overallTBLMargin">
    <div>
      <tabset>
        <tab heading="Selection" id="tab1">
          <div  (mouseenter) ="fixRC = false" style="width: 54%;margin: 0 auto;">
              <div *ngFor="let b  of [1,2,3,4,5,6,7,8,9,10];let rowIndex = index" style="text-align:center;max-width: 250px;margin: 0px auto 0px auto;" >
                  <div *ngFor="let a of [1,2,3,4,5,6,7,8,9,10];let colIndex = index" class="tblClmn" >
                    <span class="tabCellSelect" (mouseenter)="gethoverRC(rowIndex,colIndex)"  (click)="fixRC = true" [ngClass]="{'tblcellBG':rowIndex < choosedRowIndex && colIndex < choosedColIndex}"></span>
                  </div>
              </div>
          </div>


              <div class="chooseHeadersDIV">
                <label>Include Headers :</label>
                <label class="customBtn">Columns
                  <input type="checkbox"  name="data.UDF_Tag_ID" (change)="this.isColumnHeader == false?this.isColumnHeader =true:this.isColumnHeader =false">
                  <span class="checkmark"></span>
                </label>
                <label class="customBtn">Rows
                    <input type="checkbox"  name="data.UDF_Tag_ID" (change)="this.isRowHeader == false?this.isRowHeader =true:this.isRowHeader =false">
                    <span class="checkmark"></span>
                </label>
              </div>

              <div class="chooseHeadersDIV">
                  <label>Columns X Rows :</label>
                  <input type="text" autocomplete="off" class="form-control RCBoxSize" maxlength="2" [value]="choosedColIndex == NaN?0:choosedColIndex" [(ngModel)]="choosedColIndex">
                  <span style="line-height: 3.3;">X</span>
                  <input type="text" autocomplete="off" class="form-control RCBoxSize" maxlength="2" [value]="choosedRowIndex == NaN?0:choosedRowIndex" [(ngModel)]="choosedRowIndex">

              </div>
        </tab>
        <tab heading="Table Format">
            <div class="col-md-12" >
              <div class="row">
                <div class="list-group col-md-5" style="padding:10px 14px;padding-right: 0!important;border-radius: 0px;">
                    <p class="list-group-item matchListPrev" *ngFor="let data of tableTypes;let i=index" (click)="activeTblType = data.table_type" [ngClass]="{'clicked' : activeTblType == data.table_type}">{{data.table_type}}</p>

                </div>
                <div class="col-md-7" style="padding-left:0!important; padding-bottom: 10px;">
                  <p class="text-center match-preview" tooltip="Preview">Preview</p>
                  <div  *ngIf="activeTblType != 'Bordered Table'">
                    <div  *ngFor="let data of tableTypes;let imgIndex=index" [hidden]="activeTblType != data.table_type">
                      <img src="{{img.image}}" *ngFor="let img of data.images" style="width:220px;height:184px;margin-top: -18px;margin-left: 38px;margin-bottom: 15px;" >

                    </div>
                  </div>

                  <div class="row" *ngIf="activeTblType == 'Bordered Table'">
                    <div  *ngFor="let data of tableTypes;let imgIndex=index"  [hidden]="activeTblType != data.table_type" class="borderedTblScroll">
                      <img class="col-md-6 borderTblImges" src="{{img.image}}" *ngFor="let img of data.images;let focus=index" style="width:160px;height:150px;margin-top: -18px;margin-bottom: 15px;" (click)="hightlightTblClr = img.color" [ngClass]="{'borderTblImgesHighlight':img.color ==hightlightTblClr}">
                    </div>
                  </div>

                </div>

              </div>
            </div>
        </tab>e
        <tab heading="Keyword">
          <p>Keywords</p>
          <div class="tblKeywordDiv">
            <p class="tblKeyPlaceholder" *ngIf="keywordArray.length == 0">No Keywords Added</p>
            <span *ngFor="let key of keywordArray" class="keywordList">{{key}}&nbsp;<i class="fa fa-times" (click)="RemoveTblKeyword(key)"></i></span>
          </div>
          <p style="margin-top: 10px;">Enter Keyword</p>
          <input type="text" autocomplete="off" class="form-control" maxlength="250" placeholder="Type Keyword and Press Enter Key" [(ngModel)]="tblKeyword" (keydown)="TableKeywords(tblKeyword,$event)">
        </tab>
      </tabset>
    </div>

  </div>


  <div class="text-center chooseHeadersDIV" style="width:100%;">
    <p class="TblModalTXT">Add <span>Keywords</span> to make the table re-usable</p>
    <div style="width: 100%;border-bottom-left-radius: 5px;border-bottom-right-radius: 5px;">
        <button class="btn btn-primary TblModalBtn" (click)="getTableDatas()" [disabled]="((choosedColIndex == undefined || choosedColIndex == 0 || choosedColIndex == '') || (choosedRowIndex == undefined || choosedRowIndex == 0 || choosedRowIndex == '')) || keywordArray.length == 0">Insert</button>
        <button class="btn btn-default TblModalBtn" (click)="closeTblPopup()">Cancel</button>
    </div>
  </div>

</div>
<button  (click)="closeTblPopup()" *ngIf="ShowTableModal" aria-label="Close" class="dialog__close-btnTbl" ><i class="fa fa-times"></i></button>
<div *ngIf="ShowTableModal" class="overlay"></div>


<!-- Equation popup question block -->
<div class="EquationModal" *ngIf="openEquation">
  <p>Copy and Paste Symbols <span (click)="openEquation = false"><i class="fa fa-times"></i></span></p>
  <div class="clearfix"></div>
  <hr>
  <tabset>
    <tab heading="Mathematical Equations" id="tab1">
      <table class="mathTable">
        <tbody>
          <tr>
            <td>∑</td>
            <td>±</td>
            <td>¶</td>
            <td>π</td>
            <td>Π</td>
            <td>×</td>
            <td>÷</td>
            <td>+</td>
            <td>-</td>
            <td>‹›</td>

          </tr>
          <tr>
            <td>∼</td>
            <td>≅</td>
            <td>≈</td>
            <td>≆	</td>
            <td>≇</td>
            <td>≠</td>
            <td>≊</td>
            <td>≋</td>
            <td>≌</td>
            <td>≡</td>

          </tr>
          <tr>
            <td>≃</td>
            <td>≄	</td>
            <td>≤</td>
            <td>≥	</td>
            <td>«</td>
            <td>»</td>
            <td>¼</td>
            <td>½</td>
            <td>¾</td>
            <td>°</td>

          </tr>

          <tr>
            <td>∝</td>
            <td>∞</td>
            <td>√</td>
            <td>∛</td>
            <td>∜	</td>
            <td>£	</td>
            <td>‾</td>
            <td>∫</td>
            <td>∂	</td>
            <td>∏</td>
          </tr>
          <tr>
            <td>∠</td>
            <td>Ø</td>
            <td>Φ</td>
            <td>Ψ</td>
            <td>Ω	</td>
            <td>α	</td>
            <td>β</td>
            <td>γ</td>
            <td>δ</td>
            <td>ε</td>
          </tr>
          <tr>
            <td>ζ</td>
            <td>η</td>
            <td>Λ</td>
            <td>µ</td>
            <td>ν</td>
            <td>ξ</td>
            <td>ρ</td>
            <td>σ</td>
            <td>ς</td>
            <td>φ</td>
          </tr>
          <tr>
            <td>ψ</td>
            <td>ω</td>
            <td>º</td>
            <td>⊥</td>
            <td>∩</td>
            <td>∪</td>
            <td>⊂</td>
            <td>⊃</td>
            <td>⊆</td>
            <td>⊇</td>
          </tr>
          <tr>
            <td>ƒ</td>
            <td>∬	</td>
            <td>∭</td>
            <td>∮</td>
            <td>∯</td>
            <td>∰</td>
            <td>∈</td>
            <td>∉</td>
            <td>∋</td>
            <td>∀	</td>
          </tr>
          <tr>
            <td>¦</td>
            <td>¥	</td>
            <td>ν</td>
            <td>ϒ</td>
            <td>ß</td>
            <td>∿</td>
            <td>¢</td>
            <td>∷</td>
            <td>ϖ</td>
          </tr>
        </tbody>
      </table>
    </tab>
    <tab heading="Chemical Equations">
        <table class="mathTable">
            <tbody>
              <tr>
                <td>‖</td>
                <td>±</td>
                <td>∼</td>
                <td>≡</td>
                <td>⇔</td>
                <td>⇐</td>
                <td>⇑</td>
                <td>⇒</td>
                <td>≃</td>
                <td>⇓</td>


              </tr>

              <tr>
                <td>←	</td>
                <td>↑</td>
                <td>→	</td>
                <td>↓</td>
                <td></td>
                <td>∑</td>

                <td>⊥</td>
                <td>∆</td>
                <td>∇</td>

              </tr>

            </tbody>
          </table>
    </tab>

  </tabset>

</div>


<!-- Equation popup Answer block -->
<div class="EquationModalAB" *ngIf="openEquationAB">
  <p>Copy and Paste Symbols <span (click)="openEquationAB = false"><i class="fa fa-times"></i></span></p>
  <div class="clearfix"></div>
  <hr>
  <tabset>
    <tab heading="Mathematical Equations" id="tab1">
      <table class="mathTable">
        <tbody>
          <tr>
            <td>∑</td>
            <td>±</td>
            <td>¶</td>
            <td>π</td>
            <td>Π</td>
            <td>×</td>
            <td>÷</td>
            <td>+</td>
            <td>-</td>
            <td>‹›</td>

          </tr>
          <tr>
            <td>∼</td>
            <td>≅</td>
            <td>≈</td>
            <td>≆	</td>
            <td>≇</td>
            <td>≠</td>
            <td>≊</td>
            <td>≋</td>
            <td>≌</td>
            <td>≡</td>

          </tr>
          <tr>
            <td>≃</td>
            <td>≄	</td>
            <td>≤</td>
            <td>≥	</td>
            <td>«</td>
            <td>»</td>
            <td>¼</td>
            <td>½</td>
            <td>¾</td>
            <td>°</td>

          </tr>

          <tr>
            <td>∝</td>
            <td>∞</td>
            <td>√</td>
            <td>∛</td>
            <td>∜	</td>
            <td>£	</td>
            <td>‾</td>
            <td>∫</td>
            <td>∂	</td>
            <td>∏</td>
          </tr>
          <tr>
            <td>∠</td>
            <td>Ø</td>
            <td>Φ</td>
            <td>Ψ</td>
            <td>Ω	</td>
            <td>α	</td>
            <td>β</td>
            <td>γ</td>
            <td>δ</td>
            <td>ε</td>
          </tr>
          <tr>
            <td>ζ</td>
            <td>η</td>
            <td>Λ</td>
            <td>µ</td>
            <td>ν</td>
            <td>ξ</td>
            <td>ρ</td>
            <td>σ</td>
            <td>ς</td>
            <td>φ</td>
          </tr>
          <tr>
            <td>ψ</td>
            <td>ω</td>
            <td>º</td>
            <td>⊥</td>
            <td>∩</td>
            <td>∪</td>
            <td>⊂</td>
            <td>⊃</td>
            <td>⊆</td>
            <td>⊇</td>
          </tr>
          <tr>
            <td>ƒ</td>
            <td>∬	</td>
            <td>∭</td>
            <td>∮</td>
            <td>∯</td>
            <td>∰</td>
            <td>∈</td>
            <td>∉</td>
            <td>∋</td>
            <td>∀	</td>
          </tr>
          <tr>
            <td>¦</td>
            <td>¥	</td>
            <td>ν</td>
            <td>ϒ</td>
            <td>ß</td>
            <td>∿</td>
            <td>¢</td>
            <td>∷</td>
            <td>ϖ</td>
          </tr>
        </tbody>
      </table>
    </tab>
    <tab heading="Chemical Equations">
        <table class="mathTable">
            <tbody>
              <tr>
                <td>‖</td>
                <td>±</td>
                <td>∼</td>
                <td>≡</td>
                <td>⇔</td>
                <td>⇐</td>
                <td>⇑</td>
                <td>⇒</td>
                <td>≃</td>
                <td>⇓</td>


              </tr>

              <tr>
                <td>←	</td>
                <td>↑</td>
                <td>→	</td>
                <td>↓</td>
                <td></td>
                <td>∑</td>

                <td>⊥</td>
                <td>∆</td>
                <td>∇</td>

              </tr>

            </tbody>
          </table>
    </tab>

  </tabset>

</div>







